<!DOCTYPE HTML>
<html>

<head>
    <script>
        var timeStart = new Date();
    </script>
    <meta charset="utf-8">
    
    <title>[笔记]-String | 草木禾</title>
    
    <meta name="author" content="huangzhike">
    
    
    <meta name="description"
        content="12-31重新整理
String str1; // null
String str2 = &#34;&#34;; // 指向一个空字符串对象
String str3 = new String(); // 同上

null表示还没有new，对象的引用还没有创建，也没有分配内存空间。

&amp;quot;&amp;quot;、new">
    
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta property="og:title" content="[笔记]-String" />
    
    <meta property="og:site_name" content="草木禾" />
    
    
    <!-- favicon -->
    <link rel="icon" type="image/ico" href="/logo.ico" sizes="32x32">
    <meta name="msapplication-TileColor" content="#009688">
    <meta name="msapplication-TileImage" content="/mstile-144x144.ico">
    <meta name="theme-color" content="#009688">
    <!-- favicon end -->
    <!-- <link href="//ok.ico" rel="icon"> -->
    

    <!-- <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
    <link rel="stylesheet" href="/css/prism.css" media="screen" type="text/css">

<meta name="generator" content="Hexo 4.2.1"></head>
<body>
    <nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">菜单</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" title="早く来い、クラウド" href="/">Reunion...</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" target="_blank" rel="noopener" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

    <div class="container" >
        <div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[笔记]-String</h2>
				
				<div>
					<div class="post-time">2017-10-11</div>
				</div>
				
				<div class="article-content">
				<p><strong>12-31重新整理</strong></p>
<pre class=" language-java"><code class="language-java">String str1<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// null</span>
String str2 <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 指向一个空字符串对象</span>
String str3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 同上</span></code></pre>
<ul>
<li><p><code>null</code>表示还没有<code>new</code>，对象的引用还没有创建，也没有分配内存空间。</p>
</li>
<li><p><code>&quot;&quot;</code>、<code>new String()</code>说明已经<code>new</code>，创建了对象的引用，分配内存空间。</p>
</li>
</ul>
<pre class=" language-java"><code class="language-java">String str <span class="token operator">=</span><span class="token string">"abc"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 创建字面量字符串对象</span>
str <span class="token operator">=</span> str <span class="token operator">+</span> <span class="token string">"cde"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 内存地址断开-连接</span>
str <span class="token operator">+=</span> <span class="token string">"efg"</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-java"><code class="language-java"><span class="token string">"abc"</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 字符串字面量是有效的对象</span>
<span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
String abc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<ul>
<li><p>基本类型，<code>==</code>比较值，引用类型，<code>==</code>还比较地址。</p>
</li>
<li><p><code>Object</code>类<code>equals()</code>方法与<code>==</code>相同，但是<code>String</code>类重写了<code>equals()</code>方法。</p>
</li>
<li><p>所有对象都从<code>Object</code>类继承了<code>equals()</code>方法，默认实现是<code>==</code>，可自定义<code>equals()</code>方法。</p>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span>Object obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-java"><code class="language-java"><span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> y <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
x <span class="token operator">==</span> y <span class="token comment" spellcheck="true">// true</span>

String s <span class="token operator">=</span> <span class="token string">"o"</span><span class="token punctuation">;</span>
String h <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"o"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
s <span class="token operator">==</span> h <span class="token comment" spellcheck="true">// false</span>
s<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>

String j <span class="token operator">=</span> s<span class="token punctuation">;</span>
j <span class="token operator">==</span> s <span class="token comment" spellcheck="true">// true</span>

String a <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>
String b <span class="token operator">=</span> <span class="token string">"hell"</span> <span class="token operator">+</span> s<span class="token punctuation">;</span> 
a <span class="token operator">==</span> b <span class="token comment" spellcheck="true">// false</span>
a<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// true</span>

<span class="token comment" spellcheck="true">// 不能使用 ==判断两个字符串是否相等</span>
String str1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
String str2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

str1 <span class="token operator">==</span> str2<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// false </span>
str1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span></code></pre>
<ul>
<li><p>检查空串使用<code>if (str.length()==0)</code>或<code>if(str.equals(&quot;&quot;))</code></p>
</li>
<li><p>对象域，使用<code>equals()</code>。</p>
</li>
<li><p>数组域，使用<code>Arrays.equals()</code>。</p>
</li>
<li><p>除<code>float</code>和<code>double</code>外的原始数据类型，使用<code>==</code>。</p>
</li>
<li><p><code>float</code>类型，使用<code>Float.foatToIntBits</code>转换成<code>int</code>类型，然后用<code>==</code>。</p>
</li>
<li><p><code>double</code>类型: 使用<code>Double.doubleToLongBit</code>转换成<code>long</code>类型，然后用<code>==</code>。</p>
</li>
</ul>
<p>覆写<code>equals()</code>方法时，推荐使用<code>getClass</code>来进行类型判断，不是使用<code>instanceof</code>。</p>
<p><code>instanceof</code>的作用是判断其左边对象是否为其右边类的实例。</p>
<p><code>String</code>类为<code>final</code>，不可被继承，每个修改<code>String</code>对象的操作，都创建了一个新的<code>String</code>对象。</p>
<p>创建字符串对象时，先检查字符串池中是否存在值相等的，有则不再创建，直接返回该对象的引用，没有则创建然后放入到字符串池中并返回引用。</p>
<p>直接赋值<code>String s = &quot;a&quot;</code>，<code>String s = new String(&quot;a&quot;)</code>新建了一个<code>String</code>对象。</p>
<p><code>String</code>类不可改变，修改字符串，使用<code>StringBuffer</code>和<code>StringBuilder</code>。</p>
<p><code>StringBuffer</code>（线程不安全，能同步访问，速度快）和<code>StringBuilder</code>类的对象能被多次修改，不产生新对象。</p>
<p><code>StringBuffer</code>不能用<code>=</code>初始化，必须产生<code>StringBuffer</code>实例，通过构造方法初始化。</p>
<p>不是所有的<code>String</code>字符串操作都比<code>StringBuffer</code>慢。</p>
<pre class=" language-java"><code class="language-java">String a1 <span class="token operator">=</span> <span class="token string">"wo "</span> <span class="token operator">+</span> <span class="token string">"cnm"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// String a1 = "wo cnm" ; </span>
StringBuffer a2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token string">"wo "</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"cnm"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


        <footer>
             
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

        </footer>
    </div>
    <!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
    <script>
        var timeEnd = new Date();
        console.log('耗时：' + (timeEnd - timeStart));
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre').forEach((block) => {
                block.classList.add("line-numbers");
            });
        });
    </script>

    <script src="/js/prism.js"></script>
</body>
</html>

<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            var timeStart = new Date();
        </script>
        
        <title>[笔记]-Hibernate-查询 | 🌑🌒🌓🌔🌕🌖🌗🌘</title>
        
        <meta name="author" content="huangzhike">
        
        
        <meta name="description" content="12-28重新整理更新Hibernate笔记
Query和Criteria负责查询。
Hibernate Query Language 类似SQL，但不对表和列操作，而是面向对象和它的属性。
HQL使用类名，而不是表名。
FROM
// 加载完整对象
String hql = &#34;FROM Emplo">
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        
        <meta property="og:title" content="[笔记]-Hibernate-查询"/>
        
        <meta property="og:site_name" content="🌑🌒🌓🌔🌕🌖🌗🌘"/>
        
        
        <!-- favicon -->
        <link rel="icon" type="image/ico" href="/ok.ico" sizes="32x32">
        <meta name="msapplication-TileColor" content="#009688">
        <meta name="msapplication-TileImage" content="/mstile-144x144.ico">
        <meta name="theme-color" content="#009688">
        <!-- favicon end -->
        <!-- <link href="//ok.ico" rel="icon"> -->
        
        <!-- toc -->
        <!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
        <!-- material design -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
        <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/prism.css" media="screen" type="text/css">
        
        <!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
        <!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
    <meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">菜单</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" title="下一句是：客有可人期不来。小时候，喜欢靠在阳台上，一边吹风，一边看书，喜欢读书吗，骚年？" href="/">书当快意读易尽</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" target="_blank" rel="noopener" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

    <div class="container" >
        <div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[笔记]-Hibernate-查询</h2>
				
				<div>
					<div class="post-time">2017-12-13</div>
				</div>
				
				<div class="article-content">
				<p><strong>12-28重新整理更新Hibernate笔记</strong></p>
<p><code>Query</code>和<code>Criteria</code>负责查询。</p>
<p>Hibernate Query Language 类似SQL，但不对表和列操作，而是面向对象和它的属性。</p>
<p>HQL使用类名，而不是表名。</p>
<p>FROM</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 加载完整对象</span>
String hql <span class="token operator">=</span> <span class="token string">"FROM Employee"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// here persistent class name is Employee</span>

<span class="token comment" spellcheck="true">// 封装HQL语句</span>
Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>hql<span class="token punctuation">)</span><span class="token punctuation">;</span>

List results <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// query.uniqueResult(); 单个结果，如果有多个就会抛异常</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>Object o <span class="token operator">:</span> results<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>Arrays<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Object<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

Iterator<span class="token operator">&lt;</span>Object<span class="token operator">></span> itr <span class="token operator">=</span> results<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>itr<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Object o <span class="token operator">=</span> itr<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>AS</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 给类分配别名</span>
String hql <span class="token operator">=</span> <span class="token string">"FROM Employee AS E"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// String hql = "FROM Employee E";</span></code></pre>
<p>SELECT</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// Employee.name是Employee对象的属性，不是EMPLOYEE表的字段</span>
String hql <span class="token operator">=</span> <span class="token string">"SELECT E.name FROM Employee E"</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// hql = "SELECT e.name FROM Employee e"; // 只查询一个列，返回的集合的元素类型就是这个属性的类型</span>
<span class="token comment" spellcheck="true">// hql = "SELECT e.id, e.name FROM Employee e"; // 查询多个列，返回的集合的元素类型是Object数组</span>
<span class="token comment" spellcheck="true">// hql = "SELECT new Employee(e.id, e.name) FROM Employee e"; // 指定把查询出的部分属性封装到对象中</span></code></pre>
<p>WHERE</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 返回特定对象</span>
String hql <span class="token operator">=</span> <span class="token string">"FROM Employee E WHERE E.id = 10"</span><span class="token punctuation">;</span></code></pre>
<p>ORDER BY</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 排序</span>
String hql <span class="token operator">=</span> <span class="token string">"FROM Employee E WHERE E.id > 10 ORDER BY E.name DESC, E.salary DESC"</span><span class="token punctuation">;</span></code></pre>
<p>GROUP BY</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 编组</span>
String hql <span class="token operator">=</span> <span class="token string">"SELECT SUM(E.salary), E.name FROM Employee E GROUP BY E.name"</span><span class="token punctuation">;</span></code></pre>
<p>命名参数</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 能接受来自用户的简单输入，又无需防御 SQL 注入</span>
String hql <span class="token operator">=</span> <span class="token string">"FROM Employee E WHERE E.id = :employee_id"</span><span class="token punctuation">;</span>
Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>hql<span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token string">"employee_id"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// search with parameters whose type is collection</span>
String hql<span class="token operator">=</span> <span class="token string">"select e.id, e.name from Employee e where id in (:ids)"</span><span class="token punctuation">;</span>
Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>hql<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setParameterList</span><span class="token punctuation">(</span><span class="token string">"ids"</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// public Query setParameter(String name, Object value) 它将该值设置为命名查询参数</span></code></pre>
<pre class=" language-java"><code class="language-java">String hql<span class="token operator">=</span> <span class="token string">"select e.id, e.name from Employee e where id >= ? and id &lt;= ?"</span><span class="token punctuation">;</span>
Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>hql<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// public Query setParameter(int position, Object value) 它将该值设置为JDBC样式查询参数</span></code></pre>
<p>UPDATE</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 更新一个或多个对象的一个或多个属性</span>
String hql <span class="token operator">=</span> <span class="token string">"UPDATE Employee set salary = :salary WHERE id = :employee_id"</span><span class="token punctuation">;</span>
Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>hql<span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token string">"employee_id"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 表示影响了多少行</span>
<span class="token keyword">int</span> result <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>DELETE</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 删除对象</span>
String hql <span class="token operator">=</span> <span class="token string">"DELETE FROM Employee WHERE id = :employee_id"</span><span class="token punctuation">;</span>
Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>hql<span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token string">"employee_id"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> result <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>INSERT</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 只有当记录从一个对象插入到另一个对象时才支持 INSERT INTO</span>
String hql <span class="token operator">=</span> <span class="token string">"INSERT INTO Employee(name, salary) SELECT name, salary FROM old_employee"</span><span class="token punctuation">;</span>
Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>hql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> result <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>聚合函数</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 获得所有员工总薪酬</span>
Query q <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span><span class="token string">"select sum(salary) from Employee"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
List<span class="token operator">&lt;</span>Integer<span class="token operator">></span> list <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 获得员工最高工资</span>
select <span class="token function">max</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> from Employee

<span class="token comment" spellcheck="true">// 获得员工最低工资</span>
select <span class="token function">min</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> from Employee

<span class="token comment" spellcheck="true">// 获得员工的平均工资</span>
select <span class="token function">avg</span><span class="token punctuation">(</span>salary<span class="token punctuation">)</span> from Employee

<span class="token comment" spellcheck="true">// 计算雇员ID总数</span>
select <span class="token function">count</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> from Employee

<span class="token comment" spellcheck="true">// distinct 关键字表示只计算行集中的唯一值</span>
select <span class="token function">count</span><span class="token punctuation">(</span>distinct E<span class="token punctuation">.</span>name<span class="token punctuation">)</span> FROM Employee E</code></pre>
<p>分页</p>
<pre class=" language-java"><code class="language-java">Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span><span class="token string">"FROM Employee"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">setFirstResult</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">setMaxResult</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 检索固定数量</span>
List list <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// will return the records from 5 to 10th number</span></code></pre>
<p>DML语句</p>
<pre class=" language-java"><code class="language-java">Employee e <span class="token operator">=</span> <span class="token punctuation">(</span>Employee<span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

String hql <span class="token operator">=</span> <span class="token string">"update Employee set name = ? where id > ?"</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> result <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createQuery</span><span class="token punctuation">(</span>hql<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">"updated"</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 和基1的PreparedStatement不一样，Query是基0的</span>
System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"count of update:"</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// update与delete，不会通知Session缓存，需要refresh</span>
session<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<hr>
<p>Hibernate标准(Criteria)查询语言HCQL：返回一个持久化对象的类的实例。</p>
<pre class=" language-java"><code class="language-java">Criteria cr <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span>Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 添加一个限制，返回工资等于 2000 的</span>
cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// salary more than 2000</span>
cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">gt</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">lt</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// Name starting with zara</span>
cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"zara%"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// Case sensitive form of the above restriction</span>
cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">ilike</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"zara%"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">isNotNull</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

List results <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>AND OR</p>
<pre class=" language-java"><code class="language-java">Criteria cr <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span>Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Criterion salary <span class="token operator">=</span> Restrictions<span class="token punctuation">.</span><span class="token function">gt</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Criterion name <span class="token operator">=</span> Restrictions<span class="token punctuation">.</span><span class="token function">ilike</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> `<span class="token string">"zara%"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// To get records matching with OR condistions</span>
LogicalExpression orExp <span class="token operator">=</span> Restrictions<span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span>salary<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>orExp<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// To get records matching with AND condistions</span>
LogicalExpression andExp <span class="token operator">=</span> Restrictions<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>salary<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>andExp<span class="token punctuation">)</span><span class="token punctuation">;</span>

List results <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>分页</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 一次取出 10 行</span>
Criteria cr <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span>Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">setFirstResult</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 从第1条数据开始</span>
cr<span class="token punctuation">.</span><span class="token function">setMaxResults</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 一共查询10条数据</span>
List results <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>排序结果</p>
<pre class=" language-java"><code class="language-java">Criteria cr <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span>Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>Restrictions<span class="token punctuation">.</span><span class="token function">gt</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 根据对象的属性排列</span>
<span class="token comment" spellcheck="true">// To sort records in descening order</span>
crit<span class="token punctuation">.</span><span class="token function">addOrder</span><span class="token punctuation">(</span>Order<span class="token punctuation">.</span><span class="token function">desc</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// To sort records in ascending order</span>
crit<span class="token punctuation">.</span><span class="token function">addOrder</span><span class="token punctuation">(</span>Order<span class="token punctuation">.</span><span class="token function">asc</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

List results <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>投影</p>
<p><code>Projections</code>类与<code>Restrictions</code>类相似，均提供了静态工厂方法。</p>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// 仅打印表的name列的数据</span>
Criteria cr <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span>Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cr<span class="token punctuation">.</span><span class="token function">setProjection</span><span class="token punctuation">(</span>Projections<span class="token punctuation">.</span><span class="token function">property</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
List list <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-java"><code class="language-java">Criteria cr <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createCriteria</span><span class="token punctuation">(</span>Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// To get total row count.</span>
cr<span class="token punctuation">.</span><span class="token function">setProjection</span><span class="token punctuation">(</span>Projections<span class="token punctuation">.</span><span class="token function">rowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
List rowCount <span class="token operator">=</span> cr<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Total Coint: "</span> <span class="token operator">+</span> rowCount<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class=" language-java"><code class="language-java"><span class="token comment" spellcheck="true">// To get average of a property.</span>
cr<span class="token punctuation">.</span><span class="token function">setProjection</span><span class="token punctuation">(</span>Projections<span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// To get distinct count of a property.</span>
cr<span class="token punctuation">.</span><span class="token function">setProjection</span><span class="token punctuation">(</span>Projections<span class="token punctuation">.</span><span class="token function">countDistinct</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// To get maximum of a property.</span>
cr<span class="token punctuation">.</span><span class="token function">setProjection</span><span class="token punctuation">(</span>Projections<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// To get minimum of a property.</span>
cr<span class="token punctuation">.</span><span class="token function">setProjection</span><span class="token punctuation">(</span>Projections<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// To get sum of a property.</span>
cr<span class="token punctuation">.</span><span class="token function">setProjection</span><span class="token punctuation">(</span>Projections<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>常用的<code>Criteria</code>接口方法如下：</p>
<ul>
<li><code>public Criteria add(Criterion c)</code> 用于添加限制(条件)。</li>
<li><code>public Criteria addOrder(Order o)</code> 指定排序顺序。</li>
<li><code>public Criteria setFirstResult(int firstResult)</code> 指定要检索的第一个记录数。</li>
<li><code>public Criteria setMaxResult(int totalResult)</code> 指定要检索的记录总数。</li>
<li><code>public List list()</code> 返回包含对象的列表。</li>
<li><code>public Criteria setProjection(Projection projection)</code> 指定投影。</li>
</ul>
<hr>
<p>原生SQL：<code>createSQLQuery()</code>方法创建原生SQL查询</p>
<p>标准SQL可能返回各种结果，不能保证能装进一个对象中，所以返回的集合里的每一个元素是一个对象数组，通过下标取出。</p>
<p>标量查询</p>
<pre class=" language-java"><code class="language-java">String sql <span class="token operator">=</span> <span class="token string">"SELECT name, salary FROM EMPLOYEE"</span><span class="token punctuation">;</span>
SQLQuery query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createSQLQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 返回结果集中的原始值</span>
query<span class="token punctuation">.</span><span class="token function">setResultTransformer</span><span class="token punctuation">(</span>Criteria<span class="token punctuation">.</span>ALIAS_TO_ENTITY_MAP<span class="token punctuation">)</span><span class="token punctuation">;</span>
List results <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>Object object <span class="token operator">:</span> results<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Map row <span class="token operator">=</span> <span class="token punctuation">(</span>Map<span class="token punctuation">)</span> object<span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Salary: "</span> <span class="token operator">+</span> row<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">"salary"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>实体查询</p>
<pre class=" language-java"><code class="language-java">String sql <span class="token operator">=</span> <span class="token string">"SELECT * FROM EMPLOYEE"</span><span class="token punctuation">;</span>
SQLQuery query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createSQLQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 获取实体对象整体</span>
query<span class="token punctuation">.</span><span class="token function">addEntity</span><span class="token punctuation">(</span>Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
List employees <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>Iterator iterator <span class="token operator">=</span> employees<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Employee employee <span class="token operator">=</span> <span class="token punctuation">(</span>Employee<span class="token punctuation">)</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Salary: "</span> <span class="token operator">+</span> employee<span class="token punctuation">.</span><span class="token function">getSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>指定SQL查询</p>
<pre class=" language-java"><code class="language-java">String sql <span class="token operator">=</span> <span class="token string">"SELECT * FROM EMPLOYEE WHERE id = :employee_id"</span><span class="token punctuation">;</span>
SQLQuery query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">createSQLQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">addEntity</span><span class="token punctuation">(</span>Employee<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">setParameter</span><span class="token punctuation">(</span><span class="token string">"employee_id"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
List results <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<hr>
<p>定义命名查询有两种方法：</p>
<ul>
<li>通过注释</li>
<li>通过映射文件</li>
</ul>
<p>通过注释命名查询</p>
<ul>
<li><code>@NameQueries</code>注释定义多个命名查询。</li>
<li><code>@NameQuery</code>注释定义单个命名查询。</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token keyword">package</span> mmp<span class="token punctuation">.</span>model<span class="token punctuation">;</span>

<span class="token keyword">import</span> javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token annotation punctuation">@NamedQueries</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token annotation punctuation">@NamedQuery</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"findEmployeeByName"</span><span class="token punctuation">,</span> query <span class="token operator">=</span> <span class="token string">"from Employee e where e.name = :name"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"EMPLOYEE"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> GenerationType<span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>
    <span class="token keyword">int</span> id<span class="token punctuation">;</span>
    String name<span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// ...</span>
<span class="token punctuation">}</span></code></pre>
<p>hibernate.cfg.xml</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapping</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mmp.model.Employee<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></code></pre>
<p>通过XML映射文件命名查询</p>
<p>Employee.hbm.xml</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hibernate-mapping</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>class</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mmp.model.Employee<span class="token punctuation">"</span></span> <span class="token attr-name">table</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>EMPLOYEE<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generator</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>native<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generator</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>salary<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>class</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!-- 定义命名查询 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>query</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>findEmployeeByName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>from Employee e where e.name = :name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>query</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hibernate-mapping</span><span class="token punctuation">></span></span></code></pre>
<p>hibernate.cfg.xml</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapping</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Employee.hbm.xml<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span></code></pre>
<pre class=" language-java"><code class="language-java">Employee e1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
e1<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"Maxsu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>e1<span class="token punctuation">)</span><span class="token punctuation">;</span>

tx<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// getNamedQuery方法使用命名查询并返回Query的实例</span>
Query query <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getNamedQuery</span><span class="token punctuation">(</span><span class="token string">"findEmployeeByName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
query<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"Maxsu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

List<span class="token operator">&lt;</span>Employee<span class="token operator">></span> employees <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Iterator<span class="token operator">&lt;</span>Employee<span class="token operator">></span> itr <span class="token operator">=</span> employees<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span> <span class="token punctuation">(</span>itr<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Employee e <span class="token operator">=</span> itr<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


        <footer>
             
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

        </footer>
    </div>
    <!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
    <script>
        var timeEnd = new Date();
        console.log('耗时：' + (timeEnd - timeStart));
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre').forEach((block) => {
                block.classList.add("line-numbers");
            });
        });
    </script>
    <!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
    <!-- material design -->
    <!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
    <!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
    <!-- toc -->
    <!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
    <!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
    <!-- <script src="/js/main.js"></script> -->
    <script src="/js/prism.js"></script>
</body>
</html>

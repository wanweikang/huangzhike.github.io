<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		
		<title>[笔记]-JDBC-复习 | 一个放笔记的地方而已</title>
		
		<meta name="author" content="Huangzhike">
		
		
		<meta name="description" content="用手记笔记，用心记笔记，用脑记笔记">
		
		
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		
		<meta property="og:title" content="[笔记]-JDBC-复习"/>
		
		<meta property="og:site_name" content="一个放笔记的地方而已"/>
		
		
		<!-- favicon -->
		<link rel="icon" type="image/ico" href="/favicon.ico" sizes="32x32">
		<link rel="manifest" href="/manifest.json">
		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.ico">
		<meta name="theme-color" content="#009688">
		<script>var timeStart = new Date();</script>
		<!-- favicon end -->
		<!-- <link href="//favicon.ico" rel="icon"> -->
		
		<!-- toc -->
		<!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
		<!-- material design -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
		<link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
		
		
		<!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
		<!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
	</head>

<body>
	<nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">菜单</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">一个放笔记的地方而已</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/" title="">
						<i class="fa fa-home"></i>首页
					</a>
				</li>
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>存档
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" title="我的主页">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

	<div class="container" >
		<div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[笔记]-JDBC-复习</h2>
				
				<div>
					<span class="post-time">2017-11-27 16:35</span>
				</div>	
				
				<div class="article-content">
				<table>
<thead>
<tr>
<th>SQL</th>
<th>JDBC/Java</th>
<th>setXXX</th>
<th>updateXXX</th>
</tr>
</thead>
<tbody>
<tr>
<td>VARCHAR</td>
<td>java.lang.String</td>
<td>setString</td>
<td>updateString</td>
</tr>
<tr>
<td>CHAR</td>
<td>java.lang.String</td>
<td>setString</td>
<td>updateString</td>
</tr>
<tr>
<td>LONGVARCHAR</td>
<td>java.lang.String</td>
<td>setString</td>
<td>updateString</td>
</tr>
<tr>
<td>BIT</td>
<td>boolean</td>
<td>setBoolean</td>
<td>updateBoolean</td>
</tr>
<tr>
<td>NUMERIC</td>
<td>java.math.BigDecimal</td>
<td>setBigDecimal</td>
<td>updateBigDecimal</td>
</tr>
<tr>
<td>TINYINT</td>
<td>byte</td>
<td>setByte</td>
<td>updateByte</td>
</tr>
<tr>
<td>SMALLINT</td>
<td>short</td>
<td>setShort</td>
<td>updateShort</td>
</tr>
<tr>
<td>INTEGER</td>
<td>int</td>
<td>setInt</td>
<td>updateInt</td>
</tr>
<tr>
<td>BIGINT</td>
<td>long</td>
<td>setLong</td>
<td>updateLong</td>
</tr>
<tr>
<td>REAL</td>
<td>float</td>
<td>setFloat</td>
<td>updateFloat</td>
</tr>
<tr>
<td>FLOAT</td>
<td>float</td>
<td>setFloat</td>
<td>updateFloat</td>
</tr>
<tr>
<td>DOUBLE</td>
<td>double</td>
<td>setDouble</td>
<td>updateDouble</td>
</tr>
<tr>
<td>VARBINARY</td>
<td>byte[]</td>
<td>setBytes</td>
<td>updateBytes</td>
</tr>
<tr>
<td>BINARY</td>
<td>byte[]</td>
<td>setBytes</td>
<td>updateBytes</td>
</tr>
<tr>
<td>DATE</td>
<td>java.sql.Date</td>
<td>setDate</td>
<td>updateDate</td>
</tr>
<tr>
<td>TIME</td>
<td>java.sql.Time</td>
<td>setTime</td>
<td>updateTime</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>java.sql.Timestamp</td>
<td>setTimestamp</td>
<td>updateTimestamp</td>
</tr>
<tr>
<td>CLOB</td>
<td>java.sql.Clob</td>
<td>setClob</td>
<td>updateClob</td>
</tr>
<tr>
<td>BLOB</td>
<td>java.sql.Blob</td>
<td>setBlob</td>
<td>updateBlob</td>
</tr>
<tr>
<td>ARRAY</td>
<td>java.sql.Array</td>
<td>setARRAY</td>
<td>updateARRAY</td>
</tr>
<tr>
<td>REF</td>
<td>java.sql.Ref</td>
<td>SetRef</td>
<td>updateRef</td>
</tr>
<tr>
<td>STRUCT</td>
<td>java.sql.Struct</td>
<td>SetStruct</td>
<td>updateStruct</td>
</tr>
</tbody>
</table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> EMP;</div><div class="line"></div><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Employees</div><div class="line">(</div><div class="line">	<span class="keyword">id</span> <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</div><div class="line">	age <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</div><div class="line">	<span class="keyword">first</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</div><div class="line">	<span class="keyword">last</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>),</div><div class="line">	PRIMARY <span class="keyword">KEY</span> (<span class="keyword">id</span>)</div><div class="line">);</div><div class="line"></div><div class="line"><span class="comment">-- DROP TABLE Employees;</span></div><div class="line"></div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> Employees <span class="keyword">VALUES</span> (<span class="number">100</span>, <span class="number">18</span>, <span class="string">'Max'</span>, <span class="string">'Su'</span>);</div><div class="line"></div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">first</span>, <span class="keyword">last</span>, age <span class="keyword">FROM</span> Employees <span class="keyword">WHERE</span> <span class="keyword">id</span> = <span class="number">100</span>;</div><div class="line"></div><div class="line"><span class="comment">-- 从Employees表中选择：age, first 和 last 列，其中first列包含Max</span></div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">first</span>, <span class="keyword">last</span>, age <span class="keyword">FROM</span> Employees <span class="keyword">WHERE</span> <span class="keyword">first</span> <span class="keyword">LIKE</span> <span class="string">'%Max%'</span>;</div><div class="line"></div><div class="line"><span class="keyword">UPDATE</span> Employees <span class="keyword">SET</span> age = <span class="number">20</span> <span class="keyword">WHERE</span> <span class="keyword">id</span> = <span class="number">100</span>;</div><div class="line"></div><div class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> Employees <span class="keyword">WHERE</span> <span class="keyword">id</span> = <span class="number">100</span>;</div></pre></td></tr></table></figure>
<p>Statement对象执行一个SQL语句，有三个执行方法。</p>
<ul>
<li><code>boolean execute (String SQL)</code> ： 检索到ResultSet对象，返回布尔值true; 否则false。</li>
<li><code>int executeUpdate (String SQL)</code>: 返回受SQL语句执行影响的行数。如:INSERT，UPDATE或DELETE。</li>
<li><code>ResultSet executeQuery(String SQL)</code>：返回一个ResultSet对象。</li>
</ul>
<p>PreparedStatement对象<br><figure class="highlight dart"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">PreparedStatement pstmt = <span class="keyword">null</span>;</div><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">	<span class="built_in">String</span> SQL = <span class="string">"Update Employees SET age = ? WHERE id = ?"</span>;</div><div class="line">	pstmt = conn.prepareStatement(SQL);</div><div class="line">&#125; <span class="keyword">catch</span>(SQLException e) &#123;</div><div class="line">&#125;</div><div class="line"><span class="keyword">finally</span> &#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>参数标记是顺序位置引用。由1开始，与索引不同(它不从0开始)。</p>
<p>java.sql.Date类映射到SQL DATE类型，java.sql.Time和java.sql.Timestamp类分别映射到SQL TIME和SQL TIMESTAMP数据类型。<br><figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SqlDateTime</span> &#123;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span>(<span class="params">String[] args</span>) </span>&#123;</div><div class="line">		<span class="comment">// Get standard date and time</span></div><div class="line">		java.util.Date javaDate = <span class="keyword">new</span> java.util.Date();</div><div class="line">		<span class="keyword">long</span> javaTime = javaDate.getTime();</div><div class="line">		System.<span class="keyword">out</span>.println(<span class="string">"The Java Date is:"</span> + javaDate.toString());</div><div class="line">		<span class="comment">// Get and display SQL DATE</span></div><div class="line">		java.sql.Date sqlDate = <span class="keyword">new</span> java.sql.Date(javaTime);</div><div class="line">		System.<span class="keyword">out</span>.println(<span class="string">"The SQL DATE is: "</span> + sqlDate.toString());</div><div class="line">		<span class="comment">// Get and display SQL TIME</span></div><div class="line">		java.sql.Time sqlTime = <span class="keyword">new</span> java.sql.Time(javaTime);</div><div class="line">		System.<span class="keyword">out</span>.println(<span class="string">"The SQL TIME is: "</span> + sqlTime.toString());</div><div class="line">		<span class="comment">// Get and display SQL TIMESTAMP</span></div><div class="line">		java.sql.Timestamp sqlTimestamp = <span class="keyword">new</span> java.sql.Timestamp(javaTime);</div><div class="line">		System.<span class="keyword">out</span>.println(<span class="string">"The SQL TIMESTAMP is: "</span> + sqlTimestamp.toString());</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>SQL使用NULL值和Java使用null是不同的概念，在Java中处理SQL NULL值：</p>
<ul>
<li>避免使用返回原始类型的getXXX()方法。</li>
<li>对原始数据类型使用包装类，并使用ResultSet对象的wasNull()方法来测试接收getXXX()方法的返回值的包装器类变量是否应设置为null。</li>
<li>使用原始数据类型和ResultSet对象的wasNull()方法来测试接收到由getXXX()方法返回的值的原始变量是否应设置为表示NULL的可接受值。</li>
</ul>
<figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Statement <span class="attr">stmt</span> = conn.createStatement();</div><div class="line">String <span class="attr">sql</span> = <span class="string">"SELECT id, first, last, age FROM Employees"</span>;</div><div class="line">ResultSet <span class="attr">rs</span> = stmt.executeQuery(sql);</div><div class="line"></div><div class="line">int <span class="attr">id</span> = rs.getInt(<span class="number">1</span>);</div><div class="line"><span class="keyword">if</span>(rs.wasNull()) &#123;</div><div class="line">	<span class="attr">id</span> = <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果处于自动提交模式，默认每个SQL语句完成后都会提交。<br>关闭自动提交并管理事务三个原因：</p>
<ul>
<li>提高性能</li>
<li>保持业务流程的完整性</li>
<li>使用分布式事务</li>
</ul>
<p>事务能够控制何时更改提交并应用于数据库。 它将单个SQL语句或一组SQL语句视为一个逻辑单元，如果任何语句失败，整个事务将失败。<br>启用手动事务支持，而不是JDBC默认的自动提交模式，调用Connection对象的setAutoCommit()方法。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">	<span class="comment">// Assume a valid connection object conn</span></div><div class="line">	conn.setAutoCommit(<span class="keyword">false</span>);</div><div class="line">	Statement stmt = conn.createStatement();</div><div class="line"></div><div class="line">	<span class="built_in">String</span> SQL = <span class="string">"INSERT INTO Employees VALUES (106, 20, 'Rita', 'Tez')"</span>;</div><div class="line">	stmt.executeUpdate(SQL);  </div><div class="line">	<span class="comment">// Submit a malformed SQL statement that breaks</span></div><div class="line">	<span class="built_in">String</span> SQL = <span class="string">"INSERTED IN Employees VALUES (107, 22, 'Sita', 'Singh')"</span>;</div><div class="line">	stmt.executeUpdate(SQL);</div><div class="line">	<span class="comment">// If there is no error.</span></div><div class="line">	conn.commit();</div><div class="line">&#125; <span class="keyword">catch</span>(SQLException se) &#123;</div><div class="line">	<span class="comment">// If there is any error.</span></div><div class="line">	conn.rollback();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上述INSERT语句不会成功执行，因为所有操作都被回滚了。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span> &#123;</div><div class="line">	<span class="comment">// Assume a valid connection object conn</span></div><div class="line">	conn.setAutoCommit(<span class="keyword">false</span>);</div><div class="line">	Statement stmt = conn.createStatement();</div><div class="line"></div><div class="line">	<span class="comment">// set a Savepoint</span></div><div class="line">	Savepoint savepoint1 = conn.setSavepoint(<span class="string">"Savepoint1"</span>);</div><div class="line">	<span class="built_in">String</span> SQL = <span class="string">"INSERT INTO Employees VALUES (106, 24, 'Curry', 'Stephen')"</span>;</div><div class="line">	stmt.executeUpdate(SQL);  </div><div class="line">	<span class="comment">// Submit a malformed SQL statement that breaks</span></div><div class="line">	<span class="built_in">String</span> SQL = <span class="string">"INSERTED IN Employees VALUES (107, 32, 'Kobe', 'Bryant')"</span>;</div><div class="line">	stmt.executeUpdate(SQL);</div><div class="line">	<span class="comment">// If there is no error, commit the changes.</span></div><div class="line">	conn.commit();</div><div class="line"></div><div class="line">&#125; <span class="keyword">catch</span>(SQLException se) &#123;</div><div class="line">	<span class="comment">// If there is any error.</span></div><div class="line">	conn.rollback(savepoint1);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上述INSERT语句都不会成功，因为所有操作都被回滚了。</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 话说这是外国人写的吗，英文感觉不对啊</span></div><div class="line"><span class="keyword">public</span> class JDBCSavepoint &#123;</div><div class="line">	<span class="comment">// JDBC driver name and database URL</span></div><div class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> JDBC_DRIVER = <span class="string">"com.mysql.jdbc.Driver"</span>;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> DB_URL = <span class="string">"jdbc:mysql://localhost/EMP"</span>;</div><div class="line"></div><div class="line">	<span class="comment">// Database credentials</span></div><div class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> USER = <span class="string">"root"</span>;</div><div class="line">	<span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">String</span> PASS = <span class="string">"123456"</span>;</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</div><div class="line">		Connection conn = <span class="keyword">null</span>;</div><div class="line">		Statement stmt = <span class="keyword">null</span>;</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="comment">// STEP 2: Register JDBC driver</span></div><div class="line">			Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</div><div class="line"></div><div class="line">			<span class="comment">// STEP 3: Open a connection</span></div><div class="line">			System.out.<span class="built_in">println</span>(<span class="string">"Connecting to database..."</span>);</div><div class="line">			conn = DriverManager.getConnection(DB_URL, USER, PASS);</div><div class="line"></div><div class="line">			<span class="comment">// STEP 4: Set auto commit as false.</span></div><div class="line">			conn.setAutoCommit(<span class="keyword">false</span>);</div><div class="line"></div><div class="line">			<span class="comment">// STEP 5: Execute a query to delete statment with</span></div><div class="line">			<span class="comment">// required arguments for RS example.</span></div><div class="line">			System.out.<span class="built_in">println</span>(<span class="string">"Creating statement..."</span>);</div><div class="line">			stmt = conn.createStatement();</div><div class="line"></div><div class="line">			<span class="comment">// STEP 6: Now list all the available records.</span></div><div class="line">			<span class="keyword">String</span> sql = <span class="string">"SELECT id, first, last, age FROM Employees"</span>;</div><div class="line">			ResultSet rs = stmt.executeQuery(sql);</div><div class="line">			System.out.<span class="built_in">println</span>(<span class="string">"List result set for reference...."</span>);</div><div class="line">			printRs(rs);</div><div class="line"></div><div class="line">			<span class="comment">// STEP 7: delete rows having ID grater than 104</span></div><div class="line">			<span class="comment">// But save point before doing so.</span></div><div class="line">			Savepoint savepoint1 = conn.setSavepoint(<span class="string">"ROWS_DELETED_1"</span>);</div><div class="line">			System.out.<span class="built_in">println</span>(<span class="string">"Deleting row...."</span>);</div><div class="line">			<span class="keyword">String</span> SQL = <span class="string">"DELETE FROM Employees "</span> + <span class="string">"WHERE ID = 106"</span>;</div><div class="line">			stmt.executeUpdate(SQL);</div><div class="line">			<span class="comment">// oops... we deleted too wrong employees!</span></div><div class="line">			<span class="comment">// STEP 8: Rollback the changes afetr save point 2.</span></div><div class="line">			conn.rollback(savepoint1);</div><div class="line"></div><div class="line">			<span class="comment">// STEP 9: delete rows having ID grater than 104</span></div><div class="line">			<span class="comment">// But save point before doing so.</span></div><div class="line">			Savepoint savepoint2 = conn.setSavepoint(<span class="string">"ROWS_DELETED_2"</span>);</div><div class="line">			System.out.<span class="built_in">println</span>(<span class="string">"Deleting row...."</span>);</div><div class="line">			SQL = <span class="string">"DELETE FROM Employees "</span> + <span class="string">"WHERE ID = 107"</span>;</div><div class="line">			stmt.executeUpdate(SQL);</div><div class="line"></div><div class="line">			<span class="comment">// STEP 10: Now list all the available records.</span></div><div class="line">			sql = <span class="string">"SELECT id, first, last, age FROM Employees"</span>;</div><div class="line">			rs = stmt.executeQuery(sql);</div><div class="line">			System.out.<span class="built_in">println</span>(<span class="string">"List result set for reference...."</span>);</div><div class="line">			printRs(rs);</div><div class="line"></div><div class="line">			<span class="comment">// STEP 10: Clean-up environment</span></div><div class="line">			rs.close();</div><div class="line">			stmt.close();</div><div class="line">			conn.close();</div><div class="line">		&#125; <span class="keyword">catch</span> (SQLException se) &#123;</div><div class="line">			<span class="comment">// Handle errors for JDBC</span></div><div class="line">			se.printStackTrace();</div><div class="line">			<span class="comment">// If there is an error then rollback the changes.</span></div><div class="line">			System.out.<span class="built_in">println</span>(<span class="string">"Rolling back data here...."</span>);</div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				<span class="keyword">if</span> (conn != <span class="keyword">null</span>)</div><div class="line">					conn.rollback();</div><div class="line">			&#125; <span class="keyword">catch</span> (SQLException se2) &#123;</div><div class="line">				se2.printStackTrace();</div><div class="line">			&#125; <span class="comment">// end try</span></div><div class="line"></div><div class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</div><div class="line">			<span class="comment">// Handle errors for Class.forName</span></div><div class="line">			e.printStackTrace();</div><div class="line">		&#125; <span class="keyword">finally</span> &#123;</div><div class="line">			<span class="comment">// finally block used to close resources</span></div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				<span class="keyword">if</span> (stmt != <span class="keyword">null</span>)</div><div class="line">					stmt.close();</div><div class="line">			&#125; <span class="keyword">catch</span> (SQLException se2) &#123;</div><div class="line">			&#125; <span class="comment">// nothing we can do</span></div><div class="line">			<span class="keyword">try</span> &#123;</div><div class="line">				<span class="keyword">if</span> (conn != <span class="keyword">null</span>)</div><div class="line">					conn.close();</div><div class="line">			&#125; <span class="keyword">catch</span> (SQLException se) &#123;</div><div class="line">				se.printStackTrace();</div><div class="line">			&#125; <span class="comment">// end finally try</span></div><div class="line">		&#125; <span class="comment">// end try</span></div><div class="line">		System.out.<span class="built_in">println</span>(<span class="string">"Goodbye!"</span>);</div><div class="line">	&#125; <span class="comment">// end main</span></div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> printRs(ResultSet rs) <span class="keyword">throws</span> SQLException &#123;</div><div class="line">		<span class="comment">// Ensure we start with first row</span></div><div class="line">		rs.beforeFirst();</div><div class="line">		<span class="keyword">while</span> (rs.next()) &#123;</div><div class="line">			<span class="comment">// Retrieve by column name</span></div><div class="line">			<span class="built_in">int</span> id = rs.getInt(<span class="string">"id"</span>);</div><div class="line">			<span class="built_in">int</span> age = rs.getInt(<span class="string">"age"</span>);</div><div class="line">			<span class="keyword">String</span> first = rs.getString(<span class="string">"first"</span>);</div><div class="line">			<span class="keyword">String</span> last = rs.getString(<span class="string">"last"</span>);</div><div class="line"></div><div class="line">			<span class="comment">// Display values</span></div><div class="line">			System.out.<span class="built_in">print</span>(<span class="string">"ID: "</span> + id);</div><div class="line">			System.out.<span class="built_in">print</span>(<span class="string">", Age: "</span> + age);</div><div class="line">			System.out.<span class="built_in">print</span>(<span class="string">", First: "</span> + first);</div><div class="line">			System.out.<span class="built_in">println</span>(<span class="string">", Last: "</span> + last);</div><div class="line">		&#125;</div><div class="line">		System.out.<span class="built_in">println</span>();</div><div class="line">	&#125; <span class="comment">// end printRs()</span></div><div class="line">&#125; <span class="comment">// end JDBCExample</span></div></pre></td></tr></table></figure>
<p>上面代码中只回滚到保存点(ROWS_DELETED_1)，所以ID为106的这一行记录没有被删除，而ID为107的记录因为没有设置回滚点，直接提交删除了。</p>
<p>批量处理允许将相关的SQL语句分组到批处理中，并通过对数据库的一次调用来提交它们，一次执行完成与数据库之间的交互。<br>一次向数据库发送多个SQL语句时，可以减少通信开销，提高性能。</p>
<p>使用Statement对象进行批处理</p>
<ul>
<li>使用createStatement()方法创建Statement对象。</li>
<li>使用setAutoCommit()将自动提交设置为false。</li>
<li>使用addBatch()方法在创建的Statement对象上添加SQL语句到批处理中。</li>
<li>在创建的Statement对象上使用executeBatch()方法执行所有SQL语句。</li>
<li>使用commit()方法提交所有更改。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">// <span class="keyword">Create</span> <span class="keyword">statement</span> <span class="keyword">object</span></div><div class="line"><span class="keyword">Statement</span> stmt = conn.createStatement();</div><div class="line"></div><div class="line">// <span class="keyword">Set</span> <span class="keyword">auto</span>-<span class="keyword">commit</span> <span class="keyword">to</span> <span class="literal">false</span></div><div class="line">conn.setAutoCommit(<span class="literal">false</span>);</div><div class="line"></div><div class="line">// <span class="keyword">Create</span> <span class="keyword">SQL</span> <span class="keyword">statement</span></div><div class="line"><span class="keyword">String</span> <span class="keyword">SQL</span> = <span class="string">"INSERT INTO Employees (id, first, last, age) VALUES(200,'Ruby', 'Yang', 30)"</span>;</div><div class="line">// Add above SQL statement in the batch.</div><div class="line">stmt.addBatch(SQL);</div><div class="line"></div><div class="line">// <span class="keyword">Create</span> one more <span class="keyword">SQL</span> <span class="keyword">statement</span></div><div class="line"><span class="keyword">String</span> <span class="keyword">SQL</span> = <span class="string">"INSERT INTO Employees (id, first, last, age) VALUES(201,'Java', 'Lee', 35)"</span>;</div><div class="line">// Add above SQL statement in the batch.</div><div class="line">stmt.addBatch(SQL);</div><div class="line"></div><div class="line">// <span class="keyword">Create</span> one more <span class="keyword">SQL</span> <span class="keyword">statement</span></div><div class="line"><span class="keyword">String</span> <span class="keyword">SQL</span> = <span class="string">"UPDATE Employees SET age = 35 WHERE id = 100"</span>;</div><div class="line">// Add above SQL statement in the batch.</div><div class="line">stmt.addBatch(SQL);</div><div class="line"></div><div class="line">// <span class="keyword">Create</span> an <span class="built_in">int</span>[] <span class="keyword">to</span> hold returned <span class="keyword">values</span></div><div class="line"><span class="built_in">int</span>[] <span class="keyword">count</span> = stmt.executeBatch();</div><div class="line"></div><div class="line">// Explicitly <span class="keyword">commit</span> statements <span class="keyword">to</span> <span class="keyword">apply</span> changes</div><div class="line">conn.commit();</div></pre></td></tr></table></figure>
<p>使用PrepareStatement对象进行批处理</p>
<ul>
<li>使用占位符创建SQL语句。</li>
<li>使用prepareStatement()方法创建PrepareStatement对象。</li>
<li>使用setAutoCommit()将自动提交设置为false。</li>
<li>使用addBatch()方法在创建的Statement对象上添加SQL语句到批处理中。</li>
<li>在创建的Statement对象上使用executeBatch()方法执行所有SQL语句。</li>
<li>使用commit()方法提交所有更改。</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">// <span class="keyword">Create</span> <span class="keyword">SQL</span> <span class="keyword">statement</span></div><div class="line"><span class="keyword">String</span> <span class="keyword">SQL</span> = <span class="string">"INSERT INTO Employees (id, first, last, age) VALUES(?, ?, ?, ?)"</span>;</div><div class="line"></div><div class="line">// <span class="keyword">Create</span> PrepareStatement <span class="keyword">object</span></div><div class="line">PreparedStatemen pstmt = conn.prepareStatement(<span class="keyword">SQL</span>);</div><div class="line"></div><div class="line">//<span class="keyword">Set</span> <span class="keyword">auto</span>-<span class="keyword">commit</span> <span class="keyword">to</span> <span class="literal">false</span></div><div class="line">conn.setAutoCommit(<span class="literal">false</span>);</div><div class="line"></div><div class="line">// <span class="keyword">Set</span> the <span class="keyword">variables</span></div><div class="line">pstmt.setInt(<span class="number">1</span>, <span class="number">400</span>);</div><div class="line">pstmt.setString(2, "JDBC");</div><div class="line">pstmt.setString(3, "Li");</div><div class="line">pstmt.setInt(4, 33);</div><div class="line">// Add it to the batch</div><div class="line">pstmt.addBatch();</div><div class="line"></div><div class="line">// <span class="keyword">Set</span> the <span class="keyword">variables</span></div><div class="line">pstmt.setInt(<span class="number">1</span>, <span class="number">401</span>);</div><div class="line">pstmt.setString(2, "CSharp");</div><div class="line">pstmt.setString(3, "Liang");</div><div class="line">pstmt.setInt(4, 31);</div><div class="line">// Add it to the batch</div><div class="line">pstmt.addBatch();</div><div class="line"></div><div class="line">// add more batches</div><div class="line"></div><div class="line">// <span class="keyword">Create</span> an <span class="built_in">int</span>[] <span class="keyword">to</span> hold returned <span class="keyword">values</span></div><div class="line"><span class="built_in">int</span>[] <span class="keyword">count</span> = stmt.executeBatch();</div><div class="line"></div><div class="line">// Explicitly <span class="keyword">commit</span> statements <span class="keyword">to</span> <span class="keyword">apply</span> changes</div><div class="line">conn.commit();</div></pre></td></tr></table></figure>
<p>PreparedStatement对象可以使用输入和输出流来提供参数数据。能够将整个文件放入可以容纳大值的数据库列，例如CLOB和BLOB数据类型。</p>
<p>下列方法可用于流数据：</p>
<ul>
<li><code>setAsciiStream()</code>: 提供大的ASCII数据值。</li>
<li><code>setCharacterStream()</code>: 提供大的UNICODE数据值。</li>
<li><code>setBinaryStream()</code>: 提供大的二进制数据值。</li>
</ul>
<p>此示例将在数据库创建一个表：xml_data，然后将文件xml_data.xml上传到此表中。<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Import required packages</span></div><div class="line"><span class="keyword">import</span> java.sql.*;</div><div class="line"><span class="keyword">import</span> java.io.*;</div><div class="line"><span class="keyword">import</span> java.util.*;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="keyword">class</span> StreamingData &#123;</div><div class="line">	<span class="comment">// JDBC driver name and database URL</span></div><div class="line">	<span class="keyword">static</span> final <span class="keyword">String</span> JDBC_DRIVER = <span class="string">"com.mysql.jdbc.Driver"</span>;</div><div class="line">	<span class="keyword">static</span> final <span class="keyword">String</span> DB_URL = <span class="string">"jdbc:mysql://localhost/EMP"</span>;</div><div class="line"></div><div class="line">	<span class="comment">// Database credentials</span></div><div class="line">	<span class="keyword">static</span> final <span class="keyword">String</span> USER = <span class="string">"root"</span>;</div><div class="line">	<span class="keyword">static</span> final <span class="keyword">String</span> PASS = <span class="string">"123456"</span>;</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> main(<span class="keyword">String</span>[] args) &#123;</div><div class="line">		Connection conn = null;</div><div class="line">		PreparedStatement pstmt = null;</div><div class="line">		Statement stmt = null;</div><div class="line">		ResultSet rs = null;</div><div class="line">		<span class="built_in">try</span> &#123;</div><div class="line">			<span class="comment">// Register JDBC driver</span></div><div class="line">			Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</div><div class="line"></div><div class="line">			<span class="comment">// Open a connection</span></div><div class="line">			System.out.<span class="built_in">println</span>(<span class="string">"Connecting to database..."</span>);</div><div class="line">			conn = DriverManager.getConnection(DB_URL, USER, PASS);</div><div class="line"></div><div class="line">			<span class="comment">// Create a Statement object and build table</span></div><div class="line">			stmt = conn.createStatement();</div><div class="line">			createXMLTable(stmt);</div><div class="line"></div><div class="line">			<span class="comment">// Open a FileInputStream</span></div><div class="line">			<span class="built_in">File</span> f = <span class="keyword">new</span> <span class="built_in">File</span>(<span class="string">"xml_data.xml"</span>);</div><div class="line">			<span class="keyword">long</span> fileLength = f.length();</div><div class="line">			FileInputStream fis = <span class="keyword">new</span> FileInputStream(f);</div><div class="line"></div><div class="line">			<span class="comment">// Create PreparedStatement and stream data</span></div><div class="line">			<span class="keyword">String</span> SQL = <span class="string">"INSERT INTO XML_Data VALUES (?,?)"</span>;</div><div class="line">			pstmt = conn.prepareStatement(SQL);</div><div class="line">			pstmt.setInt(<span class="number">1</span>, <span class="number">125</span>);</div><div class="line">			pstmt.setAsciiStream(<span class="number">2</span>, fis, (<span class="keyword">int</span>) fileLength);</div><div class="line">			pstmt.execute();</div><div class="line"></div><div class="line">			<span class="comment">// Close input stream</span></div><div class="line">			fis.<span class="built_in">close</span>();</div><div class="line"></div><div class="line">			<span class="comment">// Do a query to get the row</span></div><div class="line">			SQL = <span class="string">"SELECT Data FROM XML_Data WHERE id=125"</span>;</div><div class="line">			rs = stmt.executeQuery(SQL);</div><div class="line">			<span class="comment">// Get the first row</span></div><div class="line">			<span class="built_in">if</span> (rs.next()) &#123;</div><div class="line">				<span class="comment">// Retrieve data from input stream</span></div><div class="line">				InputStream xmlInputStream = rs.getAsciiStream(<span class="number">1</span>);</div><div class="line">				<span class="keyword">int</span> c;</div><div class="line">				ByteArrayOutputStream bos = <span class="keyword">new</span> ByteArrayOutputStream();</div><div class="line">				<span class="built_in">while</span> ((c = xmlInputStream.<span class="built_in">read</span>()) != <span class="number">-1</span>)</div><div class="line">					bos.<span class="built_in">write</span>(c);</div><div class="line">				<span class="comment">// Print results</span></div><div class="line">				System.out.<span class="built_in">println</span>(bos.toString());</div><div class="line">			&#125;</div><div class="line">			<span class="comment">// Clean-up environment</span></div><div class="line">			rs.<span class="built_in">close</span>();</div><div class="line">			stmt.<span class="built_in">close</span>();</div><div class="line">			pstmt.<span class="built_in">close</span>();</div><div class="line">			conn.<span class="built_in">close</span>();</div><div class="line">		&#125; <span class="built_in">catch</span> (SQLException se) &#123;</div><div class="line">			<span class="comment">// Handle errors for JDBC</span></div><div class="line">			se.printStackTrace();</div><div class="line">		&#125; <span class="built_in">catch</span> (Exception e) &#123;</div><div class="line">			<span class="comment">// Handle errors for Class.forName</span></div><div class="line">			e.printStackTrace();</div><div class="line">		&#125; finally &#123;</div><div class="line">			<span class="comment">// finally block used to close resources</span></div><div class="line">			<span class="built_in">try</span> &#123;</div><div class="line">				<span class="built_in">if</span> (stmt != null)</div><div class="line">					stmt.<span class="built_in">close</span>();</div><div class="line">			&#125; <span class="built_in">catch</span> (SQLException se2) &#123;</div><div class="line">			&#125; <span class="comment">// nothing we can do</span></div><div class="line">			<span class="built_in">try</span> &#123;</div><div class="line">				<span class="built_in">if</span> (pstmt != null)</div><div class="line">					pstmt.<span class="built_in">close</span>();</div><div class="line">			&#125; <span class="built_in">catch</span> (SQLException se2) &#123;</div><div class="line">			&#125; <span class="comment">// nothing we can do</span></div><div class="line">			<span class="built_in">try</span> &#123;</div><div class="line">				<span class="built_in">if</span> (conn != null)</div><div class="line">					conn.<span class="built_in">close</span>();</div><div class="line">			&#125; <span class="built_in">catch</span> (SQLException se) &#123;</div><div class="line">				se.printStackTrace();</div><div class="line">			&#125; <span class="comment">// end finally try</span></div><div class="line">		&#125; <span class="comment">// end try</span></div><div class="line">		System.out.<span class="built_in">println</span>(<span class="string">"Goodbye!"</span>);</div><div class="line">	&#125; <span class="comment">// end main</span></div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> createXMLTable(Statement stmt) throws SQLException &#123;</div><div class="line">		System.out.<span class="built_in">println</span>(<span class="string">"Creating XML_Data table..."</span>);</div><div class="line">		<span class="comment">// Create SQL Statement</span></div><div class="line">		<span class="keyword">String</span> streamingDataSql = <span class="string">"CREATE TABLE XML_Data (id INTEGER, Data LONG)"</span>;</div><div class="line">		<span class="comment">// Drop table first if it exists.</span></div><div class="line">		<span class="built_in">try</span> &#123;</div><div class="line">			stmt.executeUpdate(<span class="string">"DROP TABLE XML_Data"</span>);</div><div class="line">		&#125; <span class="built_in">catch</span> (SQLException se) &#123;</div><div class="line">		&#125; <span class="comment">// do nothing</span></div><div class="line">		<span class="comment">// Build table.</span></div><div class="line">		stmt.executeUpdate(streamingDataSql);</div><div class="line">	&#125; <span class="comment">// end createXMLTable</span></div><div class="line">&#125; <span class="comment">// end JDBCExample</span></div></pre></td></tr></table></figure></p>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


		<footer>
			
<p>Powered by <a href="https://hexo.io">Hexo</a> with <a href="https://github.com/wayou/hexo-theme-material">Material</a> theme modified by <b> Huangzhike </b></p>
<p>&copy; 2017 <a href="https://huangzhike.github.io"><b> Huangzhike </b></a></p>
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	</div>
	<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
	<script src="/js/highlight.js"></script> 
	<script>hljs.initHighlightingOnLoad();var timeEnd = new Date();console.log('耗时：' + (timeEnd - timeStart));</script>
	<!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
	<!-- material design -->
	<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
	<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
	<!-- toc -->
	<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
	<!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
	<!-- <script src="/js/main.js"></script> -->
</body>
</html>

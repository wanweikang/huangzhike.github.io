<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            var timeStart = new Date();
        </script>
        
        <title>[ç¬”è®°]-SpringMVC-Interceptor | ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜</title>
        
        <meta name="author" content="huangzhike">
        
        
        <meta name="description" content="12-27é‡æ–°æ•´ç†æ›´æ–°Springç¬”è®°
Interceptoræ‹¦æˆªæŒ‡å®šçš„ç”¨æˆ·è¯·æ±‚ï¼Œå¹¶è¿›è¡Œé¢„å¤„ç†ä¸åå¤„ç†ã€‚
public class MyInterceptor implements HandlerInterceptor {
    // æœ€åæ‰§è¡Œï¼Œå¯ç”¨äºé‡Šæ”¾èµ„æºï¼Œè¿”å›å¤„ç†ï¼ˆå·²ç»æ¸²æŸ“äº†é¡µé¢ï¼‰ï¼Œæ ¹æ®ex">
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        
        <meta property="og:title" content="[ç¬”è®°]-SpringMVC-Interceptor"/>
        
        <meta property="og:site_name" content="ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜"/>
        
        
        <!-- favicon -->
        <link rel="icon" type="image/ico" href="/ok.ico" sizes="32x32">
        <meta name="msapplication-TileColor" content="#009688">
        <meta name="msapplication-TileImage" content="/mstile-144x144.ico">
        <meta name="theme-color" content="#009688">
        <!-- favicon end -->
        <!-- <link href="//ok.ico" rel="icon"> -->
        
        <!-- toc -->
        <!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
        <!-- material design -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
        <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/prism.css" media="screen" type="text/css">
        
        <!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
        <!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
    <meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">èœå•</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" title="ä¸‹ä¸€å¥æ˜¯ï¼šå®¢æœ‰å¯äººæœŸä¸æ¥ã€‚å°æ—¶å€™ï¼Œå–œæ¬¢é åœ¨é˜³å°ä¸Šï¼Œä¸€è¾¹å¹é£ï¼Œä¸€è¾¹çœ‹ä¹¦ï¼Œå–œæ¬¢è¯»ä¹¦å—ï¼Œéªšå¹´ï¼Ÿ" href="/">ä¹¦å½“å¿«æ„è¯»æ˜“å°½</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" target="_blank" rel="noopener" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

    <div class="container" >
        <div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[ç¬”è®°]-SpringMVC-Interceptor</h2>
				
				<div>
					<div class="post-time">2017-11-25</div>
				</div>
				
				<div class="article-content">
				<p><strong>12-27é‡æ–°æ•´ç†æ›´æ–°Springç¬”è®°</strong></p>
<p>Interceptoræ‹¦æˆªæŒ‡å®šçš„ç”¨æˆ·è¯·æ±‚ï¼Œå¹¶è¿›è¡Œé¢„å¤„ç†ä¸åå¤„ç†ã€‚</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">// æœ€åæ‰§è¡Œï¼Œå¯ç”¨äºé‡Šæ”¾èµ„æºï¼Œè¿”å›å¤„ç†ï¼ˆå·²ç»æ¸²æŸ“äº†é¡µé¢ï¼‰ï¼Œæ ¹æ®exæ˜¯å¦ä¸ºnullåˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†å¼‚å¸¸ï¼Œæ—¥å¿—è®°å½•</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">,</span> Exception e<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// ç”Ÿæˆè§†å›¾ä¹‹å‰æ‰§è¡Œï¼Œåå¤„ç†ï¼ˆè°ƒç”¨äº†Serviceå¹¶è¿”å›ModelAndViewï¼Œä½†æœªè¿›è¡Œé¡µé¢æ¸²æŸ“ï¼‰ï¼Œå¯ä»¥ä¿®æ”¹ModelAndViewï¼Œè·³è½¬æ–¹å‘</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">,</span>
            ModelAndView modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// Actionä¹‹å‰æ‰§è¡Œï¼Œé¢„å¤„ç†ï¼Œå¯ä»¥è¿›è¡Œç¼–ç ã€å®‰å…¨æ§åˆ¶ï¼ŒObject handleræ˜¯ä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è¿”å›falseï¼Œä»å½“å‰æ‹¦æˆªå™¨å¾€å›æ‰§è¡Œæ‰€æœ‰æ‹¦æˆªå™¨çš„afterCompletionæ–¹æ³•ï¼Œå†é€€å›æ‹¦æˆªå™¨é“¾</span>
        <span class="token comment" spellcheck="true">// è¿”å›trueï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªæ‹¦æˆªå™¨ï¼Œç›´åˆ°æ‰€æœ‰æ‹¦æˆªå™¨éƒ½æ‰§è¡Œå®Œæ¯• å†è¿è¡Œè¢«æ‹¦æˆªçš„Controller</span>
        <span class="token comment" spellcheck="true">// ç„¶åè¿›å…¥æ‹¦æˆªå™¨é“¾ä»æœ€åä¸€ä¸ªæ‹¦æˆªå™¨å¾€å›è¿è¡Œæ‰€æœ‰æ‹¦æˆªå™¨çš„postHandleæ–¹æ³•</span>
        <span class="token comment" spellcheck="true">// æ¥ç€ä»æœ€åä¸€ä¸ªæ‹¦æˆªå™¨å¾€å›æ‰§è¡Œæ‰€æœ‰æ‹¦æˆªå™¨çš„afterCompletionæ–¹æ³•</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>å¤šä¸ªæ‹¦æˆªå™¨å½¢æˆæ‹¦æˆªå™¨é“¾ï¼Œæ‰§è¡Œé¡ºåºä¸æ³¨å†Œé¡ºåºä¸€è‡´ã€‚</p>
<ul>
<li><p>å½“æŸä¸€ä¸ªæ‹¦æˆªå™¨çš„<code>preHandle()</code>æ–¹æ³•è¿”å›<code>true</code>å¹¶è¢«æ‰§è¡Œæ—¶ï¼Œå‘ä¸€ä¸ªæ–¹æ³•æ ˆä¸­æ”¾å…¥è¯¥æ‹¦æˆªå™¨çš„<code>afterCompletion()</code>æ–¹æ³•ã€‚</p>
</li>
<li><p>åªè¦æœ‰ä¸€ä¸ª<code>preHandle()</code>æ–¹æ³•è¿”å›<code>false</code>ï¼Œåç»­çš„å¤„ç†å™¨æ–¹æ³•ä¸<code>postHandle()</code>æ–¹æ³•å°†æ— æ³•æ‰§è¡Œã€‚</p>
</li>
<li><p>æ‰§è¡Œé“¾ä¸­åªè¦æœ‰<code>preHandle()</code>æ–¹æ³•è¿”å›<code>true</code>ï¼Œå°±ä¼šæ‰§è¡Œæ–¹æ³•æ ˆä¸­<code>afterCompletion()</code>æ–¹æ³•ã€‚</p>
</li>
</ul>
<p>æ€»ç»“ï¼š<code>preHandle()</code>æ–¹æ³•æŒ‰é¡ºåºæ‰§è¡Œï¼Œ<code>postHandle()</code>å’Œ<code>afterCompletion()</code>æŒ‰æ‹¦æˆªå™¨é…ç½®çš„é€†å‘é¡ºåºæ‰§è¡Œã€‚</p>
<ul>
<li><p>ç»Ÿä¸€æ—¥å¿—å¤„ç†æ‹¦æˆªå™¨ï¼Œè¯¥æ‹¦æˆªå™¨preHandleä¸€å®šè¦æ”¾è¡Œï¼Œä¸”å°†å®ƒæ”¾åœ¨æ‹¦æˆªå™¨é“¾æ¥ä¸­ç¬¬ä¸€ä¸ªä½ç½®ã€‚</p>
</li>
<li><p>ç™»é™†è®¤è¯æ‹¦æˆªå™¨ï¼Œæ”¾åœ¨æ‹¦æˆªå™¨é“¾æ¥ä¸­ç¬¬ä¸€ä¸ªä½ç½®ã€‚</p>
</li>
<li><p>æƒé™æ ¡éªŒæ‹¦æˆªå™¨ï¼Œæ”¾åœ¨ç™»é™†è®¤è¯æ‹¦æˆªå™¨ä¹‹åã€‚</p>
</li>
</ul>
<p>æ³¨å†Œ</p>
<p>ä¸€ã€æ‹¦æˆªæ‰€æœ‰URL</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mmp.MyInterceptor<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span></code></pre>
<p>äºŒã€æ‹¦æˆªåŒ¹é…çš„URL</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--å¤šä¸ªæ‹¦æˆªå™¨,é¡ºåºæ‰§è¡Œ --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">></span></span>
        <span class="token comment" spellcheck="true">&lt;!-- æŒ‡å®šå½“å‰æ‰€æ³¨å†Œçš„æ‹¦æˆªå™¨æ‹¦æˆªçš„è¯·æ±‚è·¯å¾„ï¼Œæ”¹ä¸º/**è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/login<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mmp.MyInterceptor<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">></span></span></code></pre>
<p>ä¸‰ã€HandlerMappingçš„æ‹¦æˆªå™¨ï¼ˆä¸æ¨èï¼‰</p>
<pre class=" language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>interceptors<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">></span></span>
            <span class="token comment" spellcheck="true">&lt;!-- ç»è¿‡è¯¥HandlerMappingæ˜ å°„æˆåŠŸçš„handlerä½¿ç”¨è¯¥æ‹¦æˆªå™¨ --></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mmp.MyInterceptor<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span></code></pre>
<p>æ‹¦æˆªå™¨åº”ç”¨(å®ç°ç™»é™†è®¤è¯)</p>
<ul>
<li>1.ç”¨æˆ·è¯·æ±‚url</li>
<li>2.æ‹¦æˆªå™¨è¿›è¡Œæ‹¦æˆªæ ¡éªŒ<ul>
<li>å¦‚æœè¯·æ±‚çš„urlæ— éœ€ç™»é™†å³å¯è®¿é—®ï¼Œæ”¾è¡Œ</li>
<li>å¦‚æœç”¨æˆ·session ä¸å­˜åœ¨è·³è½¬åˆ°ç™»é™†é¡µé¢</li>
<li>å¦‚æœç”¨æˆ·sessionå­˜åœ¨æ”¾è¡Œï¼Œç»§ç»­</li>
</ul>
</li>
</ul>
<pre class=" language-java"><code class="language-java"><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/login"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> String <span class="token function">login</span><span class="token punctuation">(</span>HttpSession session<span class="token punctuation">,</span> String username<span class="token punctuation">,</span> String password<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>

        <span class="token comment" spellcheck="true">// è°ƒç”¨serviceè¿›è¡Œç”¨æˆ·èº«ä»½éªŒè¯</span>

        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"redirect:/items/queryItems.action"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/logout"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> String <span class="token function">logout</span><span class="token punctuation">(</span>HttpSession session<span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>

        <span class="token comment" spellcheck="true">// æ¸…é™¤session</span>
        session<span class="token punctuation">.</span><span class="token function">invalidate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">"redirect:/items/queryItems.action"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">// è¿›å…¥ Handleræ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼Œå¦‚æœè®¤è¯é€šè¿‡è¡¨ç¤ºå½“å‰ç”¨æˆ·æ²¡æœ‰ç™»é™†ï¼Œæ­¤æ–¹æ³•æ‹¦æˆªä¸å†å‘ä¸‹æ‰§è¡Œ</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">)</span> 
            <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>

        String url <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// åˆ¤æ–­urlæ˜¯å¦æ˜¯å…¬å¼€åœ°å€ï¼Œè¿™é‡Œæ˜¯ç™»é™†æäº¤çš„åœ°å€</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"login.action"</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        HttpSession session  <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        String username <span class="token operator">=</span> <span class="token punctuation">(</span>String<span class="token punctuation">)</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>username <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// èº«ä»½å­˜åœ¨ï¼Œæ”¾è¡Œ</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment" spellcheck="true">// æ‰§è¡Œè¿™é‡Œè¡¨ç¤ºç”¨æˆ·èº«ä»½éœ€è¦è®¤è¯ï¼Œè·³è½¬ç™»é™†é¡µé¢</span>
        request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/WEB-INF/jsp/login.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// è¿›å…¥Handleræ–¹æ³•ä¹‹åï¼Œè¿”å›modelAndViewä¹‹å‰æ‰§è¡Œ</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">,</span> ModelAndView modelAndView<span class="token punctuation">)</span> 
            <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"LoginInterceptor...postHandle"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// æ‰§è¡ŒHandlerå®Œæˆæ‰§è¡Œæ­¤æ–¹æ³•ï¼Œç»Ÿä¸€å¼‚å¸¸å¤„ç†ï¼Œç»Ÿä¸€æ—¥å¿—å¤„ç†</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">,</span> Object handler<span class="token punctuation">,</span> Exception ex<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>

        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"LoginInterceptor...afterCompletion"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


        <footer>
             
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

        </footer>
    </div>
    <!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
    <script>
        var timeEnd = new Date();
        console.log('è€—æ—¶ï¼š' + (timeEnd - timeStart));
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre').forEach((block) => {
                block.classList.add("line-numbers");
            });
        });
    </script>
    <!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
    <!-- material design -->
    <!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
    <!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
    <!-- toc -->
    <!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
    <!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
    <!-- <script src="/js/main.js"></script> -->
    <script src="/js/prism.js"></script>
</body>
</html>

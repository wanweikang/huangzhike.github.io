<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            var timeStart = new Date();
        </script>
        
        <title>[ç¬”è®°]-J.U.C.-Condition | ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜</title>
        
        <meta name="author" content="huangzhike">
        
        
        <meta name="description" content="2019-12-12æ›´æ–°

Lockï¼š

Condition#await
Condition#signal
Condition#signalAll

synchronizedï¼š

Object#wait
Object#notify
Object#notifyAll


AbstractQueuedS">
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        
        <meta property="og:title" content="[ç¬”è®°]-J.U.C.-Condition"/>
        
        <meta property="og:site_name" content="ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜"/>
        
        
        <!-- favicon -->
        <link rel="icon" type="image/ico" href="/ok.ico" sizes="32x32">
        <meta name="msapplication-TileColor" content="#009688">
        <meta name="msapplication-TileImage" content="/mstile-144x144.ico">
        <meta name="theme-color" content="#009688">
        <!-- favicon end -->
        <!-- <link href="//ok.ico" rel="icon"> -->
        
        <!-- toc -->
        <!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
        <!-- material design -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
        <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/prism.css" media="screen" type="text/css">
        
        <!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
        <!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
    <meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">èœå•</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" title="ä¸‹ä¸€å¥æ˜¯ï¼šå®¢æœ‰å¯äººæœŸä¸æ¥ã€‚å°æ—¶å€™ï¼Œå–œæ¬¢é åœ¨é˜³å°ä¸Šï¼Œä¸€è¾¹å¹é£ï¼Œä¸€è¾¹çœ‹ä¹¦ï¼Œå–œæ¬¢è¯»ä¹¦å—ï¼Œéªšå¹´ï¼Ÿ" href="/">ä¹¦å½“å¿«æ„è¯»æ˜“å°½</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" target="_blank" rel="noopener" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

    <div class="container" >
        <div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[ç¬”è®°]-J.U.C.-Condition</h2>
				
				<div>
					<div class="post-time">2019-04-20</div>
				</div>
				
				<div class="article-content">
				<p>2019-12-12æ›´æ–°</p>
<hr>
<p>Lockï¼š</p>
<ul>
<li>Condition#await</li>
<li>Condition#signal</li>
<li>Condition#signalAll</li>
</ul>
<p>synchronizedï¼š</p>
<ul>
<li>Object#wait</li>
<li>Object#notify</li>
<li>Object#notifyAll</li>
</ul>
<hr>
<p>AbstractQueuedSynchronizer$ConditionObject</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConditionObject</span> <span class="token keyword">implements</span> <span class="token class-name">Condition</span> <span class="token punctuation">{</span>

        <span class="token comment" spellcheck="true">/**
         * Conditioné˜Ÿåˆ—çš„å¤´èŠ‚ç‚¹
         * å› ä¸ºCondition#awaitè¦å…ˆè·å–é”ï¼Œæ‰€ä»¥æ²¡æœ‰ç«äº‰ä¿®æ”¹ï¼Œä¸éœ€è¦CASï¼Œä¹Ÿæ²¡æœ‰ç”¨volatileä¿®é¥°
         */</span>
        <span class="token keyword">private</span> <span class="token keyword">transient</span> Node firstWaiter<span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">/**
         * Conditioné˜Ÿåˆ—çš„å°¾èŠ‚ç‚¹
         */</span>
        <span class="token keyword">private</span> <span class="token keyword">transient</span> Node lastWaiter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<hr>
<p>ConditionObject#await</p>
<pre class=" language-java"><code class="language-java">        <span class="token comment" spellcheck="true">/**
         * å½“å‰çº¿ç¨‹æŒæœ‰é”åï¼Œé‡Šæ”¾é”ï¼Œç„¶åé˜»å¡ï¼Œå”¤é†’åé‡æ–°è·å–é”æ‰èƒ½è¿›è¡Œ
         */</span>
        <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> InterruptedException <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// å…ˆæ£€æŸ¥ï¼Œå¦‚æœçº¿ç¨‹è¢«ä¸­æ–­åˆ™æŠ›å‡ºä¸­æ–­å¼‚å¸¸</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">InterruptedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// åˆ›å»ºæ–°çš„èŠ‚ç‚¹ï¼Œå¹¶å°†èŠ‚ç‚¹åŠ åˆ°Conditioné˜Ÿå°¾</span>
            Node node <span class="token operator">=</span> <span class="token function">addConditionWaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// å¿…é¡»å…ˆå®Œå…¨é‡Šæ”¾é”ï¼Œå¹¶å”¤é†’AQSé˜Ÿåˆ—ä¸­ä¸€ä¸ªçº¿ç¨‹ï¼Œè¿”å›ä¹‹å‰çš„é”çŠ¶æ€ï¼Œå› ä¸ºæœ‰é‡å…¥ï¼Œè¿˜è¦æ¢å¤çŠ¶æ€</span>
            <span class="token keyword">int</span> savedState <span class="token operator">=</span> <span class="token function">fullyRelease</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> interruptMode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// åˆ¤æ–­èŠ‚ç‚¹æ˜¯å¦åœ¨AQSé˜Ÿåˆ—ä¸Šï¼Œä¸åœ¨çš„è¯å°±é˜»å¡è‡ªå·±</span>
            <span class="token comment" spellcheck="true">// ç¬¬ä¸€æ¬¡è‚¯å®šæ˜¯ä¸åœ¨çš„ï¼Œå› ä¸ºè¿˜æ²¡åŠ å…¥AQSé˜Ÿåˆ—ï¼Œç„¶åå°±é˜»å¡è‡ªå·±</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isOnSyncQueue</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                LockSupport<span class="token punctuation">.</span><span class="token function">park</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// Condition#signalæˆ–çº¿ç¨‹è¢«ä¸­æ–­å¯¼è‡´å”¤é†’ï¼Œå”¤é†’åæ£€æŸ¥èŠ‚ç‚¹åœ¨é˜»å¡æ—¶æ˜¯å¦è¢«ä¸­æ–­</span>
                <span class="token comment" spellcheck="true">// å¦‚æœæ²¡æœ‰ä¸­æ–­ï¼Œè¯´æ˜æ˜¯è¢«Condition#signalå”¤é†’çš„ï¼Œæ­¤æ—¶èŠ‚ç‚¹å·²ç»è¢«è¯¥æ–¹æ³•è½¬ç§»åˆ°AQSé˜Ÿåˆ—é‡Œäº†ï¼Œæ‰€ä»¥ä¸‹æ¬¡å¾ªç¯ä¸ä¼šè¿›æ¥</span>
                <span class="token comment" spellcheck="true">// å¦‚æœè¢«ä¸­æ–­äº†ï¼Œè¯´æ˜çº¿ç¨‹æ˜¯è¢«ä¸­æ–­å¯¼è‡´å”¤é†’çš„ï¼Œé‚£ä¹ˆå°†è¯¥èŠ‚ç‚¹æ”¾å…¥AQSé˜Ÿåˆ—ï¼Œç›´æ¥è·³å‡º</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>interruptMode <span class="token operator">=</span> <span class="token function">checkInterruptWhileWaiting</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// è¢«å”¤é†’å¹¶é‡æ–°åŠ å…¥AQSåŒæ­¥é˜Ÿåˆ—åï¼Œé˜»å¡è‡³é‡æ–°è·å–åˆ°äº†é”</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">acquireQueued</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> savedState<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> interruptMode <span class="token operator">!=</span> THROW_IE<span class="token punctuation">)</span>
                interruptMode <span class="token operator">=</span> REINTERRUPT<span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">// å¦‚æœèŠ‚ç‚¹çš„åç»§èŠ‚ç‚¹å¼•ç”¨æ²¡ç½®ç©ºï¼Œåˆ™æ¸…ç†Conditioné˜Ÿåˆ—ä¸Šçš„è¢«å–æ¶ˆçš„èŠ‚ç‚¹</span>
            <span class="token comment" spellcheck="true">// å¦‚æœèŠ‚ç‚¹æ˜¯å› ä¸ºCondition#signalå”¤é†’çš„è¯ï¼Œé‚£ä¹ˆåœ¨Condition#doSignalå·²ç»ç½®ç©ºäº†ï¼Œè¿™æ˜¯å¤„ç†å› ä¸ºä¸­æ–­è€Œå”¤é†’çš„æƒ…å†µ</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>nextWaiter <span class="token operator">!=</span> null<span class="token punctuation">)</span>
                <span class="token function">unlinkCancelledWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment" spellcheck="true">// å¦‚æœçº¿ç¨‹è¢«ä¸­æ–­å‘ç”Ÿåœ¨Condition#signalä¹‹å‰ï¼ŒCondition#awaitå¿…é¡»åœ¨é‡æ–°è·å–åˆ°é”åï¼ŒæŠ›å‡ºInterruptedException</span>
            <span class="token comment" spellcheck="true">// å¦åˆ™ï¼Œå¦‚æœä¸­æ–­å‘ç”Ÿåœ¨Condition#signalä¹‹åï¼ŒCondition#awaitå¿…é¡»è¿”å›ä¸”ä¸æŠ›å¼‚å¸¸ï¼ŒåŒæ—¶å†æ¬¡ä¸­æ–­ï¼Œå³ä¿ç•™ä¸­æ–­æ ‡è®°</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>interruptMode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token function">reportInterruptAfterWait</span><span class="token punctuation">(</span>interruptMode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></code></pre>
<p>ConditionObject#addConditionWaiter</p>
<pre class=" language-java"><code class="language-java">        <span class="token comment" spellcheck="true">/**
         * æ·»åŠ èŠ‚ç‚¹åˆ°Conditionç­‰å¾…é˜Ÿåˆ—å°¾ï¼Œå•å‘é“¾è¡¨
         */</span>
        <span class="token keyword">private</span> Node <span class="token function">addConditionWaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Node t <span class="token operator">=</span> lastWaiter<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// å¦‚æœConditioné˜Ÿåˆ—çš„å°¾èŠ‚ç‚¹å¤±æ•ˆäº†ï¼Œæ¸…é™¤é“¾è¡¨ä¸­æ‰€æœ‰å¤±æ•ˆèŠ‚ç‚¹</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>waitStatus <span class="token operator">!=</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">unlinkCancelledWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                t <span class="token operator">=</span> lastWaiter<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// åˆ›å»ºä¸€ä¸ªConditionèŠ‚ç‚¹</span>
            Node node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// å¦‚æœConditioné˜Ÿåˆ—çš„å°¾èŠ‚ç‚¹æ˜¯null</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> null<span class="token punctuation">)</span>
                <span class="token comment" spellcheck="true">// åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹Ÿæ˜¯å¤´èŠ‚ç‚¹</span>
                firstWaiter <span class="token operator">=</span> node<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// å¦‚æœä¸æ˜¯nullï¼Œå°†å½“å‰èŠ‚ç‚¹è¿½åŠ åˆ°å°¾éƒ¨</span>
            <span class="token keyword">else</span>
                t<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> node<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// å°†å½“å‰èŠ‚ç‚¹è®¾ç½®æˆå°¾èŠ‚ç‚¹</span>
            lastWaiter <span class="token operator">=</span> node<span class="token punctuation">;</span>
            <span class="token keyword">return</span> node<span class="token punctuation">;</span>
        <span class="token punctuation">}</span></code></pre>
<p>AbstractQueuedSynchronizer#fullyRelease</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">fullyRelease</span><span class="token punctuation">(</span>Node node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">boolean</span> failed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> savedState <span class="token operator">=</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// æŸçº¿ç¨‹å¯èƒ½å¤šæ¬¡é‡å…¥è·å–é”ï¼Œè¦å°†çŠ¶æ€å…¨éƒ¨é‡Šæ”¾ï¼Œåé¢çš„èŠ‚ç‚¹æ‰èƒ½ç«äº‰é”</span>
            <span class="token comment" spellcheck="true">// å¦‚æœé‡Šæ”¾æˆåŠŸï¼Œåˆ™è¿”å›ä¹‹å‰æŒæœ‰é”çš„çŠ¶æ€é‡</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">release</span><span class="token punctuation">(</span>savedState<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                failed <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> savedState<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalMonitorStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// é‡Šæ”¾å¤±è´¥ï¼Œå°†èŠ‚ç‚¹è®¾æˆCANCELLEDï¼Œéšåå°†ä»Conditioné˜Ÿåˆ—ä¸­ç§»é™¤</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>failed<span class="token punctuation">)</span>
                node<span class="token punctuation">.</span>waitStatus <span class="token operator">=</span> Node<span class="token punctuation">.</span>CANCELLED<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></code></pre>
<p>AbstractQueuedSynchronizer#isOnSyncQueue</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">final</span> <span class="token keyword">boolean</span> <span class="token function">isOnSyncQueue</span><span class="token punctuation">(</span>Node node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// CONDITION || å‰ç»§èŠ‚ç‚¹ä¸å­˜åœ¨</span>
        <span class="token comment" spellcheck="true">// è¯´æ˜ä¸åœ¨AQSé˜Ÿåˆ—ä¸­</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>waitStatus <span class="token operator">==</span> Node<span class="token punctuation">.</span>CONDITION <span class="token operator">||</span> node<span class="token punctuation">.</span>prev <span class="token operator">==</span> null<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å¦‚æœèŠ‚ç‚¹éCONDITIONçŠ¶æ€ï¼Œå¹¶ä¸”æœ‰åç»§èŠ‚ç‚¹ï¼Œè¯´æ˜åœ¨AQSé˜Ÿåˆ—ä¸Š</span>
        <span class="token comment" spellcheck="true">// è¿™é‡Œä¸é€šè¿‡æœ‰å‰é©±èŠ‚ç‚¹åˆ¤æ–­ï¼Œæ˜¯å› ä¸ºèŠ‚ç‚¹å…¥AQSé˜Ÿåˆ—æ—¶ï¼Œæ˜¯å…ˆå°†å‰æŒ‡é’ˆæŒ‡å‘åŸé˜Ÿå°¾ï¼Œç„¶åæ‰CASæ›´æ–°é˜Ÿå°¾çš„å¼•ç”¨çš„ï¼Œæ‰€ä»¥å¯èƒ½æœ‰å‰é©±èŠ‚ç‚¹æ—¶ï¼Œè¿˜æ²¡å®Œæˆå…¥é˜Ÿï¼Œè€Œä¸”CASä¹Ÿå¯èƒ½å¤±è´¥</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>next <span class="token operator">!=</span> null<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// æ²¡æœ‰åç»§èŠ‚ç‚¹ï¼Œé‚£ä¹ˆä»å°¾èŠ‚ç‚¹å¼€å§‹å‘å‰éå†ï¼Œæ‰¾åˆ°è¯´æ˜ä¹Ÿåœ¨AQSé˜Ÿåˆ—ä¸Š</span>
        <span class="token keyword">return</span> <span class="token function">findNodeFromTail</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p>AbstractQueuedSynchronizer#findNodeFromTail</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">findNodeFromTail</span><span class="token punctuation">(</span>Node node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Node t <span class="token operator">=</span> tail<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> <span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> node<span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> null<span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            t <span class="token operator">=</span> t<span class="token punctuation">.</span>prev<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></code></pre>
<p>ConditionObject#checkInterruptWhileWaiting</p>
<pre class=" language-java"><code class="language-java">        <span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">checkInterruptWhileWaiting</span><span class="token punctuation">(</span>Node node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// å¦‚æœçº¿ç¨‹æ²¡è¢«ä¸­æ–­ï¼Œè¿”å›0</span>
            <span class="token comment" spellcheck="true">// å¦‚æœçº¿ç¨‹è¢«ä¸­æ–­ï¼Œå°†å½“å‰èŠ‚ç‚¹æ”¾å…¥AQSé˜Ÿåˆ—ï¼Œå¦‚æœæ˜¯åœ¨Condition#signalå‰è¢«ä¸­æ–­ï¼Œè¿”å›THROW_IEï¼Œå¦åˆ™è¿”å›REINTERRUPT</span>
            <span class="token keyword">return</span> Thread<span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token function">transferAfterCancelledWait</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">?</span> THROW_IE <span class="token operator">:</span> REINTERRUPT<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></code></pre>
<p>AbstractQueuedSynchronizer#transferAfterCancelledWait</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">final</span> <span class="token keyword">boolean</span> <span class="token function">transferAfterCancelledWait</span><span class="token punctuation">(</span>Node node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// å¦‚æœCASå°†èŠ‚ç‚¹ç”±CONDITIONæ›´æ–°ä¸º0æˆåŠŸï¼Œé‚£ä¹ˆå°†èŠ‚ç‚¹é‡æ–°åŠ å…¥AQSé˜Ÿåˆ—</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">compareAndSetWaitStatus</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">enq</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// å¦‚æœCASæˆåŠŸï¼Œè¯´æ˜Condition#signalè¿˜æ²¡å‘ç”Ÿï¼Œä¸­æ–­å°±å·²ç»äº§ç”Ÿäº†ï¼Œå› ä¸ºCondition#signalä¼šå°†èŠ‚ç‚¹çš„çŠ¶æ€è®¾ç½®ä¸º0ï¼ŒCASä¸ä¼šæˆåŠŸ</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// åˆ°è¿™é‡Œï¼Œè¯´æ˜åœ¨åˆ«çš„çº¿ç¨‹å·²ç»Condition#signalä¹‹åï¼Œæ‰å‘ç”Ÿäº†ä¸­æ–­</span>

        <span class="token comment" spellcheck="true">// è‡ªæ—‹ç­‰å¾…åˆ«çš„çº¿ç¨‹Condition#signalå°†èŠ‚ç‚¹ä»Conditioné˜Ÿåˆ—ç§»åˆ°AQSé˜Ÿåˆ—ä¸­ï¼Œå› ä¸ºå¯èƒ½æ­¤æ—¶èŠ‚ç‚¹è½¬ç§»æ“ä½œè¿˜æ²¡å®Œæˆ</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isOnSyncQueue</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span>
            Thread<span class="token punctuation">.</span><span class="token function">yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p>ConditionObject#unlinkCancelledWaiters</p>
<pre class=" language-java"><code class="language-java">        <span class="token comment" spellcheck="true">/**
         * æ¸…é™¤Conditioné˜Ÿåˆ—ä¸­æ‰€æœ‰å¤±æ•ˆçš„èŠ‚ç‚¹
         */</span>
        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">unlinkCancelledWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Node t <span class="token operator">=</span> firstWaiter<span class="token punctuation">;</span>
            Node trail <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// ä»å¤´å¾€åéå†</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// åç»§èŠ‚ç‚¹</span>
                Node next <span class="token operator">=</span> t<span class="token punctuation">.</span>nextWaiter<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// å¦‚æœå½“å‰èŠ‚ç‚¹ä¸å†å¤„äºCONDITIONçŠ¶æ€ï¼Œé‚£ä¹ˆå¯èƒ½æ˜¯è¢«å–æ¶ˆäº†ï¼Œæˆ–è€…å› ä¸ºè¢«ä¸­æ–­åé‡æ–°è·å–äº†é”</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>waitStatus <span class="token operator">!=</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// å…ˆç½®ç©ºå½“å‰èŠ‚ç‚¹çš„æŒ‡é’ˆ</span>
                    t<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// è¯´æ˜åç»§èŠ‚ç‚¹å‰çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½æ˜¯CANCELLED</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>trail <span class="token operator">==</span> null<span class="token punctuation">)</span>
                        <span class="token comment" spellcheck="true">// åç»§èŠ‚ç‚¹æ‰æ˜¯æœ‰æ•ˆçš„å¤´èŠ‚ç‚¹</span>
                        firstWaiter <span class="token operator">=</span> next<span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// è¯´æ˜å‰é¢å­˜åœ¨æ­£å¸¸èŠ‚ç‚¹</span>
                    <span class="token keyword">else</span>
                        <span class="token comment" spellcheck="true">// æ¥ä¸Šé“¾è¡¨</span>
                        trail<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> next<span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// è¯´æ˜å½“å‰èŠ‚ç‚¹å·²ç»æ˜¯é“¾è¡¨å°¾äº†</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>next <span class="token operator">==</span> null<span class="token punctuation">)</span>
                        <span class="token comment" spellcheck="true">// æ›´æ–°é“¾è¡¨å°¾ä¸ºæœ€åä¸€ä¸ªæ­£å¸¸çš„èŠ‚ç‚¹</span>
                        lastWaiter <span class="token operator">=</span> trail<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment" spellcheck="true">// å¦‚æœèŠ‚ç‚¹å¤„äºæ­£å¸¸çš„CONDITIONçŠ¶æ€</span>
                <span class="token keyword">else</span>
                    <span class="token comment" spellcheck="true">// æš‚å­˜ä¸Šä¸ªæ­£å¸¸çš„èŠ‚ç‚¹ï¼Œåé¢å¯èƒ½è¦æ¥ä¸Šå»</span>
                    trail <span class="token operator">=</span> t<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// ä¸‹ä¸ªèŠ‚ç‚¹ç»§ç»­</span>
                t <span class="token operator">=</span> next<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span></code></pre>
<hr>
<p>ConditionObject#signal</p>
<pre class=" language-java"><code class="language-java">        <span class="token comment" spellcheck="true">/**
         * å°†Conditioné˜Ÿåˆ—çš„å¤´èŠ‚ç‚¹ç§»åŠ¨åˆ°AQSé˜Ÿåˆ—å°¾ï¼Œå†æ¬¡è·å–é”
         */</span>
        <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// å…ˆæ£€éªŒå½“å‰çº¿ç¨‹æœ‰æ²¡æœ‰æŒæœ‰ç‹¬å é”</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isHeldExclusively</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalMonitorStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Node first <span class="token operator">=</span> firstWaiter<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// å”¤é†’Conditioné˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>first <span class="token operator">!=</span> null<span class="token punctuation">)</span>
                <span class="token function">doSignal</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></code></pre>
<p>ConditionObject#doSignal</p>
<pre class=" language-java"><code class="language-java">        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doSignal</span><span class="token punctuation">(</span>Node first<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// ä»Conditioné˜Ÿåˆ—çš„å¤´èŠ‚ç‚¹å¼€å§‹</span>
            <span class="token keyword">do</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// å°†Conditioné˜Ÿåˆ—çš„å¤´èŠ‚ç‚¹çš„æŒ‡é’ˆåç§»ï¼Œå³å°†åŸæœ¬çš„å¤´èŠ‚ç‚¹ç§»å‡ºé˜Ÿåˆ—</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>firstWaiter <span class="token operator">=</span> first<span class="token punctuation">.</span>nextWaiter<span class="token punctuation">)</span> <span class="token operator">==</span> null<span class="token punctuation">)</span>
                    <span class="token comment" spellcheck="true">// Conditioné˜Ÿåˆ—å·²ç»æ²¡æœ‰èŠ‚ç‚¹äº†</span>
                    lastWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// ç½®ç©ºç§»å‡ºé˜Ÿåˆ—çš„åŸæœ¬çš„å¤´èŠ‚ç‚¹å¯¹Conditioné˜Ÿåˆ—çš„èŠ‚ç‚¹çš„å¼•ç”¨</span>
                first<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// å°†è¯¥èŠ‚ç‚¹ä»Conditioné˜Ÿåˆ—è½¬åˆ°AQSé˜Ÿåˆ—å°¾ï¼ŒæˆåŠŸå°±ç›´æ¥è·³å‡ºå¾ªç¯</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">transferForSignal</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>first <span class="token operator">=</span> firstWaiter<span class="token punctuation">)</span> <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// è¢«å”¤é†’åå¯èƒ½ä¸ä¼šé©¬ä¸Šè·å¾—é”ï¼Œå› ä¸ºå¯èƒ½è¦æ’é˜Ÿ</span>
        <span class="token punctuation">}</span></code></pre>
<p>AbstractQueuedSynchronizer#transferForSignal</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">final</span> <span class="token keyword">boolean</span> <span class="token function">transferForSignal</span><span class="token punctuation">(</span>Node node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// CASå°è¯•å°†èŠ‚ç‚¹ä»CONDITIONç½®ä¸º0ï¼Œå¤±è´¥è¯´æ˜èŠ‚ç‚¹è¢«å–æ¶ˆCANCELLEDï¼Œå› ä¸ºè¿™é‡Œæ²¡æœ‰ç«äº‰ï¼Œç›´æ¥è¿”å›falseï¼Œä¸éœ€è¦è½¬åˆ°AQSé˜Ÿåˆ—é‡Œäº†</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">compareAndSetWaitStatus</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// CASæˆåŠŸåï¼Œå°†èŠ‚ç‚¹æ”¾å…¥AQSé˜Ÿåˆ—å°¾ï¼Œè¿”å›å‰é©±èŠ‚ç‚¹</span>
        Node p <span class="token operator">=</span> <span class="token function">enq</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> ws <span class="token operator">=</span> p<span class="token punctuation">.</span>waitStatus<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å¦‚æœå‰é©±èŠ‚ç‚¹æ˜¯å–æ¶ˆçŠ¶æ€ï¼Œè¯´æ˜å‰é©±èŠ‚ç‚¹å–æ¶ˆç­‰å¾…é”ï¼Œé‚£ä¹ˆç›´æ¥å”¤é†’å½“å‰èŠ‚ç‚¹</span>
        <span class="token comment" spellcheck="true">// å¦‚æœå‰é©±èŠ‚ç‚¹æ˜¯å…¶å®ƒçŠ¶æ€ï¼Œé‚£ä¹ˆCASå°è¯•æ›´æ–°å‰é©±èŠ‚ç‚¹çš„çŠ¶æ€ä¸ºSIGNALï¼Œä¸å”¤é†’å½“å‰èŠ‚ç‚¹ï¼Œè€Œæ˜¯äº¤ç»™å‰é©±èŠ‚ç‚¹å”¤é†’</span>
        <span class="token comment" spellcheck="true">// å¦‚æœå‰é©±èŠ‚ç‚¹æ˜¯å…¶å®ƒçŠ¶æ€ï¼Œä½†æ˜¯ä¸Šé¢çš„CASæ“ä½œå¤±è´¥ï¼Œé‚£ä¹ˆç›´æ¥å”¤é†’å½“å‰èŠ‚ç‚¹ï¼Œä¹‹åä¼šä¿®æ”¹å‰é©±ä¸ºSIGNALï¼Œå¤§æ¦‚æ˜¯é¿å…AQSé˜Ÿåˆ—æ­»é”</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ws <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">compareAndSetWaitStatus</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> ws<span class="token punctuation">,</span> Node<span class="token punctuation">.</span>SIGNAL<span class="token punctuation">)</span><span class="token punctuation">)</span>
            LockSupport<span class="token punctuation">.</span><span class="token function">unpark</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>thread<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è½¬ç§»åˆ°AQSé˜Ÿåˆ—æˆåŠŸ</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p>å¯¹äºCondition#signalAllåˆ™æ˜¯ï¼š</p>
<p>ConditionObject#signalAll</p>
<pre class=" language-java"><code class="language-java">        <span class="token comment" spellcheck="true">/**
         * å°†Conditioné˜Ÿåˆ—çš„æ‰€æœ‰èŠ‚ç‚¹ç§»åˆ°AQSé˜Ÿåˆ—ä¸­
         */</span>
        <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token function">signalAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isHeldExclusively</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalMonitorStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Node first <span class="token operator">=</span> firstWaiter<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>first <span class="token operator">!=</span> null<span class="token punctuation">)</span>
                <span class="token function">doSignalAll</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></code></pre>
<p>ConditionObject#doSignalAll</p>
<pre class=" language-java"><code class="language-java">        <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doSignalAll</span><span class="token punctuation">(</span>Node first<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            lastWaiter <span class="token operator">=</span> firstWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token keyword">do</span> <span class="token punctuation">{</span>
                Node next <span class="token operator">=</span> first<span class="token punctuation">.</span>nextWaiter<span class="token punctuation">;</span>
                first<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
                <span class="token function">transferForSignal</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
                first <span class="token operator">=</span> next<span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>first <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span></code></pre>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


        <footer>
             
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

        </footer>
    </div>
    <!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
    <script>
        var timeEnd = new Date();
        console.log('è€—æ—¶ï¼š' + (timeEnd - timeStart));
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre').forEach((block) => {
                block.classList.add("line-numbers");
            });
        });
    </script>
    <!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
    <!-- material design -->
    <!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
    <!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
    <!-- toc -->
    <!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
    <!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
    <!-- <script src="/js/main.js"></script> -->
    <script src="/js/prism.js"></script>
</body>
</html>

<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            var timeStart = new Date();
        </script>
        
        <title>[ç¬”è®°]-TreeMap | ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜</title>
        
        <meta name="author" content="huangzhike">
        
        
        <meta name="description" content="jdk1.8.0_211
ä¸äº†è§£çº¢é»‘æ ‘çš„ï¼Œå¯ä»¥å…ˆçœ‹çœ‹æˆ‘ä¹‹å‰çš„å…³äºæ ‘çš„ç¬”è®°ï¼Œæœ‰è¾ƒè¯¦ç»†çš„è¯´æ˜ã€‚

TreeMap
public class TreeMap&amp;lt;K, V&gt; extends AbstractMap&amp;lt;K, V&gt; implements NavigableMap&amp;lt;K, V&gt;, Cl">
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        
        <meta property="og:title" content="[ç¬”è®°]-TreeMap"/>
        
        <meta property="og:site_name" content="ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜"/>
        
        
        <!-- favicon -->
        <link rel="icon" type="image/ico" href="/ok.ico" sizes="32x32">
        <meta name="msapplication-TileColor" content="#009688">
        <meta name="msapplication-TileImage" content="/mstile-144x144.ico">
        <meta name="theme-color" content="#009688">
        <!-- favicon end -->
        <!-- <link href="//ok.ico" rel="icon"> -->
        
        <!-- toc -->
        <!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
        <!-- material design -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
        <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/prism.css" media="screen" type="text/css">
        
        <!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
        <!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
    <meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">èœå•</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" title="ä¸‹ä¸€å¥æ˜¯ï¼šå®¢æœ‰å¯äººæœŸä¸æ¥ã€‚å°æ—¶å€™ï¼Œå–œæ¬¢é åœ¨é˜³å°ä¸Šï¼Œä¸€è¾¹å¹é£ï¼Œä¸€è¾¹çœ‹ä¹¦ï¼Œå–œæ¬¢è¯»ä¹¦å—ï¼Œéªšå¹´ï¼Ÿ" href="/">ä¹¦å½“å¿«æ„è¯»æ˜“å°½</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" target="_blank" rel="noopener" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

    <div class="container" >
        <div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[ç¬”è®°]-TreeMap</h2>
				
				<div>
					<div class="post-time">2019-11-29</div>
				</div>
				
				<div class="article-content">
				<p>jdk1.8.0_211</p>
<p>ä¸äº†è§£çº¢é»‘æ ‘çš„ï¼Œå¯ä»¥å…ˆçœ‹çœ‹æˆ‘ä¹‹å‰çš„å…³äºæ ‘çš„ç¬”è®°ï¼Œæœ‰è¾ƒè¯¦ç»†çš„è¯´æ˜ã€‚</p>
<hr>
<p>TreeMap</p>
<pre class=" language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreeMap</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> <span class="token keyword">extends</span> <span class="token class-name">AbstractMap</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> <span class="token keyword">implements</span> <span class="token class-name">NavigableMap</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span><span class="token punctuation">,</span> Cloneable<span class="token punctuation">,</span> Serializable <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">/**
     * æ¯”è¾ƒå™¨
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> Comparator<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> K<span class="token operator">></span> comparator<span class="token punctuation">;</span>

    <span class="token comment" spellcheck="true">/**
     * çº¢é»‘æ ‘æ ¹èŠ‚ç‚¹
     */</span>
    <span class="token keyword">private</span> <span class="token keyword">transient</span> Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> root<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">transient</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">transient</span> <span class="token keyword">int</span> modCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">transient</span> EntrySet entrySet<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">transient</span> KeySet<span class="token operator">&lt;</span>K<span class="token operator">></span> navigableKeySet<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">transient</span> NavigableMap<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> descendingMap<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> RED <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">boolean</span> BLACK <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token keyword">transient</span> Set<span class="token operator">&lt;</span>K<span class="token operator">></span> keySet<span class="token punctuation">;</span>

    <span class="token keyword">transient</span> Collection<span class="token operator">&lt;</span>V<span class="token operator">></span> values<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p>TreeMap$Entry</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Entry</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> <span class="token keyword">implements</span> <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> <span class="token punctuation">{</span>
        K key<span class="token punctuation">;</span>

        V value<span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">/**
         * å·¦ä¾§å­èŠ‚ç‚¹ï¼Œå·¦å­©å­
         */</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> left<span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">/**
         * å³ä¾§å­èŠ‚ç‚¹ï¼Œå³å­©å­
         */</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> right<span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">/**
         * çˆ¶èŠ‚ç‚¹
         */</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> parent<span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">/**
         * é¢œè‰²
         */</span>
        <span class="token keyword">boolean</span> color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<hr>
<p>TreeMap#put</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">public</span> V <span class="token function">put</span><span class="token punctuation">(</span>K key<span class="token punctuation">,</span> V value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> t <span class="token operator">=</span> root<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// åŸæœ¬æ²¡æœ‰æ ¹èŠ‚ç‚¹ï¼Œç¬¬ä¸€æ¬¡æ’å…¥</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// è‡ªå·±æ¯”è¾ƒè‡ªå·±ï¼Œå¤§æ¦‚æ˜¯å…ˆæ£€æµ‹ä¸€ä¸‹æ¯”è¾ƒæ–¹æ³•ä¼šä¸ä¼šæŠ›å¼‚å¸¸ï¼Ÿ</span>
            <span class="token function">compare</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// type (and possibly null) check</span>
            <span class="token comment" spellcheck="true">// æ–°å»ºèŠ‚ç‚¹ï¼Œå¹¶è®¾è‡ªå·±ä¸ºæ ¹èŠ‚ç‚¹</span>
            root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Entry</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
            size <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
            modCount<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> null<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ’å…¥</span>
        <span class="token keyword">int</span> cmp<span class="token punctuation">;</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> parent<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// split comparator and comparable paths</span>
        Comparator<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> K<span class="token operator">></span> cpr <span class="token operator">=</span> comparator<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å¦‚æœTreeMapè®¾ç½®äº†Comparatorï¼Œä¼˜å…ˆä½¿ç”¨Comparatoræ¯”è¾ƒ</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cpr <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// éå†æ ‘</span>
            <span class="token keyword">do</span> <span class="token punctuation">{</span>
                parent <span class="token operator">=</span> t<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// æ¯”è¾ƒè¦æ’å…¥çš„èŠ‚ç‚¹å’Œå½“å‰èŠ‚ç‚¹çš„å¤§å°</span>
                cmp <span class="token operator">=</span> cpr<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> t<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token comment" spellcheck="true">// æ¯”å½“å‰èŠ‚ç‚¹å°ï¼Œä»å½“å‰èŠ‚ç‚¹çš„å·¦å­©å­ç»§ç»­</span>
                    t <span class="token operator">=</span> t<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
                    <span class="token comment" spellcheck="true">// æ¯”å½“å‰èŠ‚ç‚¹å¤§ï¼Œä»å½“å‰èŠ‚ç‚¹çš„å³å­©å­ç»§ç»­</span>
                    t <span class="token operator">=</span> t<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
                <span class="token keyword">else</span>
                    <span class="token comment" spellcheck="true">// ç›¸ç­‰ï¼Œè¯´æ˜èŠ‚ç‚¹å·²å­˜åœ¨ï¼Œç›´æ¥æ›´æ–°å€¼</span>
                    <span class="token keyword">return</span> t<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> null<span class="token punctuation">)</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"unchecked"</span><span class="token punctuation">)</span> Comparable<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> K<span class="token operator">></span> k <span class="token operator">=</span> <span class="token punctuation">(</span>Comparable<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> K<span class="token operator">></span><span class="token punctuation">)</span> key<span class="token punctuation">;</span>
            <span class="token keyword">do</span> <span class="token punctuation">{</span>
                parent <span class="token operator">=</span> t<span class="token punctuation">;</span>
                cmp <span class="token operator">=</span> k<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                    t <span class="token operator">=</span> t<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
                    t <span class="token operator">=</span> t<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
                <span class="token keyword">else</span>
                    <span class="token keyword">return</span> t<span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// å¦‚æœéå†æ ‘ç›´åˆ°å¶å­èŠ‚ç‚¹ï¼Œè¿˜æ²¡æœ‰æ‰¾åˆ°ç›¸ç­‰çš„èŠ‚ç‚¹ï¼Œè¯´æ˜æ˜¯æ–°å¢çš„èŠ‚ç‚¹ï¼Œè¦æ’å…¥æ–°çš„èŠ‚ç‚¹åˆ°è¯¥å¶å­èŠ‚ç‚¹ä¸‹</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Entry</span><span class="token operator">&lt;</span><span class="token operator">></span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> parent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token comment" spellcheck="true">// æ’å·¦è¾¹</span>
            parent<span class="token punctuation">.</span>left <span class="token operator">=</span> e<span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token comment" spellcheck="true">// æ’å³è¾¹</span>
            parent<span class="token punctuation">.</span>right <span class="token operator">=</span> e<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// æ’å…¥åï¼Œä»æ’å…¥çš„èŠ‚ç‚¹å¼€å§‹å¹³è¡¡</span>
        <span class="token function">fixAfterInsertion</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        size<span class="token operator">++</span><span class="token punctuation">;</span>
        modCount<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> null<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p>TreeMap#compare</p>
<pre class=" language-java"><code class="language-java">    <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"unchecked"</span><span class="token punctuation">)</span>
    <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span>Object k1<span class="token punctuation">,</span> Object k2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// ä¼˜å…ˆä½¿ç”¨Comparatorï¼Œå…¶æ¬¡æ‰æ˜¯å…ƒç´ çš„Comparable#compareTo</span>
        <span class="token comment" spellcheck="true">// å› ä¸ºComparatoræ¯”è¾ƒçµæ´»ï¼Œè€ŒComparableéœ€è¦ç»§æ‰¿Comparableæ¥å£ï¼Œå¯¹äºæŸäº›finalç±»å¦‚Stringï¼Œä¸æ–¹ä¾¿è‡ªå®šä¹‰ï¼Œå½“ç„¶Stringæ˜¯ç»§æ‰¿äº†Comparableçš„</span>
        <span class="token keyword">return</span> comparator <span class="token operator">==</span> null <span class="token operator">?</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>Comparable<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> K<span class="token operator">></span><span class="token punctuation">)</span> k1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token punctuation">(</span>K<span class="token punctuation">)</span> k2<span class="token punctuation">)</span> <span class="token operator">:</span> comparator<span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span><span class="token punctuation">(</span>K<span class="token punctuation">)</span> k1<span class="token punctuation">,</span> <span class="token punctuation">(</span>K<span class="token punctuation">)</span> k2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p>TreeMap#fixAfterInsertion</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">fixAfterInsertion</span><span class="token punctuation">(</span>Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// æ–°æ’å…¥çš„èŠ‚ç‚¹ä¸ºçº¢è‰²</span>
        x<span class="token punctuation">.</span>color <span class="token operator">=</span> RED<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// ä»æ–°æ’å…¥çš„å¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œå‘ä¸Šéå†ï¼Œç›´åˆ°æ ¹èŠ‚ç‚¹ï¼Œå¦‚æœå½“å‰éå†çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œè¯´æ˜éœ€è¦å¹³è¡¡ï¼ˆä¸¤ä¸ªè¿ç»­çš„çº¢è‰²ï¼‰</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> x <span class="token operator">!=</span> root <span class="token operator">&amp;&amp;</span> x<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>color <span class="token operator">==</span> RED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// å½“å‰èŠ‚ç‚¹çš„çˆ¶äº² == å½“å‰èŠ‚ç‚¹çš„çˆ·çˆ·çš„å·¦å­©å­</span>
            <span class="token comment" spellcheck="true">// å°±æ˜¯è¯´å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯ä¸æ˜¯å·¦èŠ‚ç‚¹ï¼Œå¦‚æœæ˜¯</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">leftOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// è·å–å½“å‰èŠ‚ç‚¹çš„çˆ¶äº²çš„å³å…„å¼Ÿï¼Œå³å”å”</span>
                Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> y <span class="token operator">=</span> <span class="token function">rightOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// å¦‚æœè‡ªå·±ï¼Œçˆ¸çˆ¸ï¼Œå”å”éƒ½æ˜¯çº¢è‰²</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">colorOf</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token operator">==</span> RED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// å°†çˆ¸çˆ¸è®¾ä¸ºé»‘è‰²</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// å°†å”å”ä¹Ÿè®¾ä¸ºé»‘è‰²ï¼Œå› ä¸ºä¸¤æ¡è·¯çš„é»‘è‰²æ•°é‡å¿…é¡»ä¸€æ ·</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span>y<span class="token punctuation">,</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// æŠŠçˆ·çˆ·è®¾æˆçº¢è‰²ï¼Œçˆ·çˆ·ä¸‹é¢çš„èŠ‚ç‚¹éƒ½æ˜¯å·²ç»å¤„ç†å¥½çš„äº†ï¼Œå¯ä»¥ä¸ç®¡</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> RED<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// ä¸‹æ¬¡å¾ªç¯ä»çˆ·çˆ·å¼€å§‹å¤„ç†çº¢è‰²å†²çª</span>
                    x <span class="token operator">=</span> <span class="token function">parentOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment" spellcheck="true">// å¦‚æœè‡ªå·±å’Œçˆ¸çˆ¸æ˜¯çº¢è‰²ï¼Œä½†æ˜¯å”å”æ˜¯é»‘è‰²ï¼Œè¿™ç§æƒ…å†µå› ä¸ºä¸å¯¹ç§°ï¼Œä¸èƒ½ç›´æ¥è®¾æˆé»‘è‰²ï¼Œåªèƒ½æ”¹å˜è·¯çº¿</span>
                <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// å¦‚æœè‡ªå·±æ˜¯çˆ¸çˆ¸çš„å³å­©å­</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token function">rightOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">// ä¸‹æ¬¡å¤„ç†çš„å¼€å§‹ä½ç½®ä¸å˜ï¼Œä½†æ˜¯äººå˜äº†</span>
                        x <span class="token operator">=</span> <span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">// æŠŠçˆ¸çˆ¸å·¦æ—‹ï¼Œå³è‡ªå·±é¡¶ä¸Šçˆ¸çˆ¸çš„ä½ç½®ï¼Œçˆ¸çˆ¸ä¸‹é™ä¸ºè‡ªå·±çš„å·¦å­©å­</span>
                        <span class="token function">rotateLeft</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token comment" spellcheck="true">// æŠŠæ–°çˆ¸çˆ¸è®¾ä¸ºé»‘è‰²</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// å…ˆæŠŠçˆ·çˆ·è®¾ä¸ºçº¢è‰²</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> RED<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// å†æŠŠçˆ·çˆ·å³æ—‹ï¼Œå³æ–°çˆ¸çˆ¸é¡¶ä¸Šçˆ·çˆ·çš„ä½ç½®ï¼Œçˆ·çˆ·ä¸‹é™ä¸ºæ–°çˆ¸çˆ¸çš„å³å­©å­</span>
                    <span class="token function">rotateRight</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// å¦‚æœå½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æ˜¯å³èŠ‚ç‚¹ï¼Œå¯¹ç§°ï¼Œç•¥</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// ...</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²</span>
        root<span class="token punctuation">.</span>color <span class="token operator">=</span> BLACK<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p><img src="/imgs/RedBlackTreeFixAfterInsertion.png" alt="çº¢è‰²æ’å…¥é‡å¹³è¡¡ by huangzhike"></p>
<p>P.S.</p>
<p>è¿™ä¸ªæ’å…¥å’Œåˆ é™¤çš„å›¾æ˜¯æ ¹æ®TreeMapçš„é‡å¹³è¡¡æ–¹æ³•ç”»çš„ï¼ŒèŠ±äº†æˆ‘ä¸€æ•´ä¸ªæ™šä¸Šï¼ˆæœ¬æ¥æ‰“ç®—æ˜¯åœ¨å¡å°”è¾¾çˆ¬æ ‘æé¸Ÿçªçš„ï¼‰ï¼Œç„¶åçº¢é»‘æ ‘æˆ‘èŠ±äº†å¥½å‡ å¤©ï¼ŒæŠŠå¢åˆ æ”¹æŸ¥æ˜¯ç†é¡ºäº†ï¼ˆå¯¹ï¼Œæ¯è¡Œä»£ç ï¼‰ï¼Œç„¶åå‘è§‰ï¼Œç„¶å¹¶åµï¼Ÿ</p>
<p>æˆ‘è¿˜æ˜¯å†™ä¸å‡ºæ¥ã€‚</p>
<p>æ’å…¥åˆ é™¤çš„è¿™å‡ ç§æƒ…å†µï¼Œæ ¹æœ¬è®°ä¸ä½å•Šã€‚</p>
<p>å¦ˆå¦ˆæˆ‘å†ä¹Ÿä¸çœ‹ç®—æ³•äº†ã€‚</p>
<hr>
<p>TreeMap#get</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">public</span> V <span class="token function">get</span><span class="token punctuation">(</span>Object key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> p <span class="token operator">=</span> <span class="token function">getEntry</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> null <span class="token operator">?</span> null <span class="token operator">:</span> p<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p>TreeMap#getEntry</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">final</span> Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> <span class="token function">getEntry</span><span class="token punctuation">(</span>Object key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// Offload comparator-based version for sake of performance</span>
        <span class="token comment" spellcheck="true">// æœ‰å…ˆä½¿ç”¨Comparatoræ¯”è¾ƒè·å–</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>comparator <span class="token operator">!=</span> null<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token function">getEntryUsingComparator</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> null<span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">"unchecked"</span><span class="token punctuation">)</span> Comparable<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> K<span class="token operator">></span> k <span class="token operator">=</span> <span class="token punctuation">(</span>Comparable<span class="token operator">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> K<span class="token operator">></span><span class="token punctuation">)</span> key<span class="token punctuation">;</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> p <span class="token operator">=</span> root<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> cmp <span class="token operator">=</span> k<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
                p <span class="token operator">=</span> p<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>
                p <span class="token operator">=</span> p<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token keyword">else</span>
                <span class="token keyword">return</span> p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> null<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<hr>
<p>TreeMap#remove</p>
<pre class=" language-java"><code class="language-java">    <span class="token comment" spellcheck="true">/**
     * æ‰¾åˆ°åˆ é™¤çš„èŠ‚ç‚¹ï¼Œæ‰¾åˆ°æ›¿è¡¥èŠ‚ç‚¹ï¼Œæ›¿è¡¥é¡¶ä¸Šï¼Œé‡æ–°å¹³è¡¡
     */</span>
    <span class="token keyword">public</span> V <span class="token function">remove</span><span class="token punctuation">(</span>Object key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// å…ˆéå†è·å–è¦åˆ é™¤çš„èŠ‚ç‚¹</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> p <span class="token operator">=</span> <span class="token function">getEntry</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> null<span class="token punctuation">)</span>
            <span class="token keyword">return</span> null<span class="token punctuation">;</span>
        V oldValue <span class="token operator">=</span> p<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// å†ä»è¯¥èŠ‚ç‚¹å¼€å§‹åˆ é™¤</span>
        <span class="token function">deleteEntry</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> oldValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p>TreeMap#deleteEntry</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">deleteEntry</span><span class="token punctuation">(</span>Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        modCount<span class="token operator">++</span><span class="token punctuation">;</span>
        size<span class="token operator">--</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// If strictly internal, copy successor's element to p and then make p point to successor.</span>
        <span class="token comment" spellcheck="true">// å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹æœ‰å·¦å³ä¸¤ä¸ªå­èŠ‚ç‚¹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>left <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span>right <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// æ‰¾åˆ°æ¯”è¯¥èŠ‚ç‚¹å¤§çš„æœ€å°èŠ‚ç‚¹ï¼Œå°±æ˜¯ç»§æ‰¿è€…ï¼Œé¡¶æ›¿è¦åˆ é™¤çš„èŠ‚ç‚¹çš„ä½ç½®</span>
            Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> s <span class="token operator">=</span> <span class="token function">successor</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// ç”¨ç»§æ‰¿è€…çš„å€¼æ›¿ä»£è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆç°åœ¨æ ‘é‡Œè¾¹å°±å­˜åœ¨ä¸¤ä¸ªç»§æ‰¿è€…çš„å€¼</span>
            p<span class="token punctuation">.</span>key <span class="token operator">=</span> s<span class="token punctuation">.</span>key<span class="token punctuation">;</span>
            p<span class="token punctuation">.</span>value <span class="token operator">=</span> s<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// ç»§æ‰¿è€…èŠ‚ç‚¹å°±å˜æˆäº†è¦åˆ é™¤çš„èŠ‚ç‚¹ï¼Œå¹¶ä¸”è¿™ä¸ªç»§æ‰¿è€…ä¸€å®šæ²¡æœ‰å·¦å­©å­</span>
            <span class="token comment" spellcheck="true">// è½¬åŒ–æˆäº†è¦åˆ é™¤çš„èŠ‚ç‚¹æœ‰ä¸€ä¸ªæˆ–æ²¡æœ‰å­èŠ‚ç‚¹çš„æƒ…å†µ</span>
            p <span class="token operator">=</span> s<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// p has 2 children</span>
        <span class="token comment" spellcheck="true">// Start fixup at replacement node, if it exists.</span>
        <span class="token comment" spellcheck="true">// å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œä¸éœ€è¦æ›¿å¸¦èŠ‚ç‚¹</span>
        <span class="token comment" spellcheck="true">// å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œè¯¥å­èŠ‚ç‚¹å°±æ˜¯æ›¿ä»£èŠ‚ç‚¹</span>
        Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> replacement <span class="token operator">=</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>left <span class="token operator">!=</span> null <span class="token operator">?</span> p<span class="token punctuation">.</span>left <span class="token operator">:</span> p<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// è¦åˆ é™¤çš„èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>replacement <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// Link replacement to parent</span>
            <span class="token comment" spellcheck="true">// å°†æ›¿ä»£èŠ‚ç‚¹çš„çˆ¶æŒ‡é’ˆæŒ‡å‘è¦åˆ é™¤èŠ‚ç‚¹çš„çˆ¶äº²</span>
            replacement<span class="token punctuation">.</span>parent <span class="token operator">=</span> p<span class="token punctuation">.</span>parent<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹æ²¡æœ‰çˆ¶äº²ï¼Œè¯´æ˜æ˜¯æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæ›¿ä»£èŠ‚ç‚¹å°±è¦æˆä¸ºæ–°çš„æ ¹èŠ‚ç‚¹</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>parent <span class="token operator">==</span> null<span class="token punctuation">)</span>
                root <span class="token operator">=</span> replacement<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹æ˜¯å·¦å­©å­ï¼Œé‚£ä¹ˆå°†çˆ¶äº²çš„å·¦æŒ‡é’ˆæŒ‡å‘æ›¿ä»£èŠ‚ç‚¹</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> p<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
                p<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left <span class="token operator">=</span> replacement<span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹æ˜¯å³å­©å­ï¼Œé‚£ä¹ˆå°†çˆ¶äº²çš„å³æŒ‡é’ˆæŒ‡å‘æ›¿ä»£èŠ‚ç‚¹</span>
            <span class="token keyword">else</span>
                p<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>right <span class="token operator">=</span> replacement<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// Null out links so they are OK to use by fixAfterDeletion.</span>
            <span class="token comment" spellcheck="true">// å°†è¦åˆ é™¤çš„èŠ‚ç‚¹çš„æ‰€æœ‰æŒ‡é’ˆç½®ç©ºï¼Œä»æ ‘ä¸­ç§»é™¤</span>
            p<span class="token punctuation">.</span>left <span class="token operator">=</span> p<span class="token punctuation">.</span>right <span class="token operator">=</span> p<span class="token punctuation">.</span>parent <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// Fix replacement</span>
            <span class="token comment" spellcheck="true">// å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ï¼Œé‚£ä¹ˆä»æ›¿ä»£èŠ‚ç‚¹å¼€å§‹å¹³è¡¡</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
                <span class="token function">fixAfterDeletion</span><span class="token punctuation">(</span>replacement<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// è¦åˆ é™¤çš„èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ˜¯æ ¹èŠ‚ç‚¹ï¼Œè¯´æ˜è¿™æ£µæ ‘åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>parent <span class="token operator">==</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// return if we are the only node.</span>
            root <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// è¦åˆ é™¤çš„èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">//  No children. Use self as phantom replacement and unlink.</span>
            <span class="token comment" spellcheck="true">// å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹æ˜¯é»‘è‰²çš„ï¼Œé‚£ä¹ˆå…ˆæŠŠè¦åˆ é™¤çš„èŠ‚ç‚¹å½“æˆæ›¿ä»£èŠ‚ç‚¹ï¼Œå‡è®¾æ ‘å·²ç»å°‘äº†ä¸€ä¸ªé»‘è‰²ï¼Œå¼€å§‹å¹³è¡¡ï¼Œå¹³è¡¡å®Œæˆåå°±ä¼šå¤šå‡ºä¸€ä¸ªé»‘è‰²</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>color <span class="token operator">==</span> BLACK<span class="token punctuation">)</span>
                <span class="token function">fixAfterDeletion</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// ç„¶åå†åˆ é™¤é»‘è‰²ï¼Œè¿™æ ·å¤šå‡ºæ¥çš„é»‘è‰²å°±è¢«ç§»é™¤ï¼Œå¹³è¡¡æ‰çœŸæ­£å®Œæˆ</span>
            <span class="token comment" spellcheck="true">// å¦‚æœè¦åˆ é™¤çš„èŠ‚ç‚¹æœ‰çˆ¶äº²ï¼ŒæŠŠçˆ¶äº²å¯¹å®ƒçš„å¼•ç”¨ç½®ç©º</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>parent <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> p<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">)</span>
                    p<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>left <span class="token operator">=</span> null<span class="token punctuation">;</span>
                <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> p<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>right<span class="token punctuation">)</span>
                    p<span class="token punctuation">.</span>parent<span class="token punctuation">.</span>right <span class="token operator">=</span> null<span class="token punctuation">;</span>
                p<span class="token punctuation">.</span>parent <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></code></pre>
<p>TreeMap#successor</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">static</span> <span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> <span class="token function">successor</span><span class="token punctuation">(</span>Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> null<span class="token punctuation">)</span>
            <span class="token keyword">return</span> null<span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// å¦‚æœå³ä¾§æœ‰å­æ ‘ï¼Œä»å³å­æ ‘å¼€å§‹å‘å·¦æ‰¾åˆ°æœ€å·¦çš„èŠ‚ç‚¹ï¼Œå³å¤§äºè¯¥èŠ‚ç‚¹çš„æœ€å°èŠ‚ç‚¹ï¼Œå¹¶è¿”å›</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>right <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> p <span class="token operator">=</span> t<span class="token punctuation">.</span>right<span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>left <span class="token operator">!=</span> null<span class="token punctuation">)</span>
                p <span class="token operator">=</span> p<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
            <span class="token keyword">return</span> p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment" spellcheck="true">// å¦‚æœå³ä¾§æ²¡æœ‰å­æ ‘ï¼Œé‚£å°±ä»çˆ¶èŠ‚ç‚¹å‘ä¸Šå›æº¯ï¼Œç¬¬ä¸€ä¸ªæ˜¯å·¦å­©å­çš„èŠ‚ç‚¹ï¼Œå°±æ˜¯å¤§äºè¦æ‰¾èŠ‚ç‚¹çš„æœ€å°èŠ‚ç‚¹ï¼Œå¹¶è¿”å›</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> p <span class="token operator">=</span> t<span class="token punctuation">.</span>parent<span class="token punctuation">;</span>
            Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> ch <span class="token operator">=</span> t<span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span>p <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> ch <span class="token operator">==</span> p<span class="token punctuation">.</span>right<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                ch <span class="token operator">=</span> p<span class="token punctuation">;</span>
                p <span class="token operator">=</span> p<span class="token punctuation">.</span>parent<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> p<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span></code></pre>
<p>TreeMap#fixAfterDeletion</p>
<pre class=" language-java"><code class="language-java">    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">fixAfterDeletion</span><span class="token punctuation">(</span>Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// ä»è¦è°ƒæ•´çš„èŠ‚ç‚¹å¼€å§‹å‘ä¸Šéå†ä¿®å¤ï¼Œå½“å‰èŠ‚ç‚¹æ˜¯é»‘è‰²æ˜¯æ‰å¤„ç†</span>
        <span class="token comment" spellcheck="true">// å› ä¸ºè¿™ä¸ªæ–¹æ³•æ˜¯å¤„ç†ç¼ºå¤±ä¸€ä¸ªé»‘è‰²èŠ‚ç‚¹çš„æƒ…å†µï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œé‚£ç›´æ¥æŠŠå½“å‰èŠ‚ç‚¹è®¾ä¸ºé»‘è‰²å°±å¯ä»¥è¡¥ä¸Šäº†ï¼Œä¸éœ€è¦å¾ªç¯</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>x <span class="token operator">!=</span> root <span class="token operator">&amp;&amp;</span> <span class="token function">colorOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">==</span> BLACK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">// å½“å‰çš„èŠ‚ç‚¹æ˜¯å·¦å­©å­</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">==</span> <span class="token function">leftOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// è·å–å½“å‰èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹</span>
                Entry<span class="token operator">&lt;</span>K<span class="token punctuation">,</span> V<span class="token operator">></span> sib <span class="token operator">=</span> <span class="token function">rightOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">// å¦‚æœå…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢è‰²</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">colorOf</span><span class="token punctuation">(</span>sib<span class="token punctuation">)</span> <span class="token operator">==</span> RED<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// å°†å…„å¼ŸèŠ‚ç‚¹è®¾ä¸ºé»‘è‰²</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span>sib<span class="token punctuation">,</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// å°†çˆ¶èŠ‚ç‚¹è®¾ä¸ºçº¢è‰²</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> RED<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// å°†çˆ¶èŠ‚ç‚¹å·¦æ—‹</span>
                    <span class="token function">rotateLeft</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// çˆ¶èŠ‚ç‚¹å·¦æ—‹åï¼Œå½“å‰èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹ä¹Ÿå˜äº†</span>
                    sib <span class="token operator">=</span> <span class="token function">rightOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment" spellcheck="true">// å¦‚æœå…„å¼ŸèŠ‚ç‚¹çš„ä¸¤ä¸ªå­©å­éƒ½æ˜¯é»‘è‰²</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">colorOf</span><span class="token punctuation">(</span><span class="token function">leftOf</span><span class="token punctuation">(</span>sib<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> BLACK <span class="token operator">&amp;&amp;</span> <span class="token function">colorOf</span><span class="token punctuation">(</span><span class="token function">rightOf</span><span class="token punctuation">(</span>sib<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> BLACK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// å°†å…„å¼Ÿè®¾ä¸ºçº¢è‰²</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span>sib<span class="token punctuation">,</span> RED<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// ä¸‹ä¸ªå¾ªç¯ä»çˆ¶èŠ‚ç‚¹ç»§ç»­ï¼Œå¦‚æœçˆ¶èŠ‚ç‚¹æ˜¯é»‘è‰²ï¼Œç»§ç»­å¤„ç†ï¼Œå¦‚æœæ˜¯çº¢è‰²ï¼Œæ”¹ä¸ºé»‘è‰²ï¼Œä¸å†å¤„ç†</span>
                    x <span class="token operator">=</span> <span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment" spellcheck="true">// å¦‚æœå…„å¼ŸèŠ‚ç‚¹æœ‰çº¢è‰²çš„å­©å­å­˜åœ¨</span>
                <span class="token keyword">else</span> <span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// å¦‚æœå…„å¼ŸèŠ‚ç‚¹çš„å³å­©å­æ˜¯é»‘è‰²</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">colorOf</span><span class="token punctuation">(</span><span class="token function">rightOf</span><span class="token punctuation">(</span>sib<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> BLACK<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">// å°†å…„å¼ŸèŠ‚ç‚¹çš„å·¦å­©å­è®¾ä¸ºé»‘è‰²</span>
                        <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">leftOf</span><span class="token punctuation">(</span>sib<span class="token punctuation">)</span><span class="token punctuation">,</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">// å°†å…„å¼ŸèŠ‚ç‚¹è®¾ä¸ºçº¢è‰²</span>
                        <span class="token function">setColor</span><span class="token punctuation">(</span>sib<span class="token punctuation">,</span> RED<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">// å°†å…„å¼ŸèŠ‚ç‚¹å³æ—‹</span>
                        <span class="token function">rotateRight</span><span class="token punctuation">(</span>sib<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token comment" spellcheck="true">// å…„å¼ŸèŠ‚ç‚¹å·¦æ—‹åï¼Œå½“å‰èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹ä¹Ÿå˜äº†</span>
                        sib <span class="token operator">=</span> <span class="token function">rightOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                    <span class="token comment" spellcheck="true">// è®¾ç½®å…„å¼ŸèŠ‚ç‚¹ä¸ºçˆ¶èŠ‚ç‚¹çš„é¢œè‰²</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span>sib<span class="token punctuation">,</span> <span class="token function">colorOf</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// è®¾ç½®çˆ¶äº²ä¸ºé»‘è‰²</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">,</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// è®¾ç½®å…„å¼ŸèŠ‚ç‚¹çš„å³å­©å­ä¸ºé»‘è‰²</span>
                    <span class="token function">setColor</span><span class="token punctuation">(</span><span class="token function">rightOf</span><span class="token punctuation">(</span>sib<span class="token punctuation">)</span><span class="token punctuation">,</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// å°†çˆ¶èŠ‚ç‚¹å·¦æ—‹</span>
                    <span class="token function">rotateLeft</span><span class="token punctuation">(</span><span class="token function">parentOf</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment" spellcheck="true">// å¹³è¡¡ç»“æŸï¼Œä¸éœ€è¦ç»§ç»­äº†</span>
                    x <span class="token operator">=</span> root<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">// è¦åˆ é™¤çš„èŠ‚ç‚¹æ˜¯å³å­©å­ï¼Œå¯¹ç§°æ“ä½œï¼Œç•¥</span>
            <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment" spellcheck="true">// symmetric</span>
                <span class="token comment" spellcheck="true">// ...</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token comment" spellcheck="true">// å¤„ç†ç»“æŸ</span>
        <span class="token comment" spellcheck="true">// æŠŠæœ€åå¤„ç†çš„èŠ‚ç‚¹è®¾ä¸ºé»‘è‰²</span>
        <span class="token function">setColor</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> BLACK<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre>
<p><img src="/imgs/RedBlackTreeFixAfterDeletion.png" alt="é»‘è‰²åˆ é™¤é‡å¹³è¡¡ by huangzhike"></p>
<hr>
<p>TreeMapçš„è¿­ä»£å™¨å¾ˆå¤šï¼Œä»¥å¸¸ç”¨çš„ä¸ºä¾‹ï¼ˆè¿”å›é›†åˆï¼Œå†è·å–è¿­ä»£å™¨ï¼‰ï¼š</p>
<ul>
<li><p>TreeMap#keySet</p>
</li>
<li><p>TreeMap#values</p>
</li>
<li><p>TreeMap#entrySet</p>
</li>
</ul>
<p>TreeMapçš„ç‰¹ç‚¹æ˜¯æœ‰åºï¼Œéå†æ˜¯æœ‰åºçš„ï¼Œç”±å°åˆ°å¤§ï¼Œç±»ä¼¼äºŒå‰æ ‘çš„ä¸­åºéå†ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼æ˜æ˜¾æ•ˆç‡ä¸å¥½çš„ï¼Œå› ä¸ºé¦–å…ˆä»æ ¹èŠ‚ç‚¹å‘å·¦ä¸‹éå†åˆ°æœ€å°çš„èŠ‚ç‚¹ï¼Œå†ç»§ç»­éå†åˆ°æ¬¡å°çš„èŠ‚ç‚¹ï¼Œè¿™æœŸé—´ä¸çŸ¥è¦ç»è¿‡å¤šå°‘ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>ä»£ç å°±ä¸è´´äº†ï¼Œè¿™ä¸‰ä¸ªè¿­ä»£å™¨éå†çš„å•ä½éƒ½æ˜¯Entryï¼Œå³èŠ‚ç‚¹ã€‚</p>
<p>ä½†æ˜¯KeyIteratoråªæš´éœ²äº†Keyï¼ŒValueIteratoråªæš´éœ²äº†Valueï¼ŒEntryIteratoræš´éœ²äº†Entryã€‚</p>
<p>å¦‚æœé€šè¿‡KeyIteratoréå†Keyï¼Œç„¶åå†é€šè¿‡Keyè·å–Valueï¼Œè¿™åˆå¾—é‡æ–°éå†æŸ¥è¯¢ä¸€éï¼Œæ‰€ä»¥ä¸€èˆ¬éƒ½ç”¨EntryIteratorï¼Œæ–¹ä¾¿ã€‚</p>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


        <footer>
             
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

        </footer>
    </div>
    <!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
    <script>
        var timeEnd = new Date();
        console.log('è€—æ—¶ï¼š' + (timeEnd - timeStart));
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre').forEach((block) => {
                block.classList.add("line-numbers");
            });
        });
    </script>
    <!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
    <!-- material design -->
    <!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
    <!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
    <!-- toc -->
    <!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
    <!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
    <!-- <script src="/js/main.js"></script> -->
    <script src="/js/prism.js"></script>
</body>
</html>

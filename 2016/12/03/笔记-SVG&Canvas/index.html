<!DOCTYPE HTML>
<html>
	<head><meta name="generator" content="Hexo 3.9.0">
		<meta charset="utf-8">
		<script src="/js/highlight.js"></script>
				<script>hljs.initHighlightingOnLoad();var timeStart = new Date();</script>
		
		<title>[笔记]-SVG&amp;Canvas | 一个放笔记的地方而已</title>
		
		<meta name="author" content="Huangzhike">
		
		
		<meta name="description" content="K.I.S.S">
		
		
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		
		<meta property="og:title" content="[笔记]-SVG&amp;Canvas">
		
		<meta property="og:site_name" content="一个放笔记的地方而已">
		
		
		<!-- favicon -->
		<link rel="icon" type="image/ico" href="/ok.ico" sizes="32x32">
 


		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.ico">
		<meta name="theme-color" content="#009688">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic"> 

		<!-- favicon end -->
		<!-- <link href="//ok.ico" rel="icon"> -->
		
		<!-- toc -->
		<!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
		<!-- material design -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
		<link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
		 
		 
		<!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
		<!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
	</head>
</html>
<body>
	<nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">菜单</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">一个放笔记的地方而已</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/" title="">
						<i class="fa fa-home"></i>Index
					</a>
				</li>
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

	<div class="container" >
		<div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[笔记]-SVG&amp;Canvas</h2>
				
				<div>
					<div class="post-time">2016-12-03</div>
				</div>
				
				<div class="article-content">
				<p>目前只是简单的学习</p>
<ul>
<li>SVG参考：<a href="http://www.runoob.com/svg/svg-tutorial.html" target="_blank" rel="noopener">http://www.runoob.com/svg/svg-tutorial.html</a></li>
<li><p>Canvas参考：HTML5 Canvas核心技术 by David Greary</p>
</li>
<li><p>SVG：可缩放矢量图形（Scalable Vector Graphics），使用 XML 格式定义图像。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE svg PUBLIC &quot;-//W3C//DTD SVG 1.1//EN&quot; </span><br><span class="line">	&quot;http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;&gt;</span><br><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">	&lt;circle cx=&quot;100&quot; cy=&quot;50&quot; r=&quot;40&quot; stroke=&quot;black&quot; stroke-width=&quot;2&quot; fill=&quot;red&quot; /&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>第一行包含了 XML 声明。</p>
<ul>
<li>注意 standalone 属性，规定此 SVG 文件是否是”独立的”，或含有对外部文件的引用。</li>
<li>standalone=”no” 意味着 SVG 文档会引用一个外部文件 - 在这里是 DTD 文件。</li>
</ul>
</li>
<li><p>第二和第三行引用了这个外部的 SVG DTD。</p>
<ul>
<li>该 DTD 位于 “<a href="http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;。" target="_blank" rel="noopener">http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd&quot;。</a></li>
<li>该 DTD 位于 W3C，含有所有允许的 SVG 元素。</li>
</ul>
</li>
<li><p>SVG 代码以 <code>&lt;svg&gt;</code> 开始</p>
<ul>
<li>width 和 height 属性设置宽度和高度；</li>
<li>version 属性定义 SVG 版本；xmlns 属性定义 SVG 命名空间。</li>
</ul>
</li>
<li><p>SVG 的 <code>&lt;circle&gt;</code> 创建圆。</p>
<ul>
<li>cx 和 cy 属性定义圆中心的 x 和 y 坐标。如果忽略，圆点会被设置为 (0, 0)。</li>
<li>r 属性定义圆的半径。</li>
<li>stroke 和 stroke-width 属性控制如何显示形状的轮廓。设置为 2px 宽，黑边框。</li>
<li>fill 属性设置形状内的颜色。把填充颜色设置为红色。</li>
</ul>
</li>
<li><p>SVG 文件可通过以下标签嵌入 HTML 文档：<code>&lt;embed&gt;</code>、<code>&lt;object&gt;</code>或 <code>&lt;iframe&gt;</code>，可以直接嵌入到HTML页面中，可以链接到SVG文件。</p>
<ul>
<li>使用 <code>&lt;iframe&gt;</code> 标签：<code>&lt;iframe src=&quot;circle1.svg&quot;&gt;&lt;/iframe&gt;</code></li>
<li><p>使用 <code>&lt;embed&gt;</code> 标签：<code>&lt;embed src=&quot;circle1.svg&quot; type=&quot;image/svg+xml&quot; /&gt;</code></p>
<ul>
<li>优势：所有主要浏览器都支持，并允许使用脚本</li>
<li>缺点：不推荐在HTML4和XHTML中使用（但在HTML5允许）</li>
</ul>
</li>
<li><p>使用 <code>&lt;object&gt;</code> 标签：<code>&lt;object data=&quot;circle1.svg&quot; type=&quot;image/svg+xml&quot;&gt;&lt;/object&gt;</code></p>
<ul>
<li>优势：所有主要浏览器都支持，并支持HTML4，XHTML和HTML5标准</li>
<li>缺点：不允许使用脚本。</li>
</ul>
</li>
<li><p>直接在HTML嵌入SVG代码：Opera中SVG不能直接嵌入。</p>
</li>
<li>链接到SVG文件：可以用<a>标签链接到一个SVG文件：<a href="circle1.svg">View SVG file</a></a></li>
</ul>
</li>
<li><p>矩形 <rect></rect></p>
</li>
<li>圆形 <circle></circle></li>
<li>椭圆 <ellipse></ellipse></li>
<li>线 <line></line></li>
<li>折线 <polyline></polyline></li>
<li>多边形 <polygon></polygon></li>
<li><p>路径 <path></path></p>
</li>
<li><p><code>&lt;rect&gt;</code> 标签创建矩形，以及矩形的变种：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">	&lt;rect x=&quot;50&quot; y=&quot;20&quot; rx=&quot;20&quot; ry=&quot;20&quot; width=&quot;300&quot; height=&quot;100&quot; </span><br><span class="line">		style=&quot;fill:rgb(0,0,255);stroke-width:1;stroke:rgb(0,0,0);fill-opacity:0.1;stroke-opacity:0.9;opacity:0.5&quot;/&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>width 和 height 属性可定义矩形的高度和宽度</p>
</li>
<li>x 属性定义矩形的左侧位置（如，x=”0” 定义矩形到浏览器窗口左侧的距离是 0px）</li>
<li>y 属性定义矩形的顶端位置（如，y=”0” 定义矩形到浏览器窗口顶端的距离是 0px）</li>
<li>rx 和 ry 属性使矩形产生圆角。</li>
<li><p>style 属性用来定义 CSS 属性：</p>
<ul>
<li>CSS 的 fill 属性定义矩形的填充颜色（rgb 值、颜色名或者十六进制值）</li>
<li>CSS 的 stroke-width 属性定义矩形边框的宽度</li>
<li>CSS 的 stroke 属性定义矩形边框的颜色</li>
<li>CSS 的 fill-opacity 属性定义填充颜色透明度（合法的范围是：0 - 1）</li>
<li>CSS 的 stroke-opacity 属性定义笔触颜色的透明度（合法的范围是：0 - 1）</li>
<li>CSS opacity 属性定义了元素的透明值 (范围: 0 到 1)。</li>
</ul>
</li>
<li><p><code>&lt;circle&gt;</code> 标签用来创建圆：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">  &lt;circle cx=&quot;100&quot; cy=&quot;50&quot; r=&quot;40&quot; stroke=&quot;black&quot;</span><br><span class="line">  stroke-width=&quot;2&quot; fill=&quot;red&quot;/&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>cx和cy属性定义圆点的x和y坐标。如果省略，圆的中心会被设置为(0, 0)</p>
</li>
<li><p>r属性定义圆的半径</p>
</li>
<li><p><code>&lt;ellipse&gt;</code> 元素创建椭圆，椭圆与圆不同之处在于椭圆有不同的x和y半径，而圆的x和y半径是相同的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">  &lt;ellipse cx=&quot;300&quot; cy=&quot;80&quot; rx=&quot;100&quot; ry=&quot;50&quot;</span><br><span class="line">  style=&quot;fill:yellow;stroke:purple;stroke-width:2&quot;/&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>CX属性定义的椭圆中心的x坐标</p>
</li>
<li>CY属性定义的椭圆中心的y坐标</li>
<li>RX属性定义的水平半径</li>
<li><p>RY属性定义的垂直半径</p>
</li>
<li><p><code>&lt;line&gt;</code> 元素创建直线：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">  &lt;line x1=&quot;0&quot; y1=&quot;0&quot; x2=&quot;200&quot; y2=&quot;200&quot;</span><br><span class="line">  style=&quot;stroke:rgb(255,0,0);stroke-width:2&quot;/&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>x1 属性在 x 轴定义线条的开始</p>
</li>
<li>y1 属性在 y 轴定义线条的开始</li>
<li>x2 属性在 x 轴定义线条的结束</li>
<li><p>y2 属性在 y 轴定义线条的结束</p>
</li>
<li><p><code>&lt;polygon&gt;</code> 标签用来创建含有不少于三个边的图形。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">  &lt;polygon points=&quot;100,10 40,180 190,60 10,60 160,180&quot;</span><br><span class="line">  style=&quot;fill:lime;stroke:purple;stroke-width:5;fill-rule:evenodd;&quot; /&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>points 属性定义多边形每个角的 x 和 y 坐标</p>
</li>
<li><p><code>&lt;polyline&gt;</code> 元素创建任何只有直线的形状：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">  &lt;polyline points=&quot;20,20 40,25 60,40 80,120 120,140 200,180&quot;</span><br><span class="line">  style=&quot;fill:none;stroke:black;stroke-width:3&quot; /&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>&lt;path&gt;</code> 元素定义路径。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 定义了一条路径，开始于位置150 0，到达位置75 200，再到225 200，最后在150 0关闭路径 --&gt;</span><br><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">  &lt;path d=&quot;M150 0 L75 200 L225 200 Z&quot; /&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>大写表示绝对定位，小写表示相对定位：</p>
<ul>
<li>M = moveto</li>
<li>L = lineto</li>
<li>H = horizontal lineto</li>
<li>V = vertical lineto</li>
<li>C = curveto</li>
<li>S = smooth curveto</li>
<li>Q = quadratic Bézier curve</li>
<li>T = smooth quadratic Bézier curveto</li>
<li>A = elliptical Arc</li>
<li>Z = closepath</li>
</ul>
</li>
</ul>
<p><code>&lt;text&gt;</code>元素定义文本。</p>
<ul>
<li><p>旋转的文字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">  &lt;text x=&quot;0&quot; y=&quot;15&quot; fill=&quot;red&quot; transform=&quot;rotate(30 20,40)&quot;&gt;I love SVG&lt;/text&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>元素可以安排任何分小组与<code>&lt;tspan&gt;</code> 元素的数量。每个<code>&lt;tspan&gt;</code> 元素可以包含不同的格式和位置。几行文本(与 <code>&lt;tspan&gt;</code>元素)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">  &lt;text x=&quot;10&quot; y=&quot;20&quot; style=&quot;fill:red;&quot;&gt;Several lines:</span><br><span class="line">	&lt;tspan x=&quot;10&quot; y=&quot;45&quot;&gt;First line&lt;/tspan&gt;</span><br><span class="line">	&lt;tspan x=&quot;10&quot; y=&quot;70&quot;&gt;Second line&lt;/tspan&gt;</span><br><span class="line">  &lt;/text&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>路径上的文字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;</span><br><span class="line">xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt;</span><br><span class="line">   &lt;defs&gt;</span><br><span class="line">	&lt;path id=&quot;path1&quot; d=&quot;M75,20 a1,1 0 0,0 100,0&quot; /&gt;</span><br><span class="line">  &lt;/defs&gt;</span><br><span class="line">  &lt;text x=&quot;10&quot; y=&quot;100&quot; style=&quot;fill:red;&quot;&gt;</span><br><span class="line">	&lt;textPath xlink:href=&quot;#path1&quot;&gt;I love SVG I love SVG&lt;/textPath&gt;</span><br><span class="line">  &lt;/text&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>作为链接文本（ <code>&lt;a&gt;</code> 元素）：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;</span><br><span class="line">xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt;</span><br><span class="line">  &lt;a xlink:href=&quot;http://www.w3schools.com/svg/&quot; target=&quot;_blank&quot;&gt;</span><br><span class="line">	&lt;text x=&quot;0&quot; y=&quot;15&quot; fill=&quot;red&quot;&gt;I love SVG&lt;/text&gt;</span><br><span class="line">  &lt;/a&gt;</span><br><span class="line">&lt;/svg&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Internet Explorer和Safari不支持SVG滤镜<br><code>&lt;defs&gt;</code> 和 <code>&lt;filter&gt;</code>：<br>所有互联网的SVG滤镜定义在<code>&lt;defs&gt;</code>元素中。<code>&lt;defs&gt;</code>元素定义短并含有特殊元素（如滤镜）定义。<br><code>&lt;filter&gt;</code>标签定义SVG滤镜。</p>
</li>
</ul>
<p>HTML5画布 <code>&lt;canvas&gt;</code>元素图形的绘制，通过JavaScript来完成，<code>&lt;canvas&gt;</code> 标签只是图形容器，必须使用脚本来绘制图形。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;canvas id=&quot;myCanvas&quot; width=&quot;200&quot; height=&quot;100&quot; style=&quot;border:1px solid #000000;&quot;&gt;</span><br><span class="line">	浏览器不支持 HTML5 canvas 标签。</span><br><span class="line">&lt;/canvas&gt;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>设置canvas的宽度与高度时，不能使用px，最好只设置非负整数；</li>
<li>默认情况下，canvas的大小300像素宽，150像素高，可通过width和height来改变。</li>
<li>canvas有两套尺寸，一是元素本身的大小，一是元素绘图表面的大小。设置width和height属性时，两者都会改变。</li>
<li>通过CSS设置时，只会改变元素本身的大小，不会改变绘图表面大小。</li>
<li>canvas元素的方法：<ul>
<li>getContext()：获取绘图环境对象</li>
<li>toDataURL(type, quality)：转dataurl</li>
<li>toBlob(callback, type, args)：转二进制</li>
</ul>
</li>
<li>绘图环境：canvas元素仅仅作为绘图环境对象的容器，绘图通过绘图环境对象来实现，也就是context</li>
<li><p>canvas 元素本身是没有绘图能力的。所有的绘制必须在 JavaScript 内部完成：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">	// 找到 &lt;canvas&gt; 元素</span><br><span class="line">	var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">	// 创建 context 对象</span><br><span class="line">	var ctx=c.getContext(&quot;2d&quot;);</span><br><span class="line">	// 绘制一个红色的矩形</span><br><span class="line">	ctx.fillStyle=&quot;#FF0000&quot;;</span><br><span class="line">	// 在画布上绘制 150x75 的矩形，从左上角开始 (0,0)</span><br><span class="line">	ctx.fillRect(0,0,150,75);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置fillStyle属性可以是CSS颜色，渐变，或图案。fillStyle 默认#000000。</p>
</li>
<li>fillRect(x,y,width,height) 方法定义了矩形当前的填充方式。</li>
<li>canvas 是一个二维网格。</li>
<li><p>canvas 的左上角坐标为 (0,0)</p>
</li>
<li><p>矩形绘制，三个方法：</p>
<ul>
<li>clearRect(x, y, w, h)：清除矩形区域</li>
<li>strokeRect(x, y, w, h)：描边矩形区域，影响属性有：<ul>
<li>strokeStyle</li>
<li>lineWidth</li>
<li>lineJoin</li>
<li>miterLimit</li>
</ul>
</li>
<li>fillRect(x, y, w, h)：填充矩形区域</li>
</ul>
</li>
<li><p>可以通过lineJoin属性来绘制圆角矩形，但是要控制如圆角半径之类的属性，就得自己绘制这些圆角了</p>
</li>
<li><p>颜色和透明度：在strokeStyle和fillStyle中可以指定CSS颜色，支持RGB、RGBA、HSL、HSLA、16进制RGB，或者颜色名称。</p>
</li>
<li>另外，strokeStyle和fillStyle不只可以设置颜色，还可以设置渐变色或图案</li>
<li>通过四个值指定阴影效果：<ul>
<li>shadowColor：阴影颜色</li>
<li>shadowOffsetX：阴影X轴偏移</li>
<li>shadowOffsetY：阴影Y轴偏移</li>
<li>shadowBlur：高斯模糊方程中的参数，控制阴影模糊程度</li>
</ul>
</li>
<li><p>通常通过半透明来绘制阴影，这样就可以显示背景了</p>
</li>
<li><p>用beginPath()来开始一段新的路径，rect()与arc()方法分别创建矩形及弧形路径，然后在绘图环境对象调用stroke()与fill()方法来进行描边或填充。</p>
</li>
<li>描边与填充操作的效果取决于当前的绘图属性，包括lineWidth、strokeStyle、fillStyle以及阴影属性</li>
<li><p>rect方法绘制的路径是封闭的，而arc方法若创建的不是圆形路径，就是不封闭的。要封闭路径，需要调用closePath()方法</p>
</li>
<li><p>两个用来创建线性路径的方法：moveTo()和lineTo()，用来绘制线段</p>
</li>
<li><p>如果在某两个像素的边界处绘制一条1像素宽的线段，但实际上会占据两个像素的宽度。此时，canvas的绘图环境对象会试着将半个像素华仔边界中线的右边，另外半个像素在左边。但是半个像素宽的线段不可能，所以会占据两个像素。但目前很多浏览器都是使用了“抗锯齿”技术，以便创建出“亚像素的绘制效果”。</p>
</li>
<li><p>圆弧和圆形都用arc()方法绘制，有6个参数：</p>
<ul>
<li>x</li>
<li>y</li>
<li>radius</li>
<li>startAngle</li>
<li>endAngle</li>
<li>counterClockwise</li>
</ul>
</li>
<li>arc方法的最后一个参数用来决定绘制方向是顺时针还是逆时针。可选，但最好不要省略</li>
<li><p>arc方法会将上一条子路径的终点与圆弧路径的起点相连</p>
</li>
<li><p>context.beginPath()：起始一条路径，或重置当前路径</p>
</li>
<li>context.fillStyle：设置canvas要填充的样式</li>
<li>context.arc(x,y,radius,startAngle,endAngle,flag)：以canvas内坐标点(x,y)为圆心radius为半径,起始弧度为startAngle，终止弧度为endAngle，flag为bool值， 当flag值为true时，表示逆时针旋转，当flag为false，表示以顺时针旋转;</li>
<li>context.closePath()</li>
<li>context.fill()：填充当前绘图路径;</li>
<li>rotate(angle)方法用来旋转当前绘图，接收一个参数，以弧度计，表示旋转角度;</li>
<li><p>canvas中的弧度表示：默认逆时针旋转。这和数学中默认的弧度旋转方向相反；</p>
</li>
<li><p>使用 arc() 方法 绘制一个圆</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">var ctx=c.getContext(&quot;2d&quot;);</span><br><span class="line">ctx.beginPath();</span><br><span class="line">ctx.arc(95,50,40,0,2*Math.PI);</span><br><span class="line">ctx.stroke();</span><br></pre></td></tr></table></figure>
</li>
<li><p>还可使用arcTo()方法创建点到点之间的圆弧，有5个参数：</p>
<ul>
<li>x1</li>
<li>y1</li>
<li>x2</li>
<li>y2</li>
<li>radius</li>
</ul>
</li>
<li><p>这个方法非常适合用来挥之矩形的圆角</p>
</li>
<li><p>在canvas中画圆弧时候，可以在context.beginPath()和context.closePath()中画多个圆弧。</p>
</li>
<li><p>当圆弧不是闭合状态时，所画的圆弧会相互连接起来。</p>
</li>
<li><p>canvas并没有提供绘制多边形的方法，所以需要通过lineTo和moveTo来绘制</p>
</li>
<li><p>canvas提供了如下方法进行坐标变换：</p>
<ul>
<li>rotate(double angleInRadians)：旋转</li>
<li>scale(double x, double y)：缩放</li>
<li>translate(double x, double y)：平移</li>
<li>scale(-1, 1)能够绘制水平镜像，scale(1, -1)能够绘制垂直镜像</li>
</ul>
</li>
<li><p>在Canvas上画线，使用以下两种方法：</p>
<ul>
<li>moveTo(x,y) 定义线条开始坐标</li>
<li>lineTo(x,y) 定义线条结束坐标</li>
</ul>
</li>
<li>绘制线条我们必须使用到 “ink” 的方法，就像stroke().</li>
<li><p>定义开始坐标(0,0), 和结束坐标 (200,100). 然后使用 stroke() 方法来绘制线条:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">var ctx=c.getContext(&quot;2d&quot;);</span><br><span class="line">ctx.moveTo(0,0);</span><br><span class="line">ctx.lineTo(200,100);</span><br><span class="line">ctx.stroke();</span><br></pre></td></tr></table></figure>
</li>
<li><p>三个与文本有关的方法：</p>
<ul>
<li>strokeText(text, x, y)：描边文本</li>
<li>fillText(text, x, y)：填充文本</li>
<li>measureText(text)：获取文本的宽度</li>
<li>strokeText和fillText还可以接受可选的第四个参数，指定文本的最大宽度</li>
</ul>
</li>
<li><p>font - 定义字体</p>
</li>
<li>fillText(text,x,y) - 在 canvas 上绘制实心的文本</li>
<li><p>strokeText(text,x,y) - 在 canvas 上绘制空心的文本</p>
</li>
<li><p>使用 fillText():</p>
<ul>
<li>使用 “Arial” 字体在画布上绘制一个高 30px 的文字（实心）：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">var ctx=c.getContext(&quot;2d&quot;);</span><br><span class="line">ctx.font=&quot;30px Arial&quot;;</span><br><span class="line">ctx.fillText(&quot;Hello World&quot;,10,50);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>使用 strokeText():</p>
<ul>
<li>使用 “Arial” 字体在画布上绘制一个高 30px 的文字（空心）：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var ctx2=c.getContext(&quot;2d&quot;);</span><br><span class="line">ctx2.font=&quot;30px Arial&quot;;</span><br><span class="line">ctx2.strokeText(&quot;Hello World&quot;,30,70);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>有两种不同的方式来设置Canvas渐变：</p>
<ul>
<li>createLinearGradient(x,y,x1,y1) - 创建线条渐变</li>
<li>createRadialGradient(x,y,r,x1,y1,r1) - 创建一个径向/圆渐变</li>
</ul>
</li>
<li><p>使用渐变对象，必须使用两种或两种以上的停止颜色。</p>
</li>
<li>addColorStop()方法指定颜色停止，参数使用坐标来描述，可以是0至1.</li>
<li><p>使用渐变，设置fillStyle或strokeStyle的值为 渐变，然后绘制形状，如矩形，文本，或一条线。</p>
</li>
<li><p>使用 createLinearGradient():</p>
<ul>
<li>创建一个线性渐变。使用渐变填充矩形<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">var ctx=c.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">// Create gradient</span><br><span class="line">var grd=ctx.createLinearGradient(0,0,200,0);</span><br><span class="line">grd.addColorStop(0,&quot;red&quot;);</span><br><span class="line">grd.addColorStop(1,&quot;white&quot;);</span><br><span class="line"></span><br><span class="line">// Fill with gradient</span><br><span class="line">ctx.fillStyle=grd;</span><br><span class="line">ctx.fillRect(10,10,150,80);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>使用 createRadialGradient():</p>
<ul>
<li>创建一个径向/圆渐变。使用渐变填充矩形：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ar c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">var ctx=c.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">// Create gradient</span><br><span class="line">var grd=ctx.createRadialGradient(75,50,5,90,60,100);</span><br><span class="line">grd.addColorStop(0,&quot;red&quot;);</span><br><span class="line">grd.addColorStop(1,&quot;white&quot;);</span><br><span class="line"></span><br><span class="line">// Fill with gradient</span><br><span class="line">ctx.fillStyle=grd;</span><br><span class="line">ctx.fillRect(10,10,150,80);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>把一幅图像放置到画布上, 使用<code>drawImage(image,x,y)</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var c=document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">var ctx=c.getContext(&quot;2d&quot;);</span><br><span class="line">var img=document.getElementById(&quot;scream&quot;);</span><br><span class="line"></span><br><span class="line">img.onload = function() &#123;</span><br><span class="line">	ctx.drawImage(img,10,10);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果canvas需要支持IE6~8，有两种选择：</p>
<ul>
<li>explorecanvas：在老版本的IE浏览器中增加canvas支持</li>
<li>Google Chrome Frame：将IE引擎替换成Google Chrome浏览器引擎</li>
</ul>
</li>
<li><p>鼠标事件：canvas和其他元素一样可以通过addEventListener()方法来注册事件处理函数，可以监听如mousedown,mousemove,mouseup,mouseout等事件</p>
</li>
<li><p>浏览器通过事件对象的clientX和clientY传递给处理函数的坐标是窗口坐标，而不是相对于canvas自身的坐标，所以需要转换。</p>
</li>
<li><p>canvas提供一个getBoundingClientRect()方法来获取canvas边界值，如下方法可以获取鼠标在canvas之中的坐标：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function windowToCanvas(canvas, x, y) &#123;</span><br><span class="line">	var bbox = canvas.getBoundingClientRect();</span><br><span class="line">	return &#123;</span><br><span class="line">		x: (x - bbox.left) * (canvas.width / bbox.width),</span><br><span class="line">		y: (y - bbox.top) * (canvas.height / bbox.height)</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>键盘事件：按下按键时，如果焦点在元素上，就会触发该元素的键盘事件。canvas是一个不可获取焦点的元素，所以需要在document或window上增加键盘事件的处理函数。键盘事件一共三种：</p>
<ul>
<li>keydown</li>
<li>keypress</li>
<li>keyup</li>
</ul>
</li>
<li>绝大部分按键的敲击，包括alt、esc等按键，能够通过keydown和keyup捕获，他们是底层事件。而keypress则捕获可打印的字符。</li>
<li>其触发顺序为：keydown -&gt; keypress -&gt; keyup，长按在会在keydown和keyup之间产生一系列的keypress事件。</li>
<li><p>一般通过keycode来判断按下的值，事件对象中也有一些Boolean属性判断特殊按键：</p>
<ul>
<li>altKey</li>
<li>ctrlKey</li>
<li>metaKey</li>
<li>shiftKey</li>
</ul>
</li>
<li><p>可以通过transform()和setTransform()，前者在之前的变换矩阵上叠加，后者则是直接运用。</p>
</li>
<li><p>context.translate(x,y)表示将canvas的左上角平移到点(x,y)处;</p>
</li>
<li><p>变换方程</p>
</li>
<li>translate(dx, dy)平移后的新坐标等式：<ul>
<li>x = x + dx;</li>
<li>y = x + dy;</li>
</ul>
</li>
<li>scale(sx, sy)缩放后的新坐标等式：<ul>
<li>x = x * sx;</li>
<li>y = y * sy;</li>
</ul>
</li>
<li>rotate(angle)旋转后的新坐标等式：<ul>
<li>x = x <em> cos(angle) - y </em> sin(angle);</li>
<li>y = y <em> cos(angle) + x </em> sin(angle);</li>
</ul>
</li>
<li>transform(a, b, c, d, e, f)和setTransform(a, b, c, d, e, f)变换后的新坐标等式：<ul>
<li>x = ax + cy + e;</li>
<li>y = bx + dy + f;</li>
</ul>
</li>
<li>通过transform实现平移：<ul>
<li>a = 1</li>
<li>b = 0</li>
<li>c = 0</li>
<li>d = 1</li>
<li>e = dx</li>
<li>f = dy</li>
</ul>
</li>
<li>通过transform实现缩放：<ul>
<li>a = sx</li>
<li>b = 0</li>
<li>c = 0</li>
<li>d = sy</li>
<li>e = 0</li>
<li>f = 0</li>
</ul>
</li>
<li>通过transform实现旋转：<ul>
<li>a = cos(angle)</li>
<li>b = sin(angle)</li>
<li>c = -sin(angle)</li>
<li>d = cos(angle)</li>
<li>e = 0</li>
<li>f = 0</li>
</ul>
</li>
<li><p>通过transform实现斜切：</p>
<ul>
<li>横向斜切：<ul>
<li>a = 1</li>
<li>b = 0</li>
<li>c = k</li>
<li>d = 1</li>
<li>e = 0</li>
<li>f = 0</li>
</ul>
</li>
<li>纵向斜切：<ul>
<li>a = 0</li>
<li>b = 1</li>
<li>c = 1</li>
<li>d = k</li>
<li>e = 0</li>
<li>f = 0</li>
</ul>
</li>
</ul>
</li>
<li><p>Canvas，SVG区别：</p>
<ul>
<li>canvas是画框，有自己固定的高宽，svg是不依赖分辨率的矢量，可以任意放大缩小。</li>
<li>canvas能以.jpg的格式保存图像，svg是文本的格式保存图像</li>
<li>canvas绘制的图像不占DOM，而svg的每个图像都是1个DOM元素</li>
<li>canvas适合图像密集型的动画，而svg不适合大量使用，例如制作飘雪等</li>
<li>canvas完全依赖脚本绘制作，而svg可直接使用矢量转存生成。</li>
</ul>
</li>
</ul>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


		<footer>
			 
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	</div>
	<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->

	<script>var timeEnd = new Date();console.log('耗时：' + (timeEnd - timeStart));</script>
	<!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
	<!-- material design -->
	<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
	<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
	<!-- toc -->
	<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
	<!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
	<!-- <script src="/js/main.js"></script> -->
</body>
</html>

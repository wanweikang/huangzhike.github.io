<!DOCTYPE HTML>
<html>
	<head><meta name="generator" content="Hexo 3.9.0">
		<meta charset="utf-8">
		<script src="/js/highlight.js"></script>
				<script>hljs.initHighlightingOnLoad();var timeStart = new Date();</script>
		
		<title>[笔记]-解构及其它 | 学而时习之</title>
		
		<meta name="author" content="Huangzhike">
		
		
		<meta name="description" content="K.I.S.S">
		
		
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		
		<meta property="og:title" content="[笔记]-解构及其它">
		
		<meta property="og:site_name" content="学而时习之">
		
		
		<!-- favicon -->
		<link rel="icon" type="image/ico" href="/ok.ico" sizes="32x32">
 


		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.ico">
		<meta name="theme-color" content="#009688">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic"> 

		<!-- favicon end -->
		<!-- <link href="//ok.ico" rel="icon"> -->
		
		<!-- toc -->
		<!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
		<!-- material design -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
		<link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
		 
		 
		<!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
		<!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
	</head>
</html>
<body>
	<nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">菜单</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">学而时习之</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/" title="">
						<i class="fa fa-home"></i>Index
					</a>
				</li>
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

	<div class="container" >
		<div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[笔记]-解构及其它</h2>
				
				<div>
					<div class="post-time">2016-11-08</div>
				</div>
				
				<div class="article-content">
				<p><strong>2016-11-16更新</strong><br>参考：<br><a href="http://es6.ruanyifeng.com/" target="_blank" rel="noopener">http://es6.ruanyifeng.com/</a><br><a href="http://www.kancloud.cn/kancloud/es6-in-depth" target="_blank" rel="noopener">http://www.kancloud.cn/kancloud/es6-in-depth</a></p>
<ul>
<li><p>数组的解构赋值：从数组和对象中提取值，对变量赋值，称为解构（Destructuring）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">var a = 1;</span><br><span class="line">var b = 2;</span><br><span class="line">var c = 3;</span><br><span class="line">// 等于</span><br><span class="line">var [a, b, c] = [1, 2, 3]; </span><br><span class="line"></span><br><span class="line">// 嵌套数组解构</span><br><span class="line">let [foo, [[bar], baz]] = [1, [[2], 3]];</span><br><span class="line">foo // 1</span><br><span class="line">bar // 2</span><br><span class="line">baz // 3</span><br><span class="line"></span><br><span class="line">let [,,third] = [&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;];</span><br><span class="line">third // &quot;baz&quot;</span><br><span class="line"></span><br><span class="line">let [x, , y] = [1, 2, 3];</span><br><span class="line">x // 1</span><br><span class="line">y // 3</span><br><span class="line"></span><br><span class="line">let [head, ...tail] = [1, 2, 3, 4];</span><br><span class="line">head // 1</span><br><span class="line">tail // [2, 3, 4]</span><br></pre></td></tr></table></figure>
</li>
<li><p>解构不成功，变量值就等于undefined。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var [foo] = [];</span><br><span class="line">var [foo] = 1;</span><br><span class="line">var [foo] = false;</span><br><span class="line">var [foo] = NaN;</span><br><span class="line">var [bar, foo] = [1];</span><br><span class="line">// 以上解构不成功，foo的值等于undefined</span><br></pre></td></tr></table></figure>
</li>
<li><p>等号左边的模式，只匹配一部分的等号右边的数组，解构依然成功。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">let [x, y] = [1, 2, 3];</span><br><span class="line">x // 1</span><br><span class="line">y // 2</span><br><span class="line"></span><br><span class="line">let [a, [b], d] = [1, [2, 3], 4];</span><br><span class="line">a // 1</span><br><span class="line">b // 2</span><br><span class="line">d // 4</span><br></pre></td></tr></table></figure>
</li>
<li><p>对undefined或null解构，报错。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let [foo] = undefined;</span><br><span class="line">let [foo] = null;</span><br><span class="line">// 解构只能用于数组或对象。其他原始类型的值都可以转为相应的对象，undefined和null不能转为对象。</span><br></pre></td></tr></table></figure>
</li>
<li><p>解构赋值允许指定默认值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var [foo = true] = [];</span><br><span class="line">foo // true</span><br><span class="line"></span><br><span class="line">[x, y=&apos;b&apos;] = [&apos;a&apos;] // x=&apos;a&apos;, y=&apos;b&apos;</span><br><span class="line">[x, y=&apos;b&apos;] = [&apos;a&apos;, undefined] // x=&apos;a&apos;, y=&apos;b&apos;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6内部使用严格相等运算符（===），判断是否有值。如果数组成员不严格等于undefined，默认值不会生效。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var [x = 1] = [undefined];</span><br><span class="line">x // 1</span><br><span class="line"></span><br><span class="line">var [x = 1] = [null];</span><br><span class="line">x // null</span><br><span class="line">// null不严格等于undefined。</span><br></pre></td></tr></table></figure>
</li>
<li><p>Set结构使用数组解构赋值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[a, b, c] = new Set([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;])</span><br><span class="line">a // &quot;a&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>只要某种数据结构具有Iterator接口，都可以采用数组的解构赋值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function* fibs() &#123;</span><br><span class="line">	var a = 0;</span><br><span class="line">	var b = 1;</span><br><span class="line">	while (true) &#123;</span><br><span class="line">		yield a;</span><br><span class="line">		[a, b] = [b, a + b];</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var [first, second, third, fourth, fifth, sixth] = fibs();</span><br><span class="line">sixth // 5</span><br><span class="line">// fibs是一个Generator函数，原生具有Iterator接口。解构赋值会依次从这个接口获取值。</span><br></pre></td></tr></table></figure>
</li>
<li><p>解构不仅用于数组，还可用于对象。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">var &#123; foo, bar &#125; = &#123; foo: &quot;aaa&quot;, bar: &quot;bbb&quot; &#125;;</span><br><span class="line">foo // &quot;aaa&quot;</span><br><span class="line">bar // &quot;bbb&quot;</span><br><span class="line"></span><br><span class="line">var &#123; baz &#125; = &#123; foo: &quot;aaa&quot;, bar: &quot;bbb&quot; &#125;;</span><br><span class="line">baz // undefined</span><br><span class="line">// 数组元素按次序排列，变量的取值由位置决定；对象属性没有次序，变量必须与属性同名。</span><br><span class="line"></span><br><span class="line">// 如果变量名与属性名不一致，必须写成下面</span><br><span class="line">var &#123; foo: baz &#125; = &#123; foo: &quot;aaa&quot;, bar: &quot;bbb&quot; &#125;;</span><br><span class="line">baz // &quot;aaa&quot;</span><br><span class="line"></span><br><span class="line">var obj = &#123;</span><br><span class="line">	p: [</span><br><span class="line">		&quot;Hello&quot;,</span><br><span class="line">		&#123; y: &quot;World&quot; &#125;</span><br><span class="line">	]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var &#123; p: [x, &#123; y &#125;] &#125; = obj;</span><br><span class="line">x // &quot;Hello&quot;</span><br><span class="line">y // &quot;World&quot;</span><br></pre></td></tr></table></figure>
</li>
<li><p>对象的解构也可以指定默认值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">var &#123;x = 3&#125; = &#123;&#125;;</span><br><span class="line">x // 3</span><br><span class="line"></span><br><span class="line">var &#123;x, y = 5&#125; = &#123;x: 1&#125;;</span><br><span class="line">console.log(x, y) // 1, 5</span><br><span class="line"></span><br><span class="line">var &#123; message: msg = &quot;Something went wrong&quot; &#125; = &#123;&#125;;</span><br><span class="line">console.log(msg); // &quot;Something went wrong&quot;</span><br><span class="line"></span><br><span class="line">// 默认值生效的条件是，对象的属性值严格等于undefined。</span><br><span class="line">var &#123;x = 3&#125; = &#123;x: undefined&#125;;</span><br><span class="line">x // 3</span><br><span class="line"></span><br><span class="line">var &#123;x = 3&#125; = &#123;x: null&#125;;</span><br><span class="line">x // null</span><br></pre></td></tr></table></figure>
</li>
<li><p>要将已经声明的变量用于解构赋值，必须小心。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var x;</span><br><span class="line">&#123;x&#125; = &#123;x: 1&#125;; // SyntaxError: syntax error</span><br><span class="line">// JavaScript引擎将&#123;x&#125;理解成代码块</span><br><span class="line"></span><br><span class="line">// 正确</span><br><span class="line">(&#123;x&#125; = &#123;x: 1&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>将现有对象的方法，赋值到某个变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let &#123; log, sin, cos &#125; = Math; // 将Math对象的对数、正弦、余弦三个方法，赋值到对应的变量上</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数的参数也可以使用解构。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">function add([x, y])&#123;</span><br><span class="line">	return x + y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">add([1, 2]) // 3</span><br><span class="line"></span><br><span class="line">// 函数参数的解构使用默认值。</span><br><span class="line">function move(&#123;x = 0, y = 0&#125; = &#123;&#125;) &#123;</span><br><span class="line">	return [x, y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">move(&#123;x: 3, y: 8&#125;); // [3, 8]</span><br><span class="line">move(&#123;x: 3&#125;); // [3, 0]</span><br><span class="line">move(&#123;&#125;); // [0, 0]</span><br><span class="line">move(); // [0, 0]</span><br><span class="line"></span><br><span class="line">// 指定函数参数的默认值时，不能采用下面的写法</span><br><span class="line">function move(&#123;x, y&#125; = &#123; x: 0, y: 0 &#125;) &#123;</span><br><span class="line">	return [x, y];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">move(&#123;x: 3, y: 8&#125;); // [3, 8]</span><br><span class="line">move(&#123;x: 3&#125;); // [3, undefined]</span><br><span class="line">move(&#123;&#125;); // [undefined, undefined]</span><br><span class="line">move(); // [0, 0]</span><br><span class="line">// 上面代码是为函数move的参数指定默认值，而不是为变量x和y指定默认值</span><br></pre></td></tr></table></figure>
</li>
<li><p>变量的解构赋值用途。<br>   （1）交换变量的值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x, y] = [y, x]; // 交换变量x和y的值</span><br></pre></td></tr></table></figure>
<p>   （2）从函数返回多个值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// 返回一个数组</span><br><span class="line">function example() &#123;</span><br><span class="line">	return [1, 2, 3];</span><br><span class="line">&#125;</span><br><span class="line">var [a, b, c] = example();</span><br><span class="line"></span><br><span class="line">// 返回一个对象</span><br><span class="line">function example() &#123;</span><br><span class="line">	return &#123;</span><br><span class="line">		foo: 1,</span><br><span class="line">		bar: 2</span><br><span class="line">	&#125;;</span><br><span class="line">&#125;</span><br><span class="line">var &#123; foo, bar &#125; = example();</span><br></pre></td></tr></table></figure>
<p>   （3）定义函数参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 参数是有次序的值</span><br><span class="line">function f([x, y, z]) &#123; ... &#125;</span><br><span class="line">f([1, 2, 3])</span><br><span class="line">// 参数是无次序的值</span><br><span class="line">function f(&#123;x, y, z&#125;) &#123; ... &#125;</span><br><span class="line">f(&#123;x:1, y:2, z:3&#125;)</span><br></pre></td></tr></table></figure>
<p>   （4）提取JSON数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var jsonData = &#123;</span><br><span class="line">	id: 42,</span><br><span class="line">	status: &quot;OK&quot;,</span><br><span class="line">	data: [867, 5309]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let &#123; id, status, data: number &#125; = jsonData;</span><br><span class="line"></span><br><span class="line">console.log(id, status, number) // 42, OK, [867, 5309]</span><br></pre></td></tr></table></figure>
<p>   （5）函数参数的默认值：避免在函数体内写<code>var foo = config.foo || &#39;default foo&#39;</code>;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">jQuery.ajax = function (url, &#123;</span><br><span class="line">	async = true,</span><br><span class="line">	beforeSend = function () &#123;&#125;,</span><br><span class="line">	cache = true,</span><br><span class="line">	// ... more config</span><br><span class="line">&#125;) &#123;</span><br><span class="line">	// ... do stuff</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>   （6）遍历Map结构：任何部署了Iterator接口的对象，都可以用for…of循环。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var map = new Map();</span><br><span class="line">map.set(&apos;first&apos;, &apos;hello&apos;);</span><br><span class="line">map.set(&apos;second&apos;, &apos;world&apos;);</span><br><span class="line"></span><br><span class="line">for (let [key, value] of map) &#123;</span><br><span class="line">	console.log(key + &quot; is &quot; + value);</span><br><span class="line">&#125;</span><br><span class="line">// first is hello</span><br><span class="line">// second is world</span><br><span class="line"></span><br><span class="line">// 只想获取键名，或只想获取键值，写成下面</span><br><span class="line">// 获取键名</span><br><span class="line">for (let [key] of map) &#123;</span><br><span class="line">	// ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 获取键值</span><br><span class="line">for (let [,value] of map) &#123;</span><br><span class="line">	// ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>   （7）输入模块的指定方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const &#123; SourceMapConsumer, SourceNode &#125; = require(&quot;source-map&quot;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6允许直接写入变量和函数，作为对象的属性和方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">// 属性的简洁表示法</span><br><span class="line">function f( x, y ) &#123;</span><br><span class="line">	return &#123; x, y &#125;;</span><br><span class="line">&#125;</span><br><span class="line">// 等同于</span><br><span class="line">function f( x, y ) &#123;</span><br><span class="line">	return &#123; x: x, y: y &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 方法简写</span><br><span class="line">var o = &#123;</span><br><span class="line">	method() &#123;</span><br><span class="line">		return &quot;Hello!&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line">// 等同于</span><br><span class="line">var o = &#123;</span><br><span class="line">	method: function() &#123;</span><br><span class="line">		return &quot;Hello!&quot;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">var Person = &#123;</span><br><span class="line">	name: &apos;张三&apos;,</span><br><span class="line"></span><br><span class="line">	birth, //等同于birth: birth</span><br><span class="line"></span><br><span class="line">	hello() &#123; console.log(&apos;我是&apos;, this.name); &#125; // 等同于hello: function ()...</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 用于函数的返回值</span><br><span class="line">function getPoint() &#123;</span><br><span class="line">	var x = 1;</span><br><span class="line">	var y = 10;</span><br><span class="line"></span><br><span class="line">	return &#123;x, y&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getPoint() // &#123;x:1, y:10&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>定义对象的属性，有两种方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 方法一</span><br><span class="line">obj.foo = true; // 直接用标识符作为属性名</span><br><span class="line"></span><br><span class="line">// 方法二</span><br><span class="line">obj[&apos;a&apos;+&apos;bc&apos;] = 123; // 用表达式作为属性名，将表达式放在方括号之内</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果使用字面量方式定义对象，在ES5中只能使用方法一（标识符）定义属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;</span><br><span class="line">	foo: true,</span><br><span class="line">	abc: 123</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ES6允许字面量定义对象时，用方法二（表达式）作为对象的属性名，把表达式放在方括号内。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">let propKey = &apos;foo&apos;;</span><br><span class="line"></span><br><span class="line">let obj = &#123;</span><br><span class="line">	[propKey]: true,</span><br><span class="line">	[&apos;a&apos;+&apos;bc&apos;]: 123</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 另一个例子</span><br><span class="line">var lastWord = &quot;last word&quot;;</span><br><span class="line"></span><br><span class="line">var a = &#123;</span><br><span class="line">	&quot;first word&quot;: &quot;hello&quot;,</span><br><span class="line">	[lastWord]: &quot;world&quot;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">a[&quot;first word&quot;] // &quot;hello&quot;</span><br><span class="line">a[lastWord] // &quot;world&quot;</span><br><span class="line">a[&quot;last word&quot;] // &quot;world&quot;</span><br><span class="line"></span><br><span class="line">// 表达式用于定义方法名</span><br><span class="line">let obj = &#123;</span><br><span class="line">	[&apos;h&apos;+&apos;ello&apos;]() &#123;</span><br><span class="line">		return &apos;hi&apos;;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">(obj.hello(); // hi</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数的name属性，返回函数名。ES6为对象方法也添加了name属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var person = &#123;</span><br><span class="line">	sayName: function() &#123;</span><br><span class="line">		console.log(this.name);</span><br><span class="line">	&#125;,</span><br><span class="line">	get firstName() &#123;</span><br><span class="line">		return &quot;Nicholas&quot;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.sayName.name   // &quot;sayName&quot;</span><br><span class="line">person.firstName.name // &quot;get firstName&quot;</span><br><span class="line">// 两种特殊情况：</span><br><span class="line">// bind方法创造的函数，name属性返回“bound”加上原函数的名字；</span><br><span class="line">// Function构造函数创造的函数，name属性返回“anonymous”。</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数参数的默认值：在ES6之前，不能直接为函数的参数指定默认值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">function log(x, y) &#123;</span><br><span class="line">	y = y || &apos;World&apos;;</span><br><span class="line">	console.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">log(&apos;Hello&apos;, &apos;&apos;) // Hello World</span><br><span class="line">// 缺点在于，如果参数y赋值了，但是对应的布尔值为false，则不起作用。</span><br><span class="line">// 需要先判断一下参数y是否被赋值，如果没有，再等于默认值。</span><br><span class="line">// 写法一</span><br><span class="line">if (typeof y === &apos;undefined&apos;) &#123;</span><br><span class="line">	y = &apos;World&apos;;</span><br><span class="line">&#125;</span><br><span class="line">// 写法二</span><br><span class="line">if (arguments.length === 1) &#123;</span><br><span class="line">	y = &apos;World&apos;;</span><br><span class="line">&#125;</span><br><span class="line">// ES6</span><br><span class="line">function log(x, y = &apos;World&apos;) &#123;</span><br><span class="line">	console.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">log(&apos;Hello&apos;, &apos;&apos;) // Hello</span><br><span class="line">// 设置双重默认值。</span><br><span class="line">fetch(url, &#123; method = &apos;GET&apos; &#125; = &#123;&#125;)&#123;</span><br><span class="line">	console.log(method);</span><br><span class="line">&#125;</span><br><span class="line">// 调用fetch时，如果不含第二个参数，则为空对象；如果包含第二个参数，则method属性默认值为GET。</span><br></pre></td></tr></table></figure>
</li>
<li><p>定义默认值的参数，必须是函数的尾部参数，其后不能再有其他无默认值的参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 以下两种写法都是错的</span><br><span class="line">function f(x = 5, y) &#123;&#125;</span><br><span class="line">function f(x, y = 5, z) &#123;&#125;</span><br><span class="line"></span><br><span class="line">// 如果传入undefined，将触发该参数等于默认值，null则没有这个效果。</span><br><span class="line">function foo(x = 5, y = 6)&#123;</span><br><span class="line">	console.log(x,y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(undefined, null) // 5 null</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数默认值所处的作用域，不是全局作用域，而是函数作用域。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var x = 1;</span><br><span class="line"></span><br><span class="line">function foo(x, y = x) &#123;</span><br><span class="line">	console.log(y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(2) // 2</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数变量是默认声明的，不能用let或const再次声明。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function foo(x = 5) &#123;</span><br><span class="line">	let x = 1; // error</span><br><span class="line">	const x = 2; // error</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>参数默认值可以与解构赋值，联合使用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function foo(&#123;x, y = 5&#125;) &#123;</span><br><span class="line">	console.log(x, y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo(&#123;&#125;) // undefined, 5</span><br><span class="line">foo(&#123;x: 1&#125;) // 1, 5</span><br><span class="line">foo(&#123;x: 1, y: 2&#125;) // 1, 2</span><br></pre></td></tr></table></figure>
</li>
<li><p>所有配置项集中在一个对象，放在最后一个参数，布尔值不可以直接作为参数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function divide(a, b, option = false ) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function divide(a, b, &#123; option = false &#125; = &#123;&#125;) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数的参数如果是对象的成员，优先使用解构赋值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function getFullName(user) &#123;</span><br><span class="line">	const firstName = user.firstName;</span><br><span class="line">	const lastName = user.lastName;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function getFullName(obj) &#123;</span><br><span class="line">	const &#123; firstName, lastName &#125; = obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// best</span><br><span class="line">function getFullName(&#123; firstName, lastName &#125;) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果函数返回多个值，优先使用对象的解构赋值，而不是数组的解构赋值。便于以后添加返回值，以及更改返回值的顺序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">function processInput(input) &#123;</span><br><span class="line">	return [left, right, top, bottom];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">function processInput(input) &#123;</span><br><span class="line">	return &#123; left, right, top, bottom &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const &#123; left, right &#125; = processInput(input);</span><br></pre></td></tr></table></figure>
</li>
<li><p>单行定义的对象，最后一个成员不以逗号结尾。多行定义的对象，最后一个成员以逗号结尾。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const a = &#123; k1: v1, k2: v2 &#125;;</span><br><span class="line">const b = &#123;</span><br><span class="line">	k1: v1,</span><br><span class="line">	k2: v2,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>对象静态化，一旦定义，不得随意添加新属性。如不可避免，使用Object.assign方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const a = &#123;&#125;;</span><br><span class="line">a.x = 3;</span><br><span class="line"></span><br><span class="line">// if reshape unavoidable</span><br><span class="line">const a = &#123;&#125;;</span><br><span class="line">Object.assign(a, &#123; x: 3 &#125;);</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const a = &#123; x: null &#125;;</span><br><span class="line">a.x = 3;</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果对象的属性名是动态的，在创造对象的时，使用属性表达式定义。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// bad</span><br><span class="line">const obj = &#123;</span><br><span class="line">	id: 5,</span><br><span class="line">	name: &apos;San Francisco&apos;,</span><br><span class="line">&#125;;</span><br><span class="line">obj[getKey(&apos;enabled&apos;)] = true;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const obj = &#123;</span><br><span class="line">	id: 5,</span><br><span class="line">	name: &apos;San Francisco&apos;,</span><br><span class="line">	[getKey(&apos;enabled&apos;)]: true, // 需要计算得到，最好采用属性表达式</span><br><span class="line">&#125;;</span><br><span class="line">// 所有属性就在一个地方定义</span><br></pre></td></tr></table></figure>
</li>
<li><p>对象的属性和方法，尽量采用简洁表达法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var ref = &apos;some value&apos;;</span><br><span class="line"></span><br><span class="line">// bad</span><br><span class="line">const atom = &#123;</span><br><span class="line">	ref: ref,</span><br><span class="line">	value: 1,</span><br><span class="line">	addValue: function (value) &#123;</span><br><span class="line">		return atom.value + value;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// good</span><br><span class="line">const atom = &#123;</span><br><span class="line">	ref,</span><br><span class="line">	value: 1,</span><br><span class="line">	addValue(value) &#123;</span><br><span class="line">		return atom.value + value;</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li>
</ul>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


		<footer>
			 
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	</div>
	<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->

	<script>var timeEnd = new Date();console.log('耗时：' + (timeEnd - timeStart));</script>
	<!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
	<!-- material design -->
	<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
	<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
	<!-- toc -->
	<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
	<!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
	<!-- <script src="/js/main.js"></script> -->
</body>
</html>

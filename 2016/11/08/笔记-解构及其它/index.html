<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
				<script>var timeStart = new Date();</script>
		
		<title>[笔记]-解构及其它 | 一个放笔记的地方而已</title>
		
		<meta name="author" content="Huangzhike">
		
		
		<meta name="description" content="用手记笔记，用心记笔记，用脑记笔记">
		
		
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		
		<meta property="og:title" content="[笔记]-解构及其它"/>
		
		<meta property="og:site_name" content="一个放笔记的地方而已"/>
		
		
		<!-- favicon -->
		<link rel="icon" type="image/ico" href="/favicon.ico" sizes="32x32">
 


		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.ico">
		<meta name="theme-color" content="#009688">

		    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Didact+Gothic"> 

		<!-- favicon end -->
		<!-- <link href="//favicon.ico" rel="icon"> -->
		
		<!-- toc -->
		<!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
		<!-- material design -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
		<link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
		 
		 
		<!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
		<!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
	</head>

<body>
	<nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">菜单</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">一个放笔记的地方而已</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/" title="">
						<i class="fa fa-home"></i>Index
					</a>
				</li>
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" title="我的主页">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

	<div class="container" >
		<div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[笔记]-解构及其它</h2>
				
				<div>
					<span class="post-time">2016-11-08 12:22:33</span>
				</div>	
				
				<div class="article-content">
				<p><strong>2016-11-16更新</strong><br>参考：<br><a href="http://es6.ruanyifeng.com/" target="_blank" rel="external">http://es6.ruanyifeng.com/</a><br><a href="http://www.kancloud.cn/kancloud/es6-in-depth" target="_blank" rel="external">http://www.kancloud.cn/kancloud/es6-in-depth</a></p>
<ul>
<li><p>数组的解构赋值：从数组和对象中提取值，对变量赋值，称为解构（Destructuring）。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">var a = <span class="number">1</span>;</div><div class="line">var b = <span class="number">2</span>;</div><div class="line">var c = <span class="number">3</span>;</div><div class="line"><span class="comment">// 等于</span></div><div class="line">var [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]; </div><div class="line"></div><div class="line"><span class="comment">// 嵌套数组解构</span></div><div class="line">let [foo, [[bar], baz]] = [<span class="number">1</span>, [[<span class="number">2</span>], <span class="number">3</span>]];</div><div class="line">foo <span class="comment">// 1</span></div><div class="line">bar <span class="comment">// 2</span></div><div class="line">baz <span class="comment">// 3</span></div><div class="line"></div><div class="line">let [,,third] = [<span class="string">"foo"</span>, <span class="string">"bar"</span>, <span class="string">"baz"</span>];</div><div class="line">third <span class="comment">// "baz"</span></div><div class="line"></div><div class="line">let [x, , y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line">x <span class="comment">// 1</span></div><div class="line">y <span class="comment">// 3</span></div><div class="line"></div><div class="line">let [head, ...tail] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</div><div class="line">head <span class="comment">// 1</span></div><div class="line">tail <span class="comment">// [2, 3, 4]</span></div></pre></td></tr></table></figure>
</li>
<li><p>解构不成功，变量值就等于undefined。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> [foo] = [];</div><div class="line"><span class="keyword">var</span> [foo] = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> [foo] = <span class="literal">false</span>;</div><div class="line"><span class="keyword">var</span> [foo] = <span class="literal">NaN</span>;</div><div class="line"><span class="keyword">var</span> [bar, foo] = [<span class="number">1</span>];</div><div class="line"><span class="comment">// 以上解构不成功，foo的值等于undefined</span></div></pre></td></tr></table></figure>
</li>
<li><p>等号左边的模式，只匹配一部分的等号右边的数组，解构依然成功。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">let [x, y] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line">x <span class="comment">// 1</span></div><div class="line">y <span class="comment">// 2</span></div><div class="line"></div><div class="line">let [a, [b], d] = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>];</div><div class="line">a <span class="comment">// 1</span></div><div class="line">b <span class="comment">// 2</span></div><div class="line">d <span class="comment">// 4</span></div></pre></td></tr></table></figure>
</li>
<li><p>对undefined或null解构，报错。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [foo] = <span class="literal">undefined</span>;</div><div class="line"><span class="keyword">let</span> [foo] = <span class="literal">null</span>;</div><div class="line"><span class="comment">// 解构只能用于数组或对象。其他原始类型的值都可以转为相应的对象，undefined和null不能转为对象。</span></div></pre></td></tr></table></figure>
</li>
<li><p>解构赋值允许指定默认值。</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var [foo = true] = [];</div><div class="line">foo // true</div><div class="line"></div><div class="line">[x, y=<span class="string">'b'</span>] = [<span class="string">'a'</span>] // x=<span class="string">'a'</span>, y=<span class="string">'b'</span></div><div class="line">[x, y=<span class="string">'b'</span>] = [<span class="string">'a'</span>, undefined] // x=<span class="string">'a'</span>, y=<span class="string">'b'</span></div></pre></td></tr></table></figure>
</li>
<li><p>ES6内部使用严格相等运算符（===），判断是否有值。如果数组成员不严格等于undefined，默认值不会生效。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> [x = <span class="number">1</span>] = [<span class="literal">undefined</span>];</div><div class="line">x <span class="comment">// 1</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> [x = <span class="number">1</span>] = [<span class="literal">null</span>];</div><div class="line">x <span class="comment">// null</span></div><div class="line"><span class="comment">// null不严格等于undefined。</span></div></pre></td></tr></table></figure>
</li>
<li><p>Set结构使用数组解构赋值。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">[<span class="selector-tag">a</span>, <span class="selector-tag">b</span>, c] = new Set([<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>])</div><div class="line"><span class="selector-tag">a</span> <span class="comment">// "a"</span></div></pre></td></tr></table></figure>
</li>
<li><p>只要某种数据结构具有Iterator接口，都可以采用数组的解构赋值。</p>
<figure class="highlight maxima"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">function* fibs() &#123;</div><div class="line">	<span class="built_in">var</span> a = <span class="number">0</span>;</div><div class="line">	<span class="built_in">var</span> b = <span class="number">1</span>;</div><div class="line">	<span class="keyword">while</span> (<span class="literal">true</span>) &#123;</div><div class="line">		yield a;</div><div class="line">		[a, b] = [b, a + b];</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">var</span> [<span class="built_in">first</span>, <span class="built_in">second</span>, <span class="built_in">third</span>, <span class="built_in">fourth</span>, <span class="built_in">fifth</span>, <span class="built_in">sixth</span>] = fibs();</div><div class="line"><span class="built_in">sixth</span> // <span class="number">5</span></div><div class="line">// fibs是一个Generator函数，原生具有Iterator接口。解构赋值会依次从这个接口获取值。</div></pre></td></tr></table></figure>
</li>
<li><p>解构不仅用于数组，还可用于对象。</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">var &#123; foo, bar &#125; = &#123; <span class="string">foo:</span> <span class="string">"aaa"</span>, <span class="string">bar:</span> <span class="string">"bbb"</span> &#125;;</div><div class="line">foo <span class="comment">// "aaa"</span></div><div class="line">bar <span class="comment">// "bbb"</span></div><div class="line"></div><div class="line">var &#123; baz &#125; = &#123; <span class="string">foo:</span> <span class="string">"aaa"</span>, <span class="string">bar:</span> <span class="string">"bbb"</span> &#125;;</div><div class="line">baz <span class="comment">// undefined</span></div><div class="line"><span class="comment">// 数组元素按次序排列，变量的取值由位置决定；对象属性没有次序，变量必须与属性同名。</span></div><div class="line"></div><div class="line"><span class="comment">// 如果变量名与属性名不一致，必须写成下面</span></div><div class="line">var &#123; <span class="string">foo:</span> baz &#125; = &#123; <span class="string">foo:</span> <span class="string">"aaa"</span>, <span class="string">bar:</span> <span class="string">"bbb"</span> &#125;;</div><div class="line">baz <span class="comment">// "aaa"</span></div><div class="line"></div><div class="line">var obj = &#123;</div><div class="line"><span class="symbol">	p:</span> [</div><div class="line">		<span class="string">"Hello"</span>,</div><div class="line">		&#123; <span class="string">y:</span> <span class="string">"World"</span> &#125;</div><div class="line">	]</div><div class="line">&#125;;</div><div class="line"></div><div class="line">var &#123; <span class="string">p:</span> [x, &#123; y &#125;] &#125; = obj;</div><div class="line">x <span class="comment">// "Hello"</span></div><div class="line">y <span class="comment">// "World"</span></div></pre></td></tr></table></figure>
</li>
<li><p>对象的解构也可以指定默认值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;&#125;;</div><div class="line">x <span class="comment">// 3</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> &#123;x, y = <span class="number">5</span>&#125; = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</div><div class="line"><span class="built_in">console</span>.log(x, y) <span class="comment">// 1, 5</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> &#123; <span class="attr">message</span>: msg = <span class="string">"Something went wrong"</span> &#125; = &#123;&#125;;</div><div class="line"><span class="built_in">console</span>.log(msg); <span class="comment">// "Something went wrong"</span></div><div class="line"></div><div class="line"><span class="comment">// 默认值生效的条件是，对象的属性值严格等于undefined。</span></div><div class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="literal">undefined</span>&#125;;</div><div class="line">x <span class="comment">// 3</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> &#123;x = <span class="number">3</span>&#125; = &#123;<span class="attr">x</span>: <span class="literal">null</span>&#125;;</div><div class="line">x <span class="comment">// null</span></div></pre></td></tr></table></figure>
</li>
<li><p>要将已经声明的变量用于解构赋值，必须小心。</p>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="xml">var x;</span></div><div class="line"><span class="template-variable">&#123;x&#125;</span><span class="xml"> = </span><span class="template-variable">&#123;x: 1&#125;</span><span class="xml">; // SyntaxError: syntax error</span></div><div class="line">// JavaScript引擎将<span class="template-variable">&#123;x&#125;</span><span class="xml">理解成代码块</span></div><div class="line"></div><div class="line">// 正确</div><div class="line">(<span class="template-variable">&#123;x&#125;</span><span class="xml"> = </span><span class="template-variable">&#123;x: 1&#125;</span><span class="xml">);</span></div></pre></td></tr></table></figure>
</li>
<li><p>将现有对象的方法，赋值到某个变量。</p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> &#123; <span class="built_in">log</span>, <span class="built_in">sin</span>, <span class="built_in">cos</span> &#125; = Math; <span class="comment">// 将Math对象的对数、正弦、余弦三个方法，赋值到对应的变量上</span></div></pre></td></tr></table></figure>
</li>
<li><p>函数的参数也可以使用解构。</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">function add([x, y])&#123;</div><div class="line">	<span class="built_in">return</span> x + y;</div><div class="line">&#125;</div><div class="line"></div><div class="line">add([<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// 3</span></div><div class="line"></div><div class="line"><span class="comment">// 函数参数的解构使用默认值。</span></div><div class="line">function <span class="built_in">move</span>(&#123;x = <span class="number">0</span>, y = <span class="number">0</span>&#125; = &#123;&#125;) &#123;</div><div class="line">	<span class="built_in">return</span> [x, y];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">move</span>(&#123;x: <span class="number">3</span>, y: <span class="number">8</span>&#125;); <span class="comment">// [3, 8]</span></div><div class="line"><span class="built_in">move</span>(&#123;x: <span class="number">3</span>&#125;); <span class="comment">// [3, 0]</span></div><div class="line"><span class="built_in">move</span>(&#123;&#125;); <span class="comment">// [0, 0]</span></div><div class="line"><span class="built_in">move</span>(); <span class="comment">// [0, 0]</span></div><div class="line"></div><div class="line"><span class="comment">// 指定函数参数的默认值时，不能采用下面的写法</span></div><div class="line">function <span class="built_in">move</span>(&#123;x, y&#125; = &#123; x: <span class="number">0</span>, y: <span class="number">0</span> &#125;) &#123;</div><div class="line">	<span class="built_in">return</span> [x, y];</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">move</span>(&#123;x: <span class="number">3</span>, y: <span class="number">8</span>&#125;); <span class="comment">// [3, 8]</span></div><div class="line"><span class="built_in">move</span>(&#123;x: <span class="number">3</span>&#125;); <span class="comment">// [3, undefined]</span></div><div class="line"><span class="built_in">move</span>(&#123;&#125;); <span class="comment">// [undefined, undefined]</span></div><div class="line"><span class="built_in">move</span>(); <span class="comment">// [0, 0]</span></div><div class="line"><span class="comment">// 上面代码是为函数move的参数指定默认值，而不是为变量x和y指定默认值</span></div></pre></td></tr></table></figure>
</li>
<li><p>变量的解构赋值用途。<br>   （1）交换变量的值</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">[x, y]</span> = <span class="string">[y, x]</span>; // 交换变量x和y的值</div></pre></td></tr></table></figure>
<p>   （2）从函数返回多个值</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 返回一个数组</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> [a, b, c] = example();</div><div class="line"></div><div class="line"><span class="comment">// 返回一个对象</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">example</span><span class="params">()</span> </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123;</div><div class="line">		foo: <span class="number">1</span>,</div><div class="line">		bar: <span class="number">2</span></div><div class="line">	&#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> &#123; foo, bar &#125; = example();</div></pre></td></tr></table></figure>
<p>   （3）定义函数参数</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 参数是有次序的值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">([x, y, z])</span> </span>&#123; ... &#125;</div><div class="line">f([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</div><div class="line"><span class="comment">// 参数是无次序的值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">(&#123;x, y, z&#125;)</span> </span>&#123; ... &#125;</div><div class="line">f(&#123;x:<span class="number">1</span>, y:<span class="number">2</span>, z:<span class="number">3</span>&#125;)</div></pre></td></tr></table></figure>
<p>   （4）提取JSON数据</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var jsonData = &#123;</div><div class="line">	id: <span class="number">42</span>,</div><div class="line">	<span class="keyword">status</span>: <span class="string">"OK"</span>,</div><div class="line">	<span class="keyword">data</span>: [<span class="number">867</span>, <span class="number">5309</span>]</div><div class="line">&#125;</div><div class="line"></div><div class="line">let &#123; id, <span class="keyword">status</span>, <span class="keyword">data</span>: <span class="keyword">number</span> &#125; = jsonData;</div><div class="line"></div><div class="line">console.<span class="built_in">log</span>(id, <span class="keyword">status</span>, <span class="keyword">number</span>) // <span class="number">42</span>, OK, [<span class="number">867</span>, <span class="number">5309</span>]</div></pre></td></tr></table></figure>
<p>   （5）函数参数的默认值：避免在函数体内写<code>var foo = config.foo || &#39;default foo&#39;</code>;</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">jQuery.ajax = <span class="function"><span class="keyword">function</span> </span>(url, &#123;</div><div class="line">	async = <span class="literal">true</span>,</div><div class="line">	beforeSend = <span class="function"><span class="keyword">function</span> </span>() &#123;&#125;,</div><div class="line">	cache = <span class="literal">true</span>,</div><div class="line">	<span class="comment">// ... more config</span></div><div class="line">&#125;) &#123;</div><div class="line">	<span class="comment">// ... do stuff</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>   （6）遍历Map结构：任何部署了Iterator接口的对象，都可以用for…of循环。</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">var <span class="built_in">map</span> = <span class="keyword">new</span> Map();</div><div class="line"><span class="built_in">map</span>.<span class="built_in">set</span>(<span class="string">'first'</span>, <span class="string">'hello'</span>);</div><div class="line"><span class="built_in">map</span>.<span class="built_in">set</span>(<span class="string">'second'</span>, <span class="string">'world'</span>);</div><div class="line"></div><div class="line"><span class="keyword">for</span> (let [<span class="built_in">key</span>, value] of <span class="built_in">map</span>) &#123;</div><div class="line">	console.<span class="built_in">log</span>(<span class="built_in">key</span> + <span class="string">" is "</span> + value);</div><div class="line">&#125;</div><div class="line"><span class="comment">// first is hello</span></div><div class="line"><span class="comment">// second is world</span></div><div class="line"></div><div class="line"><span class="comment">// 只想获取键名，或只想获取键值，写成下面</span></div><div class="line"><span class="comment">// 获取键名</span></div><div class="line"><span class="keyword">for</span> (let [<span class="built_in">key</span>] of <span class="built_in">map</span>) &#123;</div><div class="line">	<span class="comment">// ...</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 获取键值</span></div><div class="line"><span class="keyword">for</span> (let [,value] of <span class="built_in">map</span>) &#123;</div><div class="line">	<span class="comment">// ...</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>   （7）输入模块的指定方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> &#123; SourceMapConsumer, SourceNode &#125; = <span class="built_in">require</span>(<span class="string">"source-map"</span>);</div></pre></td></tr></table></figure>
</li>
<li><p>ES6允许直接写入变量和函数，作为对象的属性和方法。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 属性的简洁表示法</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"> x, y </span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123; x, y &#125;;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 等同于</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"> x, y </span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> &#123; <span class="attr">x</span>: x, <span class="attr">y</span>: y &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 方法简写</span></div><div class="line"><span class="keyword">var</span> o = &#123;</div><div class="line">	method() &#123;</div><div class="line">		<span class="keyword">return</span> <span class="string">"Hello!"</span>;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"><span class="comment">// 等同于</span></div><div class="line"><span class="keyword">var</span> o = &#123;</div><div class="line">	<span class="attr">method</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="string">"Hello!"</span>;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> Person = &#123;</div><div class="line">	<span class="attr">name</span>: <span class="string">'张三'</span>,</div><div class="line"></div><div class="line">	birth, <span class="comment">//等同于birth: birth</span></div><div class="line"></div><div class="line">	hello() &#123; <span class="built_in">console</span>.log(<span class="string">'我是'</span>, <span class="keyword">this</span>.name); &#125; <span class="comment">// 等同于hello: function ()...</span></div><div class="line"></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 用于函数的返回值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getPoint</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line">	<span class="keyword">var</span> y = <span class="number">10</span>;</div><div class="line"></div><div class="line">	<span class="keyword">return</span> &#123;x, y&#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">getPoint() <span class="comment">// &#123;x:1, y:10&#125;</span></div></pre></td></tr></table></figure>
</li>
<li><p>定义对象的属性，有两种方法。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 方法一</span></div><div class="line">obj.foo = <span class="literal">true</span>; <span class="comment">// 直接用标识符作为属性名</span></div><div class="line"></div><div class="line"><span class="comment">// 方法二</span></div><div class="line">obj[<span class="string">'a'</span>+<span class="string">'bc'</span>] = <span class="number">123</span>; <span class="comment">// 用表达式作为属性名，将表达式放在方括号之内</span></div></pre></td></tr></table></figure>
</li>
<li><p>如果使用字面量方式定义对象，在ES5中只能使用方法一（标识符）定义属性。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">	foo: <span class="literal">true</span>,</div><div class="line">	abc: <span class="number">123</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
<li><p>ES6允许字面量定义对象时，用方法二（表达式）作为对象的属性名，把表达式放在方括号内。</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> propKey = <span class="string">'foo'</span>;</div><div class="line"></div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">	[propKey]: <span class="literal">true</span>,</div><div class="line">	[<span class="string">'a'</span>+<span class="string">'bc'</span>]: <span class="number">123</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 另一个例子</span></div><div class="line"><span class="keyword">var</span> lastWord = <span class="string">"last word"</span>;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a = &#123;</div><div class="line">	<span class="string">"first word"</span>: <span class="string">"hello"</span>,</div><div class="line">	[lastWord]: <span class="string">"world"</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line">a[<span class="string">"first word"</span>] <span class="comment">// "hello"</span></div><div class="line">a[lastWord] <span class="comment">// "world"</span></div><div class="line">a[<span class="string">"last word"</span>] <span class="comment">// "world"</span></div><div class="line"></div><div class="line"><span class="comment">// 表达式用于定义方法名</span></div><div class="line"><span class="keyword">let</span> obj = &#123;</div><div class="line">	[<span class="string">'h'</span>+<span class="string">'ello'</span>]() &#123;</div><div class="line">		<span class="keyword">return</span> <span class="string">'hi'</span>;</div><div class="line">	&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">(obj.hello(); <span class="comment">// hi</span></div></pre></td></tr></table></figure>
</li>
<li><p>函数的name属性，返回函数名。ES6为对象方法也添加了name属性。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">	sayName: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">		console.log(<span class="keyword">this</span>.name);</div><div class="line">	&#125;,</div><div class="line">	<span class="keyword">get</span> firstName() &#123;</div><div class="line">		<span class="keyword">return</span> <span class="string">"Nicholas"</span></div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">person.sayName.name   <span class="comment">// "sayName"</span></div><div class="line">person.firstName.name <span class="comment">// "get firstName"</span></div><div class="line"><span class="comment">// 两种特殊情况：</span></div><div class="line"><span class="comment">// bind方法创造的函数，name属性返回“bound”加上原函数的名字；</span></div><div class="line"><span class="comment">// Function构造函数创造的函数，name属性返回“anonymous”。</span></div></pre></td></tr></table></figure>
</li>
<li><p>函数参数的默认值：在ES6之前，不能直接为函数的参数指定默认值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">	y = y || <span class="string">'World'</span>;</div><div class="line">	<span class="built_in">console</span>.log(x, y);</div><div class="line">&#125;</div><div class="line"></div><div class="line">log(<span class="string">'Hello'</span>, <span class="string">''</span>) <span class="comment">// Hello World</span></div><div class="line"><span class="comment">// 缺点在于，如果参数y赋值了，但是对应的布尔值为false，则不起作用。</span></div><div class="line"><span class="comment">// 需要先判断一下参数y是否被赋值，如果没有，再等于默认值。</span></div><div class="line"><span class="comment">// 写法一</span></div><div class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> y === <span class="string">'undefined'</span>) &#123;</div><div class="line">	y = <span class="string">'World'</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 写法二</span></div><div class="line"><span class="keyword">if</span> (<span class="built_in">arguments</span>.length === <span class="number">1</span>) &#123;</div><div class="line">	y = <span class="string">'World'</span>;</div><div class="line">&#125;</div><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span>(<span class="params">x, y = <span class="string">'World'</span></span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(x, y);</div><div class="line">&#125;</div><div class="line"></div><div class="line">log(<span class="string">'Hello'</span>, <span class="string">''</span>) <span class="comment">// Hello</span></div><div class="line"><span class="comment">// 设置双重默认值。</span></div><div class="line">fetch(url, &#123; method = <span class="string">'GET'</span> &#125; = &#123;&#125;)&#123;</div><div class="line">	<span class="built_in">console</span>.log(method);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 调用fetch时，如果不含第二个参数，则为空对象；如果包含第二个参数，则method属性默认值为GET。</span></div></pre></td></tr></table></figure>
</li>
<li><p>定义默认值的参数，必须是函数的尾部参数，其后不能再有其他无默认值的参数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 以下两种写法都是错的</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x = <span class="number">5</span>, y</span>) </span>&#123;&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params">x, y = <span class="number">5</span>, z</span>) </span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="comment">// 如果传入undefined，将触发该参数等于默认值，null则没有这个效果。</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x = <span class="number">5</span>, y = <span class="number">6</span></span>)</span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(x,y);</div><div class="line">&#125;</div><div class="line"></div><div class="line">foo(<span class="literal">undefined</span>, <span class="literal">null</span>) <span class="comment">// 5 null</span></div></pre></td></tr></table></figure>
</li>
<li><p>参数默认值所处的作用域，不是全局作用域，而是函数作用域。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="number">1</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x, y = x</span>) </span>&#123;</div><div class="line">	<span class="built_in">console</span>.log(y);</div><div class="line">&#125;</div><div class="line"></div><div class="line">foo(<span class="number">2</span>) <span class="comment">// 2</span></div></pre></td></tr></table></figure>
</li>
<li><p>参数变量是默认声明的，不能用let或const再次声明。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">x = <span class="number">5</span></span>) </span>&#123;</div><div class="line">	<span class="keyword">let</span> x = <span class="number">1</span>; <span class="comment">// error</span></div><div class="line">	<span class="keyword">const</span> x = <span class="number">2</span>; <span class="comment">// error</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>参数默认值可以与解构赋值，联合使用。</p>
<figure class="highlight delphi"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">(&#123;x, y = 5&#125;)</span> <span class="comment">&#123;</span></span></div><div class="line">	console.log(x, y);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="title">foo</span><span class="params">(&#123;&#125;)</span> <span class="comment">// undefined, 5</span></div><div class="line"><span class="title">foo</span><span class="params">(&#123;x: 1&#125;)</span> <span class="comment">// 1, 5</span></div><div class="line"><span class="title">foo</span><span class="params">(&#123;x: 1, y: 2&#125;)</span> <span class="comment">// 1, 2</span></div></pre></td></tr></table></figure>
</li>
<li><p>所有配置项集中在一个对象，放在最后一个参数，布尔值不可以直接作为参数。</p>
<figure class="highlight openscad"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">divide</span><span class="params">(a, b, option = <span class="literal">false</span> )</span> &#123;</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">divide</span><span class="params">(a, b, &#123; option = <span class="literal">false</span> &#125; = &#123;&#125;)</span> &#123;</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>函数的参数如果是对象的成员，优先使用解构赋值。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span><span class="params">(user)</span> </span>&#123;</div><div class="line">	<span class="keyword">const</span> firstName = user.firstName;</div><div class="line">	<span class="keyword">const</span> lastName = user.lastName;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span><span class="params">(obj)</span> </span>&#123;</div><div class="line">	<span class="keyword">const</span> &#123; firstName, lastName &#125; = obj;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// best</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span><span class="params">(&#123; firstName, lastName &#125;)</span> </span>&#123;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>如果函数返回多个值，优先使用对象的解构赋值，而不是数组的解构赋值。便于以后添加返回值，以及更改返回值的顺序。</p>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// bad</div><div class="line">function processInput(input) &#123;</div><div class="line">	<span class="keyword">return</span> [<span class="built_in">left</span>, <span class="built_in">right</span>, <span class="built_in">top</span>, <span class="built_in">bottom</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line">// good</div><div class="line">function processInput(input) &#123;</div><div class="line">	<span class="keyword">return</span> &#123; <span class="built_in">left</span>, <span class="built_in">right</span>, <span class="built_in">top</span>, <span class="built_in">bottom</span> &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">const &#123; <span class="built_in">left</span>, <span class="built_in">right</span> &#125; = processInput(input);</div></pre></td></tr></table></figure>
</li>
<li><p>单行定义的对象，最后一个成员不以逗号结尾。多行定义的对象，最后一个成员以逗号结尾。</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">const a = &#123; <span class="built_in">k1</span>: <span class="built_in">v1</span>, k2: v2 &#125;<span class="comment">;</span></div><div class="line">const <span class="keyword">b </span>= &#123;</div><div class="line"><span class="symbol">	k1:</span> <span class="built_in">v1</span>,</div><div class="line"><span class="symbol">	k2:</span> v2,</div><div class="line">&#125;<span class="comment">;</span></div></pre></td></tr></table></figure>
</li>
<li><p>对象静态化，一旦定义，不得随意添加新属性。如不可避免，使用Object.assign方法。</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> a = &#123;&#125;;</div><div class="line">a.x = <span class="number">3</span>;</div><div class="line"></div><div class="line"><span class="comment">// if reshape unavoidable</span></div><div class="line"><span class="keyword">const</span> a = &#123;&#125;;</div><div class="line"><span class="built_in">Object</span>.assign(a, &#123; x: <span class="number">3</span> &#125;);</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> a = &#123; x: <span class="keyword">null</span> &#125;;</div><div class="line">a.x = <span class="number">3</span>;</div></pre></td></tr></table></figure>
</li>
<li><p>如果对象的属性名是动态的，在创造对象的时，使用属性表达式定义。</p>
<figure class="highlight qml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> obj = &#123;</div><div class="line">	<span class="attribute">id:</span><span class="string"> 5,</span></div><div class="line">	name: <span class="string">'San Francisco'</span>,</div><div class="line">&#125;;</div><div class="line">obj[getKey(<span class="string">'enabled'</span>)] = <span class="literal">true</span>;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> obj = &#123;</div><div class="line">	<span class="attribute">id:</span><span class="string"> 5,</span></div><div class="line">	name: <span class="string">'San Francisco'</span>,</div><div class="line">	[getKey(<span class="string">'enabled'</span>)]: <span class="literal">true</span>, <span class="comment">// 需要计算得到，最好采用属性表达式</span></div><div class="line">&#125;;</div><div class="line"><span class="comment">// 所有属性就在一个地方定义</span></div></pre></td></tr></table></figure>
</li>
<li><p>对象的属性和方法，尽量采用简洁表达法。</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> <span class="keyword">ref</span> = <span class="string">'some value'</span>;</div><div class="line"></div><div class="line"><span class="comment">// bad</span></div><div class="line"><span class="keyword">const</span> atom = &#123;</div><div class="line">	<span class="keyword">ref</span>: <span class="keyword">ref</span>,</div><div class="line">	<span class="keyword">value</span>: <span class="number">1</span>,</div><div class="line">	addValue: function (<span class="keyword">value</span>) &#123;</div><div class="line">		<span class="keyword">return</span> atom.<span class="keyword">value</span> + <span class="keyword">value</span>;</div><div class="line">	&#125;,</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// good</span></div><div class="line"><span class="keyword">const</span> atom = &#123;</div><div class="line">	<span class="keyword">ref</span>,</div><div class="line">	<span class="keyword">value</span>: <span class="number">1</span>,</div><div class="line">	addValue(<span class="keyword">value</span>) &#123;</div><div class="line">		<span class="keyword">return</span> atom.<span class="keyword">value</span> + <span class="keyword">value</span>;</div><div class="line">	&#125;,</div><div class="line">&#125;;</div></pre></td></tr></table></figure></li>
</ul>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


		<footer>
			 
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	</div>
	<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
	<script src="/js/highlight.js"></script> 
	<script>hljs.initHighlightingOnLoad();var timeEnd = new Date();console.log('耗时：' + (timeEnd - timeStart));</script>
	<!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
	<!-- material design -->
	<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
	<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
	<!-- toc -->
	<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
	<!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
	<!-- <script src="/js/main.js"></script> -->
</body>
</html>

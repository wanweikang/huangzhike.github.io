<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		
		<title>[笔记]-正则规则 | 用手记笔记，用心记笔记，用脑记笔记</title>
		
		<meta name="author" content="Huangzhike">
		
		
		<meta name="description" content="一个放笔记的地方">
		
		
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		
		<meta property="og:title" content="[笔记]-正则规则"/>
		
		<meta property="og:site_name" content="用手记笔记，用心记笔记，用脑记笔记"/>
		
		
		<!-- favicon -->
		<link rel="icon" type="image/ico" href="/favicon.ico" sizes="32x32">
		<link rel="manifest" href="/manifest.json">
		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.ico">
		<meta name="theme-color" content="#009688">
		<script>var timeStart = new Date();</script>
		<!-- favicon end -->
		<!-- <link href="//favicon.ico" rel="icon"> -->
		
		<!-- toc -->
		<!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
		<!-- material design -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
		<link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
		
		
		<!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
		<!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
	</head>

<body>
	<nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">菜单</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">用手记笔记，用心记笔记，用脑记笔记</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="/" title="">
						<i class="fa fa-home"></i>首页
					</a>
				</li>
				
				<li>
					<a href="/archives" title="">
						<i class="fa fa-list"></i>存档
					</a>
				</li>
				
				<li>
					<a href="/resume" title="我的主页">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

	<div class="container" >
		<div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[笔记]-正则规则</h2>
				
				<div>
					<span class="post-time">2016-10-27 12:11</span>
				</div>	
				
				<div class="article-content">
				<p><strong>2016-11-20重新整理更新</strong></p>
<ul>
<li><p>正则表达式（regular expression）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span>  reg = <span class="regexp">/xyz/i</span>; <span class="comment">// 基本采用字面量法</span></div><div class="line"><span class="keyword">var</span>  reg = <span class="keyword">new</span>  <span class="built_in">RegExp</span>(<span class="string">"xyz"</span>, <span class="string">"i"</span>); <span class="comment">// 构造函数</span></div></pre></td></tr></table></figure>
</li>
<li><p>字面量字符（literal characters）</p>
</li>
<li>普通字符包括：字母（abcABC），数字（123），下划线（_）</li>
<li>特殊字符（元字符，metacharacters）</li>
<li><p>转义符：需要转义：<code>(</code> <code>)</code> <code>[</code> <code>]</code> <code>{</code> <code>}</code> <code>^</code> <code>$</code> <code>*</code> <code>?</code> <code>\</code> <code>|</code> <code>+</code> <code>.</code></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var reg = <span class="regexp">/\^a/</span></div><div class="line">var reg = <span class="regexp">/\\m/</span>; <span class="regexp">//</span> 特殊字符要转义</div><div class="line"></div><div class="line"><span class="regexp">/google\.com/</span> <span class="regexp">//</span> 匹配google.com</div><div class="line"><span class="regexp">/C:\\Windows/</span> <span class="regexp">//</span> 匹配C:\Windows。</div><div class="line"><span class="regexp">/Windows\d+/</span> <span class="regexp">//</span> 匹配Windows后跟<span class="number">1</span>个或更多数字</div></pre></td></tr></table></figure>
</li>
<li><p>RegExp方法生成正则对象，转义要两个斜杠，因为字符串内部先转义一次。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/<span class="number">1</span>\+<span class="number">1</span>/.test(<span class="string">"1+1"</span>); <span class="comment">// true</span></div><div class="line">(new RegExp(<span class="string">"1<span class="subst">\\</span>+1"</span>)).test(<span class="string">"1+1"</span>); <span class="comment">// true</span></div></pre></td></tr></table></figure>
</li>
<li><p>预定义特殊字符</p>
<ul>
<li><code>.</code>：单个字符，除换行<code>\n</code> 、行结束符（回车<code>\r</code>），相当于<code>[^\n\r]</code>，还包括行分隔符<code>\u2028</code>和段分隔符<code>\u2029</code>？</li>
<li><code>\w</code>：单词字符，任意字母、数字和下划线，相当于<code>[A-Za-z0-9_]</code>。</li>
<li><code>\W</code>：非单词字符，字母、数字和下划线以外的字符，相当于<code>[^A-Za-z0-9_]</code>。</li>
<li><code>\d</code>：数字，相当于<code>[0-9]</code>。</li>
<li><code>\D</code>：非数字字符，相当于<code>[^0-9]</code>。</li>
<li><code>\s</code>：空白字符，匹配空格，包括制表符、空格符、断行符等，相当于<code>[\t\n\v\f\r]</code>。</li>
<li><code>\S</code>：非空白字符，相当于<code>[^ \t\n\x0B\f\r]</code>。</li>
<li><code>\b</code>：单词边界。</li>
<li><code>\B</code>：非单词边界。</li>
<li><code>\0</code>：NUL 字符。</li>
<li><code>\n</code>：换行符。</li>
<li><code>\f</code>：换页符。</li>
<li><code>\r</code>：回车符。</li>
<li><code>\t</code>：制表符。</li>
<li><code>\v</code>：垂直制表符。</li>
<li><code>\xxx</code>：以八进制数xxx规定的字符。</li>
<li><code>\xdd</code>：以十六进制数dd规定的字符。</li>
<li><code>\uxxxx</code>：以十六进制数xxxx规定的Unicode字符。<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/c.t/</span>; <span class="regexp">//</span> 匹配c和t之间任一字符，只要在同一行，如cat、c2t、c-t，不匹配coot</div><div class="line"></div><div class="line"><span class="regexp">/00\d/</span> <span class="regexp">//</span> 可匹配<span class="string">"007"</span></div><div class="line"></div><div class="line"><span class="regexp">/\d\d\d/</span> <span class="regexp">//</span> 可匹配<span class="string">"010"</span></div><div class="line"></div><div class="line"><span class="regexp">/\w\w/</span> <span class="regexp">//</span> 可匹配<span class="string">"js"</span></div><div class="line"></div><div class="line"><span class="regexp">/^js$/</span> <span class="regexp">//</span> 整行匹配，只匹配<span class="string">"js"</span></div><div class="line"></div><div class="line"><span class="regexp">/js/</span> <span class="regexp">//</span> 可匹配<span class="string">"jsp"</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>分界</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">//</span> ^：行的开头，^\d：数字开头</div><div class="line"><span class="regexp">//</span> $：行的结束，\d$：数字结束</div><div class="line"><span class="regexp">/^abc/</span>; <span class="regexp">//</span> 是否以abc开始</div><div class="line"><span class="regexp">/xyz$/</span>; <span class="regexp">//</span> 是否以xyz结尾</div><div class="line"><span class="regexp">/^test$/</span>.test(<span class="string">"test"</span>); <span class="regexp">//</span> true</div><div class="line"><span class="regexp">/^test$/</span>.test(<span class="string">"test test"</span>); <span class="regexp">//</span> false</div><div class="line"></div><div class="line"><span class="regexp">//</span> \b：单词分隔符</div><div class="line"><span class="regexp">//</span> \B：非单词分隔符</div><div class="line"><span class="regexp">/\bworld/</span>.test(<span class="string">"hello-world"</span>); <span class="regexp">//</span> true</div><div class="line"><span class="regexp">/\bworld/</span>.test(<span class="string">"helloworld"</span>); <span class="regexp">//</span> false</div><div class="line"><span class="regexp">/\Bworld/</span>.test(<span class="string">"hello-world"</span>); <span class="regexp">//</span> false</div><div class="line"><span class="regexp">/\Bworld/</span>.test(<span class="string">"helloworld"</span>); <span class="regexp">//</span> true</div></pre></td></tr></table></figure>
  <figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/<span class="tag">\<span class="name">bhi</span></span><span class="tag">\<span class="name">b</span></span>/ // 精确查找hi</div><div class="line">/<span class="tag">\<span class="name">bhi</span></span><span class="tag">\<span class="name">b</span></span>.*<span class="tag">\<span class="name">bLucy</span></span><span class="tag">\<span class="name">b</span></span>/ // 先是单词hi，然后是任意个任意字符（除换行），最后是单词Lucy</div><div class="line">/<span class="tag">\<span class="name">b</span></span><span class="tag">\<span class="name">w</span><span class="string">&#123;6&#125;</span></span><span class="tag">\<span class="name">b</span></span>/ // 刚好6个字符的单词</div></pre></td></tr></table></figure>
</li>
<li><p>通常，正则表达式遇到换行符<code>\n</code>就会停止匹配。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var html = "<span class="tag">&lt;<span class="name">b</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">b</span>&gt;</span>\n<span class="tag">&lt;<span class="name">i</span>&gt;</span>world!<span class="tag">&lt;/<span class="name">i</span>&gt;</span>";</div><div class="line">/.*/.exec(html)[0] // "<span class="tag">&lt;<span class="name">b</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">b</span>&gt;</span>"</div></pre></td></tr></table></figure>
</li>
<li><p>点字符<code>.</code>不匹配换行符，使用<code>\s</code>字符类（<code>[\S\s]</code>指代一切字符），就能包括换行符。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var html = "<span class="tag">&lt;<span class="name">b</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">b</span>&gt;</span>\n<span class="tag">&lt;<span class="name">i</span>&gt;</span>world!<span class="tag">&lt;/<span class="name">i</span>&gt;</span>";</div><div class="line">/[\S\s]*/.exec(html)[0] // "<span class="tag">&lt;<span class="name">b</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">b</span>&gt;</span>\n<span class="tag">&lt;<span class="name">i</span>&gt;</span>world!<span class="tag">&lt;/<span class="name">i</span>&gt;</span>"</div></pre></td></tr></table></figure>
</li>
<li><p>另一种写法（非捕获组）：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/(?:.|\s)*/.exec(html)[0] // "<span class="tag">&lt;<span class="name">b</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">b</span>&gt;</span>\n<span class="tag">&lt;<span class="name">i</span>&gt;</span>world!<span class="tag">&lt;/<span class="name">i</span>&gt;</span>"</div></pre></td></tr></table></figure>
</li>
<li><p>字符集<code>[]</code>：字符类（class），只匹配其中一个就行。如<code>[xyz]</code> 表示x、y、z之中任一个匹配。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/[abc]/</span>.test(<span class="string">"apple"</span>) <span class="regexp">//</span> true</div><div class="line"></div><div class="line">[…] <span class="regexp">//</span> 在集合中的任一个字符</div><div class="line">[^…] <span class="regexp">//</span> 除集合中的任一个字符</div></pre></td></tr></table></figure>
</li>
<li><p>脱字符<code>^</code>：如果方括号内第一个字符是[^]，表示除了字符类之中的字符，都可匹配。如[^xyz]表示除x、y、z之外。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/[^abc]/</span>.test(<span class="string">"bbc"</span>) <span class="regexp">//</span> false</div></pre></td></tr></table></figure>
</li>
<li><p>如果方括号内只有[^]，表示匹配一切字符，包括换行符，而点号<code>.</code>不包括换行符。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">"abc efg<span class="subst">\n</span>123 456"</span>.match(/efg.*<span class="number">456</span>/) <span class="comment">// null</span></div><div class="line"><span class="string">"abc efg<span class="subst">\n</span>123 456"</span>.match(/efg[^]*<span class="number">456</span>/) <span class="comment">// ["efg\n123 456"]</span></div></pre></td></tr></table></figure>
</li>
<li><p>注意，脱字符只有在[]第一个位置才有特殊含义。</p>
</li>
<li><p>连字符<code>-</code>：表示字符的连续范围。<code>[abc]</code>等于<code>[a-c]</code>，<code>[0123456789]</code>等于<code>[0-9]</code>，<code>[A-Z]</code>表示26个大写字母。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/a-z/</span>.test(<span class="string">"b"</span>) <span class="regexp">//</span> false</div><div class="line"><span class="regexp">/[a-z]/</span>.test(<span class="string">"b"</span>) <span class="regexp">//</span> true</div></pre></td></tr></table></figure>
</li>
<li><p>当连字号（dash）不在方括号中，只代表字面含义。只有在方括号中，才表示连续的字符序列。</p>
</li>
<li><p>以下都是合法的字符类简写。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[<span class="number">0</span><span class="number">-9.</span>,]</div><div class="line">[<span class="number">0</span><span class="number">-9</span>a-fA-F]</div><div class="line">[a-zA-Z0<span class="number">-9</span>-]</div><div class="line">[<span class="number">1</span><span class="number">-31</span>] <span class="comment">// 不代表1到31，只代表1到3</span></div></pre></td></tr></table></figure>
</li>
<li><p>字符类的连字符必须在头尾两个字符中间，才有特殊含义，否则就是字面含义。<code>[-9]</code>表示连字符和9，而不是0到9。</p>
</li>
<li><p>连字符可以指定Unicode字符范围。</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var str = "<span class="symbol">\u</span>0130<span class="symbol">\u</span>0131<span class="symbol">\u</span>0132";</div><div class="line">/[<span class="symbol">\u</span>0128-<span class="symbol">\u</span>FFFF]/.test(str) // true</div></pre></td></tr></table></figure>
</li>
<li><p>不要过分使用连字符，设定一个很大的范围。如<code>[A-z]</code>，表面上是选中从大写的A到小写的z之间52个字母，但在ASCII编码之中，大写字母与小写字母之间还有其他字符。</p>
</li>
<li><p>简单类：<code>[abDF45]</code>表示由abDF45六个字符组成的一个集合</p>
</li>
<li>范围类：<code>[a-z]</code>表示小写字母集合。<code>[A-Z]</code>表示大写字母集合。<code>[0-9]</code>表示数字集合。<code>[i-y]</code> 表示小写字母i到y的集合</li>
<li>负向类：<code>[^abc]</code> 表示不包含abc的任意字符集合，<code>[^ab89CD]</code>表示不包含ab89CD这六个字符的集合</li>
<li><p>组合类：<code>[a-zA-Z0-9]</code> 表示大小写字母以及数字的结合</p>
</li>
<li><p>量词</p>
<ul>
<li><code>?</code>：重复零次或一次 </li>
<li><code>*</code>：重复零次或多次(任意次) </li>
<li><code>+</code>：重复一次或多次（至少一次） </li>
<li><code>{n}</code>：重复n次 </li>
<li><code>{n,m}</code>：重复n~m次(中间不能有空格) </li>
<li><code>{n,}</code>：至少重复n次 <figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/lo&#123;2,5&#125;k/.<span class="keyword">test</span>(<span class="string">"looook"</span>) <span class="comment">// true</span></div><div class="line">/t+<span class="keyword">est</span>/.<span class="keyword">test</span>(<span class="string">"est"</span>) <span class="comment">// false</span></div><div class="line">/t*<span class="keyword">est</span>/.<span class="keyword">test</span>(<span class="string">"est"</span>) <span class="comment">// true</span></div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>贪婪匹配：<code>?</code> <code>+</code> <code>*</code> 三个量词符，默认贪婪模式，匹配尽可能多的字符。</p>
</li>
<li>如，对于字符串”aaaa”，<code>/a+/</code>匹配”aaaa”，不会匹配”aa”。</li>
<li><p>在量词符后加一个问号，改为非贪婪模式，<code>/a+?/</code>只匹配”a”。</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">"aaaa"</span>.match<span class="comment">(/a+?/)</span> <span class="comment">// ["a"]</span></div><div class="line"><span class="string">"aaaa"</span>.match<span class="comment">(/a+/)</span> <span class="comment">// ["aaaa"]</span></div></pre></td></tr></table></figure>
</li>
<li><p>匹配数字后的0：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">/^(\d+)(0*)$/</span>.exec(<span class="string">"102300"</span>); <span class="regexp">//</span> [<span class="string">"102300"</span>, <span class="string">"102300"</span>, <span class="string">""</span>] </div><div class="line"><span class="regexp">//</span> \d+贪婪匹配，把<span class="number">0</span>全部匹配了，<span class="number">0</span>*只能匹配空字符串。</div><div class="line"></div><div class="line"><span class="regexp">/^(\d+?)(0*)$/</span>.exec(<span class="string">"102300"</span>); <span class="regexp">//</span> [<span class="string">"102300"</span>, <span class="string">"1023"</span>, <span class="string">"00"</span>]</div></pre></td></tr></table></figure>
</li>
<li><p><code>\s+</code>是贪婪模式，尽可能多匹配空格，匹配次数较少，性能更高</p>
</li>
<li><p><code>\s</code>只表示一个空格，匹配次数多，性能相对低。</p>
</li>
<li><p>懒惰限定符</p>
<ul>
<li><code>*?</code>：重复任意次，但尽可能少重复 </li>
<li><code>+?</code>：重复1次或更多次，但尽可能少重复 </li>
<li><code>??</code>：重复0次或1次，但尽可能少重复 </li>
<li><code>{n,m}?</code>：重复n到m次，但尽可能少重复 </li>
<li><code>{n,}?</code>：重复n次以上，但尽可能少重复 <figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// 中国的电话号码</div><div class="line">/0<span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">d</span></span>-<span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">d</span></span><span class="tag">\<span class="name">d</span></span>/ </div><div class="line">// 0开头，然后两个数字，然后一个连字号“-”，最后是8个数字</div><div class="line">// 等于</div><div class="line">/0<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span>-<span class="tag">\<span class="name">d</span><span class="string">&#123;8&#125;</span></span>/</div><div class="line"></div><div class="line">// 以任意个空格隔开的带区号的电话号码</div><div class="line">/^<span class="tag">\<span class="name">d</span><span class="string">&#123;3&#125;</span></span><span class="tag">\<span class="name">s</span></span>+<span class="tag">\<span class="name">d</span><span class="string">&#123;3,8&#125;</span></span><span class="formula">$/</span></div><div class="line"></div><div class="line">/^<span class="tag">\<span class="name">d</span><span class="string">&#123;3&#125;</span></span><span class="tag">\<span class="name">-</span></span><span class="tag">\<span class="name">d</span><span class="string">&#123;3,8&#125;</span></span>$/ </div><div class="line">// 匹配"010-12345"，无法匹配"010 - 12345"，因为有空格</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><code>\s</code>匹配一个空格（包括Tab等空白符），\s+表示至少有一个空格，如” “，”\t\t”等；</p>
</li>
<li><p>分枝条件</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">A<span class="string">|B // A或B</span></div><div class="line">Java[S<span class="string">|s]cript // 匹配"</span>JavaScript<span class="string">"、"</span>Javascript<span class="string">"</span></div></pre></td></tr></table></figure>
  <figure class="highlight tex"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">/0<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span>-<span class="tag">\<span class="name">d</span><span class="string">&#123;8&#125;</span></span>|0<span class="tag">\<span class="name">d</span><span class="string">&#123;3&#125;</span></span>-<span class="tag">\<span class="name">d</span><span class="string">&#123;7&#125;</span></span>/ // 010-12345678或0376-2233445</div><div class="line">/<span class="tag">\<span class="name">(</span></span>?0<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span></span><span class="tag">\<span class="name">)</span></span>?[- ]?<span class="tag">\<span class="name">d</span><span class="string">&#123;8&#125;</span></span>|0<span class="tag">\<span class="name">d</span><span class="string">&#123;2&#125;</span><span class="string">[- ]</span></span>?<span class="tag">\<span class="name">d</span><span class="string">&#123;8&#125;</span></span>/ </div><div class="line">// 3位区号的电话号码，区号可用小括号括起来，也可不用，区号与本地号间可用连字号或空格间隔，也可没间隔。</div><div class="line">/<span class="tag">\<span class="name">d</span><span class="string">&#123;5&#125;</span></span>-<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;5&#125;</span></span>/ // 5位数字，或连字号间隔的9位数字</div><div class="line">/<span class="tag">\<span class="name">d</span><span class="string">&#123;5&#125;</span></span>|<span class="tag">\<span class="name">d</span><span class="string">&#123;5&#125;</span></span>-<span class="tag">\<span class="name">d</span><span class="string">&#123;4&#125;</span></span>/ // 5位数字，或9位数字的前5位</div></pre></td></tr></table></figure>
</li>
<li><p>匹配分枝条件时，从左到右测试每个条件，如果满足了某个分枝，不再管其它条件。</p>
</li>
<li><p>重复单个字符：直接在字符后加上限定符；</p>
</li>
<li>重复多个字符，用小括号指定子表达式（分组）。</li>
<li><code>/(\d{1,3}\.){3}\d{1,3}/</code>简单的IP地址匹配表达式，它也匹配 256.300.888.999。</li>
<li><p>只能用冗长的分组，选择，字符类描述正确的IP地址：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/((<span class="number">2</span>[<span class="number">0</span><span class="number">-4</span>]\d|<span class="number">25</span>[<span class="number">0</span><span class="number">-5</span>]|[<span class="number">01</span>]?\d\d?)\.)&#123;<span class="number">3</span>&#125;(<span class="number">2</span>[<span class="number">0</span><span class="number">-4</span>]\d|<span class="number">25</span>[<span class="number">0</span><span class="number">-5</span>]|[<span class="number">01</span>]?\d\d?)/</div><div class="line"><span class="comment">// 关键是理解2[0-4]\d|25[0-5]|[01]?\d\d?</span></div></pre></td></tr></table></figure>
</li>
<li><p>分组：正则还可以提取子串，用<code>()</code>表示要提取的分组</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">//</span> 定义两个组</div><div class="line">var re = <span class="regexp">/^(\d&#123;3&#125;)-(\d&#123;3,8&#125;)$/</span>;</div><div class="line"><span class="regexp">//</span> 从匹配字符串中提取区号和本地号码</div><div class="line">re.exec(<span class="string">"010-12345"</span>); <span class="regexp">//</span> [<span class="string">"010-12345"</span>, <span class="string">"010"</span>, <span class="string">"12345"</span>]</div><div class="line">re.exec(<span class="string">"010 12345"</span>); <span class="regexp">//</span> null</div></pre></td></tr></table></figure>
</li>
<li><p>如果正则中定义了组，可以在RegExp对象上用exec()方法提取子串。</p>
</li>
<li>exec()方法匹配成功后，返回一个Array，第一个元素是原始字符串，后面的字符串表示匹配成功的子串。</li>
<li><p>exec()方法匹配失败返回null。</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">// 识别合法时间</div><div class="line">var re = /^(<span class="number">0</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">1</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">2</span>[<span class="number">0</span><span class="number">-3</span>]|[<span class="number">0</span><span class="number">-9</span>])\:(<span class="number">0</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">1</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">2</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">3</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">4</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">5</span>[<span class="number">0</span><span class="number">-9</span>]|[<span class="number">0</span><span class="number">-9</span>])\:(<span class="number">0</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">1</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">2</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">3</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">4</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">5</span>[<span class="number">0</span><span class="number">-9</span>]|[<span class="number">0</span><span class="number">-9</span>])$/;</div><div class="line">re.exec(<span class="string">"19:05:30"</span>); // [<span class="string">"19:05:30"</span>, <span class="string">"19"</span>, <span class="string">"05"</span>, <span class="string">"30"</span>]</div></pre></td></tr></table></figure>
</li>
<li><p>有时正则也无法完全识别如”2-30”，”4-31”这样的非法日期：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var re = /^(<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>]|<span class="number">1</span>[<span class="number">0</span><span class="number">-2</span>]|[<span class="number">0</span><span class="number">-9</span>])-(<span class="number">0</span>[<span class="number">1</span><span class="number">-9</span>]|<span class="number">1</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">2</span>[<span class="number">0</span><span class="number">-9</span>]|<span class="number">3</span>[<span class="number">0</span><span class="number">-1</span>]|[<span class="number">0</span><span class="number">-9</span>])$/;</div></pre></td></tr></table></figure>
</li>
<li><p>电子邮件识别：</p>
<figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/^[<span class="symbol">\w</span>-]+(<span class="symbol">\.</span>[<span class="symbol">\w</span>-]+)*@[<span class="symbol">\w</span>-]+(<span class="symbol">\.</span>[<span class="symbol">\w</span>-]+)+$/;</div></pre></td></tr></table></figure>
</li>
<li><p>[\w-]表示所有的字符，数字，下划线及减号，[\w-]+表示集合最少重复一次；</p>
</li>
<li>括号表示分组，修饰符星号 (*)表示重复零或多次。匹配任意字母，数字，下划线及中划线的集合，且至少重复一次。</li>
<li>@后部分，分组的修饰符 (+)，表示至少重复一次，后半部分至少有一个点号(.)，且点号后至少有一个字符，限制输入串中必须包含域名。</li>
<li><p>最后，脱字符(^)和美元符号($)限制，以…开始，且以…结束。</p>
</li>
<li><p>括号常见有三种作用：</p>
<ul>
<li><p>一，括号标记子表达式，区别其他表达式，很多命令行程序帮助命令，h和help一样：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">h</span><span class="params">(elp)</span></span> <span class="comment">// h必选，h后的elp可有可无</span></div></pre></td></tr></table></figure>
</li>
<li><p>二，括号分组，正则执行完后，匹配的文本按规则填入分组，如，某数据库的主键格式：四个字符表示省份，四个数字表示区号，然后两位字符表示区县，如yunn0871cg表示云南省昆明市呈贡县，分离出区号和区县的两位字符代码：</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var pattern = /\w&#123;<span class="number">4</span>&#125;(\d&#123;<span class="number">4</span>&#125;)(\w&#123;<span class="number">2</span>&#125;)/;</div><div class="line">var result = pattern.exec(<span class="string">"yunn0871cg"</span>);</div><div class="line"></div><div class="line"><span class="string">"city code = "</span>+result[<span class="number">1</span>]+<span class="string">", county code = "</span>+result[<span class="number">2</span>]; </div><div class="line"><span class="comment">// city code = 0871, county code = cg</span></div></pre></td></tr></table></figure>
</li>
<li><p>如果匹配成功，正则的exec方法返回一个数组，数组的第一个元素表示整个串，第一个元素为第一个分组，第二个元素为第二个分组，以此类推。</p>
</li>
<li><p>三，括号辅助引用，同一表达式中，后边式子引用前边匹配的文本。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var str = "hello, world";</div><div class="line">var str = "fair enough";</div><div class="line">var pattern = /[<span class="string">'"</span>][<span class="symbol">^'"</span>]*['"]/;</div><div class="line">// 如果输入：</div><div class="line">var str = 'hello, world";</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>这就要引用，用斜杠加数字表示，<code>\1</code>表示第一个分组，<code>\2</code>表示第二个分组。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="selector-tag">var</span> pattern = /([<span class="string">'"])[^'</span><span class="string">"]*\1/;</span></div></pre></td></tr></table></figure>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 单引号中不允许双引号，双引号中也不允许单引号</span></div><div class="line"><span class="keyword">var</span> pattern = <span class="regexp">/(['"])[^\1]*\1/</span>;</div></pre></td></tr></table></figure>
  <figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">//</span> 第一个括号捕获a，第二个括号捕获c</div><div class="line"><span class="string">"abcabc"</span>.match(<span class="regexp">/(.)b(.)/</span>); <span class="regexp">//</span> [<span class="string">"abc"</span>, <span class="string">"a"</span>, <span class="string">"c"</span>]</div></pre></td></tr></table></figure>
</li>
<li><p>组匹配，不宜用g修饰符，否则match方法不会捕获分组内容。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"abcabc"</span>.match(<span class="regexp">/(.)b(.)/g</span>); <span class="regexp">//</span> [<span class="string">"abc"</span>, <span class="string">"abc"</span>]</div></pre></td></tr></table></figure>
</li>
<li><p>\n引用括号匹配的内容，n是从1开始的自然数，表示对应的括号。</p>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// \1表示第一个括号匹配内容a，\2表示第二个括号匹配内容b</span></div><div class="line">/<span class="comment">(.)</span>b<span class="comment">(.)</span>\<span class="number">1</span>b\<span class="number">2</span>/.test<span class="comment">("abcabc")</span> <span class="comment">// true</span></div></pre></td></tr></table></figure>
</li>
<li><p>组匹配匹配网页标签。</p>
<figure class="highlight accesslog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/&lt;(<span class="string">[^&gt;]</span>+)&gt;<span class="string">[^&lt;]</span>*&lt;\/\<span class="number">1</span>&gt;/.exec(<span class="string">"&lt;b&gt;bold&lt;/b&gt;"</span>)<span class="string">[1]</span> // <span class="string">"b"</span></div></pre></td></tr></table></figure>
</li>
<li><p>捕获有属性的标签。</p>
<figure class="highlight pony"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> html = <span class="string">"&lt;b class="</span>hello<span class="string">"&gt;Hello&lt;/b&gt;&lt;i&gt;world&lt;/i&gt;"</span>;</div><div class="line"><span class="keyword">var</span> <span class="meta">tag</span> = /&lt;(\w+)([^&gt;]*)&gt;(.*)&lt;\/\<span class="number">1</span>&gt;/g;</div><div class="line"><span class="keyword">var</span> <span class="keyword">match</span> = <span class="meta">tag</span>.exec(html);</div><div class="line"><span class="keyword">match</span>[<span class="number">1</span>] <span class="comment">// "b"</span></div><div class="line"><span class="keyword">match</span>[<span class="number">2</span>] <span class="comment">// "class="hello""</span></div><div class="line"><span class="keyword">match</span>[<span class="number">3</span>] <span class="comment">// "Hello"</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> <span class="keyword">match</span> = <span class="meta">tag</span>.exec(html);</div><div class="line"><span class="keyword">match</span>[<span class="number">1</span>] <span class="comment">// "i"</span></div><div class="line"><span class="keyword">match</span>[<span class="number">2</span>] <span class="comment">// ""</span></div><div class="line"><span class="keyword">match</span>[<span class="number">3</span>] <span class="comment">// "world"</span></div></pre></td></tr></table></figure>
</li>
<li><p>非捕获组（Non-capturing group）：(?:x)，不返回该组匹配的内容，这个括号不计入匹配结果。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">//</span> 第一个括号是非捕获组，返回的第一个被捕获的组是第二个括号匹配的c</div><div class="line">var m = <span class="string">"abc"</span>.match(<span class="regexp">/(?:.)b(.)/</span>);</div><div class="line">m[<span class="number">1</span>] <span class="regexp">//</span> <span class="string">"c"</span></div></pre></td></tr></table></figure>
</li>
<li><p>分解网址。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var url = <span class="regexp">/(http|ftp):\/\/([^/\r\n]+)(\/[^\r\n]*)/</span>;</div><div class="line">url.exec(<span class="string">"http://google.com/"</span>); <span class="regexp">//</span> [<span class="string">"http://google.com/"</span>, <span class="string">"http"</span>, <span class="string">"google.com"</span>, <span class="string">"/"</span>]</div><div class="line"><span class="regexp">//</span> 正常匹配，第一个括号返回网络协议http</div><div class="line"></div><div class="line">var url = <span class="regexp">/(?:http|ftp):\/\/([^/\r\n]+)(\/[^\r\n]*)/</span>;</div><div class="line">url.exec(<span class="string">"http://google.com/"</span>); <span class="regexp">//</span> [<span class="string">"http://google.com/"</span>, <span class="string">"google.com"</span>, <span class="string">"/"</span>]</div><div class="line"><span class="regexp">//</span> 非捕获匹配，返回结果不包括http</div></pre></td></tr></table></figure>
</li>
<li><p>先行断言（Positive look-ahead）：x(?=y)，x在y前面才匹配，y不计入返回结果。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">"abc"</span>.match(<span class="regexp">/b(?=c)/</span>); <span class="regexp">//</span> [<span class="string">"b"</span>]</div><div class="line"><span class="regexp">//</span> b在c前所以匹配，括号对应的c不会返回</div></pre></td></tr></table></figure>
</li>
<li><p>后行断言（Negative look-ahead）：x(?!y)，x不在y前面才匹配，y不计入返回结果。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">"abd"</span>.match(<span class="regexp">/b(?!c)/</span>); <span class="regexp">//</span> [<span class="string">"b"</span>]</div><div class="line"><span class="regexp">//</span> b不在c前所以匹配，括号对应的d不会返回</div></pre></td></tr></table></figure>
</li>
<li><p>修饰符（modifier）</p>
</li>
<li><p>g修饰符：global，全局匹配。默认情况下，第一次匹配成功后就停止。global将匹配全部符合的结果，主要用于搜索和替换。</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> r = /<span class="keyword">test</span>/<span class="keyword">g</span>;</div><div class="line"><span class="comment">// 等价于</span></div><div class="line"><span class="keyword">var</span> r = new RegExp(<span class="string">"test"</span>, <span class="string">"g"</span>); </div><div class="line"></div><div class="line"><span class="keyword">var</span>  <span class="keyword">reg</span> = /b/;</div><div class="line"><span class="comment">// 不加g修饰符，每次匹配都从字符串头部开始</span></div><div class="line"><span class="keyword">reg</span>.<span class="keyword">test</span>(<span class="string">"abba"</span>); <span class="comment">// true</span></div><div class="line"><span class="keyword">reg</span>.<span class="keyword">test</span>(<span class="string">"abba"</span>); <span class="comment">// true</span></div><div class="line"><span class="keyword">reg</span>.<span class="keyword">test</span>(<span class="string">"abba"</span>); <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="keyword">var</span>  <span class="keyword">reg</span> = /b/<span class="keyword">g</span>;</div><div class="line"><span class="comment">// 加g修饰符，每次匹配都从上一次匹配成功处开始</span></div><div class="line"><span class="keyword">reg</span>.<span class="keyword">test</span>(<span class="string">"abba"</span>); <span class="comment">// true</span></div><div class="line"><span class="keyword">reg</span>.<span class="keyword">test</span>(<span class="string">"abba"</span>); <span class="comment">// true</span></div><div class="line"><span class="keyword">reg</span>.<span class="keyword">test</span>(<span class="string">"abba"</span>); <span class="comment">// false</span></div></pre></td></tr></table></figure>
<ul>
<li><p>全局匹配可多次执行exec()搜索字符串。指定g后，每次exec()，会更新lastIndex属性，表示上次匹配到的最后索引：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">var s = <span class="string">"JavaScript, VBScript, JScript and ECMAScript"</span>;</div><div class="line">var re = <span class="regexp">/[a-zA-Z]+Script/g</span>;</div><div class="line"><span class="regexp">//</span> 全局匹配:</div><div class="line">re.exec(s); <span class="regexp">//</span> [<span class="string">"JavaScript"</span>]</div><div class="line">re.lastIndex; <span class="regexp">//</span> <span class="number">10</span></div><div class="line"></div><div class="line">re.exec(s); <span class="regexp">//</span> [<span class="string">"VBScript"</span>]</div><div class="line">re.lastIndex; <span class="regexp">//</span> <span class="number">20</span></div><div class="line"></div><div class="line">re.exec(s); <span class="regexp">//</span> [<span class="string">"JScript"</span>]</div><div class="line">re.lastIndex; <span class="regexp">//</span> <span class="number">29</span></div><div class="line"></div><div class="line">re.exec(s); <span class="regexp">//</span> [<span class="string">"ECMAScript"</span>]</div><div class="line">re.lastIndex; <span class="regexp">//</span> <span class="number">44</span></div><div class="line"></div><div class="line">re.exec(s); <span class="regexp">//</span> null，直到结束仍没匹配到</div></pre></td></tr></table></figure>
</li>
<li><p>全局匹配类似搜索，因此不能使用<code>/^...$/</code>，那样只会最多匹配一次。</p>
</li>
</ul>
</li>
<li><p>i修饰符：ignorecase，忽略大小写 </p>
</li>
<li><p>m修饰符：multiline，多行模式，到达一行文本末还继续查找下一行。</p>
<ul>
<li>字符串的头部或尾部可能会有换行符。正则默认将换行符算入字符串的开头或结尾。</li>
<li>加上m修饰符后会忽略字符串头部或尾部的换行符，即<code>^</code>和<code>$</code>会忽略换行符。<figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="regexp">//</span> 不加m修饰符，匹配失败，因为结尾不是world</div><div class="line"><span class="regexp">/world$/</span>.test(<span class="string">"hello world\n"</span>) <span class="regexp">//</span> false</div><div class="line"><span class="regexp">//</span> 加上后，换行符被忽略，匹配成功</div><div class="line"><span class="regexp">/world$/m</span>.test(<span class="string">"hello world\n"</span>) <span class="regexp">//</span> true</div><div class="line"></div><div class="line"><span class="regexp">/^javascript/</span>.test(<span class="string">"java\njavascript"</span>); <span class="regexp">//</span> false</div><div class="line"><span class="regexp">/^javascript/m</span>.test(<span class="string">"java\njavascript"</span>); <span class="regexp">//</span> true</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>修饰符多个一起用：<code>var reg = /test/ig;</code>。</p>
</li>
</ul>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


		<footer>
			
<p>Powered by <a href="https://hexo.io">Hexo</a> with <a href="https://github.com/wayou/hexo-theme-material">Material</a> theme modified by <b> Huangzhike </b></p>
<p>&copy; 2016 <a href="https://huangzhike.github.io"><b> Huangzhike </b></a></p>
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	</div>
	<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
	<script src="/js/highlight.js"></script> 
	<script>hljs.initHighlightingOnLoad();var timeEnd = new Date();console.log('耗时：' + (timeEnd - timeStart));</script>
	<!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
	<!-- material design -->
	<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
	<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
	<!-- toc -->
	<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
	<!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
	<!-- <script src="/js/main.js"></script> -->
</body>
</html>

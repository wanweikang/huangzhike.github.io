<!DOCTYPE HTML>
<html>

<head>
    <script>
        var timeStart = new Date();
    </script>
    <meta charset="utf-8">
    
    <title>[笔记]-语句&amp;循环&amp;遍历 | Reunion...</title>
    
    <meta name="author" content="huangzhike">
    
    
    <meta name="description"
        content="2016-11-18重新整理更新
条件分支语句：else代码块跟随最近的if语句。
var m = 1, n = 2;

if (m !== 1) 
if (n === 2) console.log(&#34;a&#34;); 
else console.log(&#34;b&#34;);
等价于
if (m !== 1) {
 ">
    
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta property="og:title" content="[笔记]-语句&amp;循环&amp;遍历" />
    
    <meta property="og:site_name" content="Reunion..." />
    
    
    <!-- favicon -->
    <link rel="icon" type="image/ico" href="/logo.ico" sizes="32x32">
    <meta name="msapplication-TileColor" content="#009688">
    <meta name="msapplication-TileImage" content="/mstile-144x144.ico">
    <meta name="theme-color" content="#009688">
    <!-- favicon end -->
    <!-- <link href="//ok.ico" rel="icon"> -->
    

    <!-- <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet"> -->
    <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
    <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
    <link rel="stylesheet" href="/css/prism.css" media="screen" type="text/css">

<meta name="generator" content="Hexo 4.2.1"></head>
<body>
    <nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">菜单</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" title="早く来い、クラウド" href="/">Reunion...</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" target="_blank" rel="noopener" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

    <div class="container" >
        <div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[笔记]-语句&amp;循环&amp;遍历</h2>
				
				<div>
					<div class="post-time">2016-10-27</div>
				</div>
				
				<div class="article-content">
				<p><strong>2016-11-18重新整理更新</strong></p>
<p>条件分支语句：else代码块跟随最近的if语句。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var m = 1, n = 2;

if (m !== 1) 
if (n === 2) console.log("a"); 
else console.log("b");</code></pre>
<p>等价于</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">if (m !== 1) {
    if (n === 2) {
        console.log("a");  
    } else {
        console.log("b");
    }
}</code></pre>
<p>有括号的话，if语句执行{}里面的所有语句，没括号的话，if语句只控制最近的一行。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">if (true)
console.log("1"); // 1
console.log("2"); // 2

if (false)
console.log("1");
console.log("2"); // 2</code></pre>
<p>跳楼现象</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var a = 4;

if(a < 8) {
    a++; // a变为5，跳楼，不进行a===5比较
} else if (a === 5) {
    a++;
} else {
    a++;
}
a; // 5</code></pre>
<p>switch语句</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function test(age) {
    var result = "";

    switch (true) {
        case isNaN(age):
            result = "NaN";
            break;
        case (age >= 22):
            result = "Old";
            break;
        case (age <= 21):
            result = "Young";
            break;
        default:
            result = "";
            break;
    };
    return result;
}
test(21); // "Young"</code></pre>
<p>switch进行相同判断，是===的比较，连类型一起比较。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var a = "5";

switch(a) {      
    case 5 :
        alert("h"); //不会弹出
        break;
}</code></pre>
<p>如果不写break，将执行下面的case的语句，直到break。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">switch(month) {
    case 1:
    case 3:
    case 5:
    case 7:
    case 8:
    case 10:
    case 12:
        alert("31天");
        break;
    case 4:
    case 6:
    case 9:
    case 11:
        alert("30天");
        break;
    case 2:
        alert("28天或29天");
        break;  
}</code></pre>
<p>错误写法 </p>
<pre class=" language-JavaScript"><code class="language-JavaScript">switch(month) {
    case 1 || 3 || 5 || 7 || 8 || 10 || 12 :
        alert("这个月有31天");
        break;
    case 4 || 6 || 9 || 11 :
        alert("这个月有30天");
        break;
    default :
        alert("默认");
        break;  
}
// 1 || 3 || 5 || 7 是表达式，计算求值 1 || 3 || 5 || 7 || 8 || 10 || 12表达式的值是 1，等价于case 1:</code></pre>
<p>switch语句部分和case语句部分，都可以使用表达式。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">switch(a + b) {
    case c + d:
        break;
    default:
        break;
}</code></pre>
<p>switch…case要求case最后一行必须是break语句，否则下一个case。这样不仅易忘，还会造成代码冗长。</p>
<p>switch…case不使用大括号，不利于代码形式的统一。</p>
<p>此外，这种结构类似goto语句，易造成流程混乱，不符合面向对象编程。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function A(action) {
    switch (act) {
        case "f":
            console.log("f");
            break;
        default:
            break;
    }
}</code></pre>
<p>改写成对象结构</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function A(action) {
    var act = {
        "f": function () {
            console.log("f");
        }
    };

    if (act[action]) {
        act[action]();
    } else {
        act["default"]();
    }
}

A("f");</code></pre>
<p>总结：</p>
<p>条件语句</p>
<ul>
<li>if () {} else if () {}</li>
<li>switch case</li>
<li>三元运算符</li>
<li>&amp;&amp; || 短路写法</li>
</ul>
<p>循环语句</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">for () {
}

while () {
}; 

do { 
} while (); // 分号不能省略</code></pre>
<p>do while语句</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var i = 1;
do {
    console.log(i);
    i++;
} while(i <= 100);</code></pre>
<p>break语句只能跳出当前所在的最内层循环。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">// break只中断了最内层循环，外层循环还在继续
for(var i = 1 ; i <= 10 ; i++) {
    for(var j = 1 ; j <= 10 ; j++) {
        console.log(i, j);
        if(j == 5) {
            break;
        }
    }
}</code></pre>
<p>终止所有的循环，label。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">A : for(var i = 1 ; i <= 10 ; i++) {
    for(var j = 1 ; j <= 10 ; j++) {
        console.log(i, j);
        if(j == 5) {
            break A;
        }
    }
}</code></pre>
<p>遇见continue语句，for终止执行后面的语句，进入下一次迭代。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">for(var i = 1 ; i <= 100 ; i++) {
    if(i == 5) {
        continue;   // 当i为5，跳过console，直接i为6
    }
    console.log(i);
}</code></pre>
<p>continue同样只能终端当前最内层的for，外层for要加label。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">// 寻找2~100内的所有质数
A : 
for(var i = 2 ; i <= 100 ; i++) {
    for(var j = 2 ; j <= Math.sqrt(i) ; j++) {
        // 如果被整除
        if(i % j == 0) {
            continue A; // 立即放弃，开始验证下一个i
        }
    }
    console.log(i);// 如果数字有约数，执行continue，不会console
}</code></pre>
<p>只会执行10次循环，一旦i等于10，就会跳出循环。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var i = 0;
while (i<100) {
    console.log(i);
    i++;
    if (i === 10) {
        break;
    }
};</code></pre>
<p>continue语句用于立即终止本次循环，返回循环结构的头部，开始下一次循环。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var i = 0;

while (i<100) {
    i++;
    if (i%2 === 0) {
        continue;
    }
    console.log(i);
}</code></pre>
<p>多重循环，不带参数的break和continue都只针对最内层循环。</p>
<p>return语句</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function log(a) {
    return // 自动分号插入
    a; // 如果 return 对象的左括号和 return 不在一行上会出错。
}
log(1); // undefined</code></pre>
<p>遍历</p>
<p>两种方式使用in操作符：</p>
<p>单独使用：无论属性存在于实例还是原型中。</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">if ("querySelector" in document) {
    document.querySelector("#id");
} else {
    document.getElementById("id");
}</code></pre>
<p>在for-in循环中使用：遍历数组和对象</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">for(var key in arr|obj) {} 
// 遍历数组时，key表示索引值
// 遍历对象时，key表示属性名
(function() {
    for(var i in Arr) {
        if (i === "2") {
            return; // 终止函数
            // break;  // 终止循环
            // continue;  // 跳过当前循环
        };
        console.log("Arr["+ i +"]:" + Arr[i]);
    }
    console.log("return");
})();</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">var Arr = ["Javascript", "CSS3", "jQuery", "Angular"];

var Obj = {
    a: "Javascript",
    b: "CSS3",
    c: "jQuery",
    d: "Angular"
};</code></pre>
<p>forEach</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">Arr.forEach(function(val, index) {
    if (val === "CSS3") {
        return;  // 循环被跳过
        // break; // 报错
        // continue; // 报错
    };
    console.log(val, index);
})</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">var newArr = [];
Arr.forEach(function(val, index) {
    this.push(val); // this指向newArr
}, newArr)</code></pre>
<ul>
<li>回调函数中有2个参数，分别表示值和索引，与jQuery的$.each相反；</li>
<li>forEach无法遍历对象；</li>
<li>forEach在低版本浏览器无法使用（ES5）；</li>
<li>forEach无法使用break，continue跳出循环，使用return时，和在for循环中使用continue一致；</li>
<li>forEach可以添加第二参数，为一个数组，回调函数中的this指向这个数组。如果没有，this指向window；</li>
</ul>
<p>do/while：不建议使用do/while的遍历数组</p>
<p>while</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">(function() {
    var i = 0, len = Arr.length;
    while(i < len) {
        if (i === 2) {
            // return; // 终止函数执行
            // break;  // 终止循环
            // continue;  // 跳过循环，后边的代码无法执行，i 值无法改变，因此循环卡死
            // 使用 continue 时，不要将i++放在后面
        };
        console.log("Arr["+ i +"]:" + Arr[i]);
        i ++;
    }
    console.log("return");
})();</code></pre>
<p>do while</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">(function() {
    var i = 0, len = Arr.length;
    do {
        if (i === 2) {
            break; // 循环被终止
        };
        console.log("Arr["+ i +"]:" + Arr[i]);
        i++;
    } while(i<len);
})();</code></pre>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


        <footer>
             
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

        </footer>
    </div>
    <!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
    <script>
        var timeEnd = new Date();
        console.log('耗时：' + (timeEnd - timeStart));
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre').forEach((block) => {
                block.classList.add("line-numbers");
            });
        });
    </script>

    <script src="/js/prism.js"></script>
</body>
</html>

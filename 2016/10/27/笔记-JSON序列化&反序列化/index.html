<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            var timeStart = new Date();
        </script>
        
        <title>[ç¬”è®°]-JSONåºåˆ—åŒ–&amp;ååºåˆ—åŒ– | ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜</title>
        
        <meta name="author" content="huangzhike">
        
        
        <meta name="description" content="2016-11-18é‡æ–°æ•´ç†
JSONæ ¼å¼ï¼ˆJavaScript Object Notationï¼‰æ˜¯ä¸€ç§ç”¨äºæ•°æ®äº¤æ¢çš„æ–‡æœ¬æ ¼å¼ã€‚
var J = {
    &#34;key&#34; : value,
    &#34;key&#34; : value,
    &#34;key&#34; : value
}
ç‚¹è¯­æ³•åŠä¸­æ‹¬å·
j.key;
va">
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        
        <meta property="og:title" content="[ç¬”è®°]-JSONåºåˆ—åŒ–&amp;ååºåˆ—åŒ–"/>
        
        <meta property="og:site_name" content="ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜"/>
        
        
        <!-- favicon -->
        <link rel="icon" type="image/ico" href="/ok.ico" sizes="32x32">
        <meta name="msapplication-TileColor" content="#009688">
        <meta name="msapplication-TileImage" content="/mstile-144x144.ico">
        <meta name="theme-color" content="#009688">
        <!-- favicon end -->
        <!-- <link href="//ok.ico" rel="icon"> -->
        
        <!-- toc -->
        <!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
        <!-- material design -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
        <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/prism.css" media="screen" type="text/css">
        
        <!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
        <!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
    <meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">èœå•</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" title="ä¸‹ä¸€å¥æ˜¯ï¼šå®¢æœ‰å¯äººæœŸä¸æ¥ã€‚å°æ—¶å€™ï¼Œå–œæ¬¢é åœ¨é˜³å°ä¸Šï¼Œä¸€è¾¹å¹é£ï¼Œä¸€è¾¹çœ‹ä¹¦ï¼Œå–œæ¬¢è¯»ä¹¦å—ï¼Œéªšå¹´ï¼Ÿ" href="/">ä¹¦å½“å¿«æ„è¯»æ˜“å°½</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" target="_blank" rel="noopener" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

    <div class="container" >
        <div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[ç¬”è®°]-JSONåºåˆ—åŒ–&amp;ååºåˆ—åŒ–</h2>
				
				<div>
					<div class="post-time">2016-10-27</div>
				</div>
				
				<div class="article-content">
				<p><strong>2016-11-18é‡æ–°æ•´ç†</strong></p>
<p>JSONæ ¼å¼ï¼ˆJavaScript Object Notationï¼‰æ˜¯ä¸€ç§ç”¨äºæ•°æ®äº¤æ¢çš„æ–‡æœ¬æ ¼å¼ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> J <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">"key"</span> <span class="token punctuation">:</span> value<span class="token punctuation">,</span>
    <span class="token string">"key"</span> <span class="token punctuation">:</span> value<span class="token punctuation">,</span>
    <span class="token string">"key"</span> <span class="token punctuation">:</span> value
<span class="token punctuation">}</span></code></pre>
<p>ç‚¹è¯­æ³•åŠä¸­æ‹¬å·</p>
<pre class=" language-javascript"><code class="language-javascript">j<span class="token punctuation">.</span>key<span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> key<span class="token punctuation">;</span>
j<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// []é‡Œé¢æ˜¯å˜é‡</span>
j<span class="token punctuation">[</span><span class="token string">"key"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// å¦‚æœä¸æƒ³ç”¨å˜é‡ï¼Œå¿…é¡»åŠ å¼•å·</span></code></pre>
<ul>
<li><p>æ·»åŠ å±æ€§ï¼šç‚¹è¯­æ³•èµ‹å€¼</p>
</li>
<li><p>åˆ é™¤å±æ€§ï¼šä½¿ç”¨deleteå…³é”®å­—ï¼š<code>delete j.key;</code></p>
</li>
<li><p>æ•°ç»„æˆ–å¯¹è±¡çš„æ¯ä¸ªæˆå‘˜çš„å€¼ï¼Œå¯ä»¥æ˜¯ç®€å•å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤åˆå€¼ã€‚</p>
</li>
<li><p>ç®€å•å€¼å››ç§ï¼šstringã€numberï¼ˆå¿…é¡»ä»¥åè¿›åˆ¶è¡¨ç¤ºï¼‰ã€booleanã€nullï¼ˆNaN, Infinity, -Infinityå’Œundefinedéƒ½ä¼šè¢«è½¬ä¸ºnullï¼‰ã€‚</p>
</li>
<li><p>å¤åˆå€¼ä¸¤ç§ï¼šç¬¦åˆJSONæ ¼å¼çš„objectå’Œarrayã€‚</p>
</li>
<li><p>æ•°ç»„æˆ–å¯¹è±¡æœ€åä¸€ä¸ªæˆå‘˜çš„åé¢ï¼Œä¸èƒ½åŠ é€—å·ã€‚</p>
</li>
<li><p>æ•°ç»„æˆ–å¯¹è±¡ä¸­çš„å­—ç¬¦ä¸²å¿…é¡»ç”¨åŒå¼•å·ï¼Œä¸èƒ½ç”¨å•å¼•å·ã€‚</p>
</li>
<li><p>å¯¹è±¡çš„å±æ€§åå¿…é¡»ä½¿ç”¨åŒå¼•å·ã€‚</p>
</li>
<li><p>å­—ç¬¦é›†å¿…é¡»æ˜¯UTF-8ã€‚</p>
<ul>
<li>åˆæ ¼çš„JSONå€¼ï¼š</li>
</ul>
</li>
</ul>
<pre class=" language-javascript"><code class="language-javascript"><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token string">"1"</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token string">"b"</span><span class="token punctuation">:</span> <span class="token string">"2"</span><span class="token punctuation">}</span> <span class="token punctuation">]</span>
<span class="token punctuation">{</span> <span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">"a"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span></code></pre>
<p>JSONçš„éå†ï¼šfor in è¯­å¥</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">"is"</span> <span class="token operator">+</span> j<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span></code></pre>
<p>ES5æ–°å¢äº†JSONå¯¹è±¡å¤„ç†JSONæ ¼å¼æ•°æ®ã€‚æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼šJSON.stringify()å’ŒJSON.parse()ã€‚</p>
<p>JSON.stringifyå°†å€¼è½¬ä¸ºç¬¦åˆJSONæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å¯ä»¥è¢«JSON.parseæ–¹æ³•è¿˜åŸã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// ""abc""</span>
JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "1"</span>
JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "false"</span>
JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "[]"</span>
JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "{}"</span>
JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"false"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "[1,"false",false]"</span>
JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token string">"b"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "{"a":"b"}"</span></code></pre>
<p>å¦‚æœåŸå§‹å¯¹è±¡ä¸­ï¼Œæœ‰æˆå‘˜çš„å€¼æ˜¯undefinedã€functionæˆ–XMLå¯¹è±¡ï¼Œè¿™ä¸ªæˆå‘˜ä¼šè¢«çœç•¥ã€‚</p>
<p>å¦‚æœæ•°ç»„å¯¹è±¡çš„æˆå‘˜æ˜¯undefinedã€functionæˆ–XMLå¯¹è±¡ï¼Œè¿™äº›å€¼è¢«è½¬æˆnullã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        f<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        a<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> undefined <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// "{"a":[null,null]}"</span></code></pre>
<p>æ­£åˆ™å¯¹è±¡ä¼šè¢«è½¬æˆç©ºå¯¹è±¡ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token regex">/foo/</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "{}"</span></code></pre>
<p>JSON.stringifyæ–¹æ³•å¿½ç•¥å¯¹è±¡çš„ä¸å¯éå†å±æ€§ã€‚</p>
<p>JSON.stringifyæ–¹æ³•æ¥å—ä¸€ä¸ªæ•°ç»„å‚æ•°ï¼ŒæŒ‡å®šéœ€è¦è¾“å‡ºå­—ç¬¦ä¸²çš„å±æ€§ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span><span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// '{"a":1}'</span>
<span class="token comment" spellcheck="true">// åªè½¬aå±æ€§ã€‚</span></code></pre>
<p>JSON.stringifyæ–¹æ³•è¿˜å¯æ¥å—ä¸€ä¸ªå‡½æ•°å‚æ•°ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">"number"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        value <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span><span class="token string">"a"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// '{"a":2,"b":4,"c":"a"}'</span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"["</span><span class="token operator">+</span> key <span class="token operator">+</span><span class="token string">"]:"</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span>
<span class="token comment" spellcheck="true">// []:[object Object]  ç¬¬ä¸€æ¬¡å‡½æ•°å¤„ç†é”®åä¸ºç©ºï¼Œé”®å€¼æ˜¯æ•´ä¸ªå¯¹è±¡</span>
<span class="token comment" spellcheck="true">// [a]:[object Object]  ç¬¬äºŒæ¬¡å‡½æ•°å¤„ç†é”®åä¸ºaï¼Œé”®å€¼æ˜¯{b:1}</span>
<span class="token comment" spellcheck="true">// [b]:1  ç¬¬ä¸‰æ¬¡å‡½æ•°å¤„ç†é”®åä¸ºbï¼Œé”®å€¼ä¸º1</span>
<span class="token comment" spellcheck="true">// '{"a":{"b":1}}' è½¬åŒ–ç»“æœ</span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">"object"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> value<span class="token operator">*</span><span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>f<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "{"b":4}"</span>
<span class="token comment" spellcheck="true">// å‡½æ•°ä¿®æ”¹äº†å¯¹è±¡ï¼ŒJSON.stringify æ–¹æ³•é€’å½’å¤„ç†ä¿®æ”¹åçš„å¯¹è±¡</span></code></pre>
<p>å¦‚æœå¤„ç†å‡½æ•°è¿”å›undefinedæˆ–æ²¡æœ‰è¿”å›å€¼ï¼Œè¯¥å±æ€§ä¼šè¢«å¿½ç•¥ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> undefined<span class="token punctuation">;</span>ã€€
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> a<span class="token punctuation">:</span><span class="token string">"abc"</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span><span class="token number">123</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// '{"b":123}'</span></code></pre>
<ul>
<li>JSON.stringifyè¿˜å¯ä»¥æ¥å—ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œç”¨äºå¢åŠ è¿”å›çš„JSONå­—ç¬¦ä¸²å¯è¯»æ€§ã€‚</li>
<li>å¦‚æœæ˜¯æ•°å­—ï¼Œè¡¨ç¤ºæ¯ä¸ªå±æ€§å‰é¢æ·»åŠ çš„ç©ºæ ¼ï¼›</li>
<li>å¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™è¯¥å­—ç¬¦ä¸²ä¼šæ·»åŠ åœ¨æ¯è¡Œå‰é¢ã€‚</li>
</ul>
<pre class=" language-javascript"><code class="language-javascript">JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> p1<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span><span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// "{</span>
<span class="token comment" spellcheck="true">//        "p1": 1,</span>
<span class="token comment" spellcheck="true">//        "p2": 2</span>
<span class="token comment" spellcheck="true">// }"</span>

JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> p1<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> p2<span class="token punctuation">:</span><span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">"|---"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// "{</span>
<span class="token comment" spellcheck="true">// |---"p1": 1,</span>
<span class="token comment" spellcheck="true">// |---"p2": 2</span>
<span class="token comment" spellcheck="true">// }"</span></code></pre>
<p>å¦‚æœJSON.stringifyæ–¹æ³•å¤„ç†çš„å¯¹è±¡ï¼ŒåŒ…å«ä¸€ä¸ªtoJSONæ–¹æ³•ï¼Œåˆ™å®ƒä¼šä½¿ç”¨è¿™ä¸ªæ–¹æ³•å¾—åˆ°ä¸€ä¸ªå€¼ï¼Œç„¶åå†å°†è¿™ä¸ªå€¼è½¬æˆå­—ç¬¦ä¸²ï¼Œè€Œå¿½ç•¥å…¶ä»–æˆå‘˜ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span>
    toJSON<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"b"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span> j<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">// "{"x":"b"}"</span></code></pre>
<p>ç²¾ç¡®æ§åˆ¶åºåˆ—åŒ–ï¼Œå¯ä»¥ç»™å¯¹è±¡å®šä¹‰ä¸€ä¸ªtoJSON()æ–¹æ³•ï¼Œç›´æ¥è¿”å›JSONåº”è¯¥åºåˆ—åŒ–çš„æ•°æ®ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> j <span class="token operator">=</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span>
    b<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    toJSON<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span> 
            <span class="token string">"A"</span><span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">,</span>
            <span class="token string">"B"</span><span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// "{"A":"a","B":1}"</span></code></pre>
<p>Dateå¯¹è±¡éƒ¨ç½²äº†è‡ªå·±çš„toJSONæ–¹æ³•ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//  ""2016-10-13T04:13:56.218Z""</span></code></pre>
<p>toJSONæ–¹æ³•çš„ä¸€ä¸ªåº”ç”¨æ˜¯ï¼Œå°†æ­£åˆ™å¯¹è±¡è½¬ä¸ºå­—ç¬¦ä¸²ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">RegExp<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toJSON <span class="token operator">=</span> RegExp<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
JSON<span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token regex">/foo/</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "/foo/"</span></code></pre>
<p>ååºåˆ—åŒ–ï¼šJSON.parse()æ–¹æ³•å°†JSONå­—ç¬¦ä¸²è½¬åŒ–æˆJavaScriptå¯¹è±¡ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{}'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// {}</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'"f"'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// "f"</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'true'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// true</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'[1, 5, "false"]'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// [1, 5, "false"]</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'null'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// null</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'[1,2,3,true]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// [1, 2, 3, true]</span>
JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{"a":"a","b":1}'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Object {a: "a", b: 1}</span></code></pre>
<p>JSON.parse()è¿˜å¯ä»¥æ¥æ”¶ä¸€ä¸ªå‡½æ•°ï¼š</p>
<pre class=" language-javascript"><code class="language-javascript">JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{"a":"1","b":1}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">'a'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">"2"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// Object {a: "2", b:1} </span></code></pre>
<pre class=" language-javascript"><code class="language-javascript"><span class="token keyword">var</span> o <span class="token operator">=</span> JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{"a":1,"b":2}'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> key <span class="token operator">===</span> <span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> key <span class="token operator">===</span> <span class="token string">"a"</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> value <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
o<span class="token punctuation">.</span>a <span class="token comment" spellcheck="true">// 2</span>
o<span class="token punctuation">.</span>b <span class="token comment" spellcheck="true">// undefined</span></code></pre>
<p>å¦‚æœä¼ å…¥çš„å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆçš„JSONæ ¼å¼ï¼ŒJSON.parseæ–¹æ³•å°†æŠ¥é”™ã€‚</p>
<pre class=" language-javascript"><code class="language-javascript">JSON<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">"'String'"</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// SyntaxError: Unexpected token ILLEGAL</span></code></pre>
<p>ä¸ºäº†å¤„ç†è§£æé”™è¯¯ï¼Œå¯å°†JSON.parseæ–¹æ³•æ”¾åœ¨tryâ€¦catchä»£ç å—ä¸­ã€‚</p>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


        <footer>
             
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

        </footer>
    </div>
    <!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
    <script>
        var timeEnd = new Date();
        console.log('è€—æ—¶ï¼š' + (timeEnd - timeStart));
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre').forEach((block) => {
                block.classList.add("line-numbers");
            });
        });
    </script>
    <!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
    <!-- material design -->
    <!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
    <!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
    <!-- toc -->
    <!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
    <!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
    <!-- <script src="/js/main.js"></script> -->
    <script src="/js/prism.js"></script>
</body>
</html>

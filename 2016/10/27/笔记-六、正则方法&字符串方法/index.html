	<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>[笔记]-六、正则方法&amp;字符串方法 | 一切都沉淀为笔记</title>
  <meta name="author" content="Huangzhike">
  
  <meta name="description" content="RegExp实例方法：
RegExp对象的主要方法是 exec()，该方法是专门为捕获组而设计的。exec()接受字符串参数，返回包含第一个匹配信息的数组；或在没有匹配项的情况下返回null。返回的数组是Array的实例，但包含两个额外的属性：index和input。其中index表示匹配项在字符串">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="[笔记]-六、正则方法&amp;字符串方法"/>
  <meta property="og:site_name" content="一切都沉淀为笔记"/>

  
  
		<!-- favicon -->
		<link rel="icon" type="image/ico" href="/favicon.ico" sizes="32x32">
		<link rel="manifest" href="/manifest.json">
		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.ico">
		<meta name="theme-color" content="#009688">
		<!-- favicon end -->
    <!-- <link href="//favicon.ico" rel="icon"> -->
  

  <!-- toc -->
  <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css">

  <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
  <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">

  <!-- material design -->
	<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
  <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css">
  <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
	<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css">

  <link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">

  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">

  

  

  <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>
	<script>window.jQuery || document.write('<script src="/libs/jquery-2.0.3.min.js" type="text/javascript"><\/script>')</script>

</head>

 	<body>
	  <nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">菜单</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">一切都沉淀为笔记</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav navbar-right">
                
                <li>
                    <a href="/" title="">
                    <i class="fa fa-home"></i>首页
                    </a>
                </li>
                
                <li>
                    <a href="/archives" title="">
                    <i class="fa fa-list"></i>存档
                    </a>
                </li>
                
                <li>
                    <a href="/resume" title="我的主页">
                    <i class="fa fa-github"></i>GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</nav>

	  <div class="container" >
	    <div class="row">
	
	<div class="col-md-9 center-content">
	

		<div class="content">
			<!-- index -->
		   

			  		<h2>[笔记]-六、正则方法&amp;字符串方法</h2>
					
					<div>
						<span class="post-time">2016-10-27 12:11</span>
					</div>	
					

					<div class="article-content">
						<p>RegExp实例方法：</p>
<p>RegExp对象的主要方法是 exec()，该方法是专门为捕获组而设计的。<br>exec()接受字符串参数，返回包含第一个匹配信息的数组；或在没有匹配项的情况下返回null。<br>返回的数组是Array的实例，但包含两个额外的属性：index和input。<br>其中index表示匹配项在字符串中的位置，input表示应用正则表达式的字符串。<br>在数组中，第一项是与整个模式匹配的字符串，其他项是与模式中的捕获组匹配的字符串（如果模式中没有捕获组，则该数组只有一项）。<br>对于 exec()方法，即使设置了全局标志，每次也只会返回一个匹配项。<br>在不设置全局标志的情况下，在同一个字符串上多次 exec()将始终返回第一个匹配项的信息。<br>而在设置全局标志的情况下，每次调用 exec()则都会在字符串中继续查找新匹配项。</p>
<p>正则表达式的第二个方法是 test()，它接受一个字符串参数。匹配返回布尔值true，否则返回false。<br>因此，test()方法经常被用在if语句中，经常出现在验证用户输入的情况下。</p>
<p>exec方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var s = &quot;_x_x&quot;;</div><div class="line">var r1 = /x/;</div><div class="line">var r2 = /y/;</div><div class="line"></div><div class="line">r1.exec(s) // [&quot;x&quot;]</div><div class="line">r2.exec(s) // null</div></pre></td></tr></table></figure></p>
<p>如果匹配成功，exec方法返回一个数组，里面是匹配结果。如果匹配失败，返回null。</p>
<p>如果正则表示式包含 ()，则返回的数组会包括多个元素。<br>其中，第一个元素是整个匹配成功的结果，后面的元素就是圆括号对应的匹配成功的组，也就是说第二个元素就对应第一个括号，第三个元素对应第二个括号，以此类推。<br>整个返回数组的length属性等于匹配成功的组数+1。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var s = &quot;_x_x&quot;;</div><div class="line">var r = /_(x)/;</div><div class="line"></div><div class="line">r.exec(s) // [&quot;_x&quot;, &quot;x&quot;] 第一个元素是整个匹配的结果，第二个元素是圆括号匹配的结果。</div></pre></td></tr></table></figure></p>
<p>exec方法的返回数组包含以下两个属性：<br>input：全部字符串。<br>index：匹配成功的开始位置。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var r = /a(b+)a/;</div><div class="line">regex.exec(&quot;_abbba_aba_&quot;);</div><div class="line"></div><div class="line">arr // [&quot;abbba&quot;, &quot;bbb&quot;]</div><div class="line">arr.index // 1</div><div class="line">arr.input // &quot;_abbba_aba_&quot;</div></pre></td></tr></table></figure></p>
<p>如果正则表达式加上g修饰符，则可以使用多次exec方法，从上一次匹配成功结束的位置开始。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">var r = /a(b+)a/g;</div><div class="line">var a1 = r.exec(&quot;_abbba_aba_&quot;);</div><div class="line">a1 // [&quot;abbba&quot;, &quot;bbb&quot;]</div><div class="line">a1.index // 1</div><div class="line">r.lastIndex // 6</div></pre></td></tr></table></figure></p>
<p>lastIndex：下次开始匹配位置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var a2 = r.exec(&quot;_abbba_aba_&quot;);</div><div class="line">a2 // [&quot;aba&quot;, &quot;b&quot;]</div><div class="line">a2.index // 7</div><div class="line">r.lastIndex // 10</div><div class="line"></div><div class="line">var a3 = r.exec(&quot;_abbba_aba_&quot;);</div><div class="line">a3 // null</div><div class="line">a3.index // TypeError: Cannot read property &quot;index&quot; of null</div><div class="line">r.lastIndex // 0</div><div class="line"></div><div class="line">var a4 = r.exec(&quot;_abbba_aba_&quot;);</div><div class="line">a4 // [&quot;abbba&quot;, &quot;bbb&quot;]</div><div class="line">a4.index // 1</div><div class="line">r.lastIndex // 6</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">var r = /a(b+)a/g;</div><div class="line">var s = &quot;_abbba_aba_&quot;;</div><div class="line">while(true) &#123;</div><div class="line">    var match = r.exec(s);</div><div class="line">    if (!match) break;</div><div class="line">    console.log(match[1]);</div><div class="line">&#125;</div><div class="line">// bbb</div><div class="line">// b</div></pre></td></tr></table></figure>
<p>如果正则对象是一个空字符串，则exec方法会匹配成功，但返回的也是空字符串。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">var r1 = new RegExp(&quot;&quot;);</div><div class="line">var a1 = r1.exec(&quot;abc&quot;);</div><div class="line">a1 // [&quot;&quot;]</div><div class="line">a1.index // 0</div><div class="line">r1.lastIndex // 0 </div><div class="line"></div><div class="line">var r2 = new RegExp(&quot;()&quot;);</div><div class="line">var a2 = r2.exec(&quot;abc&quot;);</div><div class="line">a2 // [&quot;&quot;, &quot;&quot;]</div><div class="line">a2.index // 0</div><div class="line">r2.lastIndex // 0</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">var r = /[a-zA-Z_][a-zA-Z0-9_]*/;</div><div class="line">r.test(&quot;_m_&quot;); // true</div><div class="line">r.test(&quot;02331&quot;); // false</div></pre></td></tr></table></figure>
<p>test 方法测试是否有匹配的部分，不一定整个串都匹配。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">r.test(&quot;0871_hello_world&quot;);//true</div><div class="line">r.test(&quot;@main&quot;);//true</div></pre></td></tr></table></figure></p>
<p>修改：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var r = /^[a-zA-Z_][a-zA-Z0-9_]*$/;</div></pre></td></tr></table></figure></p>
<p>如果正则表达式带有g修饰符，每一次test方法都从上一次结束的位置开始向后匹配。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var r = /x/g;</div><div class="line">var s = &quot;_x_x&quot;;</div><div class="line">r.lastIndex // 0</div><div class="line">r.test(s) // true</div><div class="line">r.lastIndex // 2</div><div class="line">r.test(s) // true</div><div class="line">r.lastIndex // 4</div><div class="line">r.test(s) // false</div></pre></td></tr></table></figure></p>
<p>如果正则模式是一个空字符串，则匹配所有字符串。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">new RegExp(&quot;&quot;).test(&quot;abc&quot;) // true</div></pre></td></tr></table></figure></p>
<p>字符串方法返回值有三类：<br>返回数字类型：indexOf，lastIndexOf，search , charCodeAt<br>返回数组的方法：split，match<br>返回字符串的方法：charAt，substring，substr, slice, replace</p>
<p>match 返回匹配数组<br>replace 替换<br>split 分割<br>search 查找，返回首次发现的位置</p>
<p>search方法<br>返回第一个满足条件的匹配结果在整个字符串中的位置。如果没有任何匹配，则返回-1。该方法忽略g修饰符。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">var str = &quot;abcde&quot;;</div><div class="line">str.indexOf(&quot;cd&quot;) // 2</div><div class="line">str.search(&quot;cd&quot;) // 2</div><div class="line">str.search(/cd/) // 2</div></pre></td></tr></table></figure></p>
<p>字符串的match方法与正则对象的exec方法非常类似：匹配成功返回一个数组，匹配失败返回null。<br>如果正则表达式带有g修饰符，则该方法与正则对象的exec方法行为不同，会返回所有匹配成功的结果。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&quot;_x_x&quot;.match(/x/) // [&quot;x&quot;]</div><div class="line">&quot;_x_x&quot;.match(/y/) // null</div><div class="line"></div><div class="line">var s = &quot;abba&quot;;</div><div class="line">var r = /a/g;</div><div class="line">s.match(r) // [&quot;a&quot;, &quot;a&quot;]</div><div class="line">r.exec(s) // [&quot;a&quot;]</div><div class="line"></div><div class="line">var str = &quot;abbcccbbbbbddbbbdabbbsbb&quot;;</div><div class="line">str.match(/b+/g) //  [&quot;bb&quot;, &quot;bbbbb&quot;, &quot;bbb&quot;, &quot;bbb&quot;, &quot;bb&quot;]</div><div class="line">str.match(&quot;bb&quot;) // [&quot;bb&quot;, index: 1, input: &quot;abbcccbbbbbddbbbdabbbsbb&quot;]</div><div class="line"></div><div class="line"> &quot;I love this world like a shit.&quot;.match(/love|a/g); // [&quot;love&quot;, &quot;a&quot;]</div><div class="line"></div><div class="line">// 切割单词</div><div class="line"></div><div class="line">var str = &quot;how old are   you|abc&quot;;</div><div class="line">str.match(/\b[a-zA-Z]+\b/g);  // [&quot;how&quot;, &quot;old&quot;, &quot;are&quot;, &quot;you&quot;, &quot;abc&quot;]</div></pre></td></tr></table></figure></p>
<p>split方法<br>返回一个由分割后的各个部分组成的数组。<br>该方法接受两个参数，第一个参数是分隔规则，第二个参数是返回数组的最大成员数。</p>
<p>使用正则表达式，去除字符串的逗号前面的空格。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&quot;a,  b,c, d&quot;.split(&quot;,&quot;); // [ &quot;a&quot;, &quot;  b&quot;, &quot;c&quot;, &quot; d&quot; ]</div><div class="line">&quot;a,  b,c, d&quot;.split(/, */); // [ &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot; ]</div><div class="line">&quot;a,  b,c, d&quot;.split(/, */, 2); // [ &quot;a&quot;, &quot;b&quot; ]</div></pre></td></tr></table></figure></p>
<p>切分字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&quot;a b   c&quot;.split(&quot; &quot;); // [&quot;a&quot;, &quot;b&quot;, &quot;&quot;, &quot;&quot;, &quot;c&quot;] 空格是分隔符，b c 间有三个分隔符，三个分隔符间有两个“”</div><div class="line">&quot;a b   c&quot;.split(/\s+/); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;] </div><div class="line">&quot;a,b, c  d&quot;.split(/[\s\,]+/); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;] </div><div class="line">&quot;a,b;; c  d&quot;.split(/[\s\,\;]+/); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&quot;aaa*a*&quot;.split(/a*/) // [ &quot;&quot;, &quot;*&quot;, &quot;*&quot; ]</div><div class="line">&quot;aaa**a*&quot;.split(/a*/) // [&quot;&quot;, &quot;*&quot;, &quot;*&quot;, &quot;*&quot;]</div></pre></td></tr></table></figure>
<p>分割规则是出现0次或多次的a，所以第一个分隔符是“aaa”，第二个分割符是“a”，将整个字符串分成三个部分。<br>出现0次的a，意味着只要没有a就可以分割，实际上就是按字符分割。</p>
<p>如果正则表达式带有括号，则括号匹配的部分也会作为数组成员返回。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&quot;aaa*a*&quot;.split(/(a*)/) // [ &quot;&quot;, &quot;aaa&quot;, &quot;*&quot;, &quot;a&quot;, &quot;*&quot; ]</div></pre></td></tr></table></figure></p>
<p>另一个组匹配的例子。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&quot;a,  b  ,  &quot;.split(/(,)/) // [&quot;a&quot;, &quot;,&quot;, &quot;  b  &quot;, &quot;,&quot;, &quot;  &quot;]</div><div class="line">&quot;a,  b  ,  &quot;.split(/ *(,) */) // [&quot;a&quot;, &quot;,&quot;, &quot;b&quot;, &quot;,&quot;, &quot;&quot;]</div><div class="line">&quot;a   b  c&quot;.split(&quot;&quot;); // [&quot;a&quot;, &quot; &quot;, &quot; &quot;, &quot; &quot;, &quot;b&quot;, &quot; &quot;, &quot; &quot;, &quot;c&quot;]</div><div class="line">&quot;a   b  c&quot;.split(/\s+/); // [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</div></pre></td></tr></table></figure></p>
<p>replace 方法不影响原始字符串，而将新的串作为返回值。</p>
<p>不加g修饰符，替换第一个匹配成功的值，否则替换所有匹配成功的值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&quot;aaa&quot;.replace(&quot;a&quot;, &quot;b&quot;) // &quot;baa&quot;</div><div class="line">&quot;aaa&quot;.replace(/a/, &quot;b&quot;) // &quot;baa&quot;</div><div class="line">&quot;aaa&quot;.replace(/a/g, &quot;b&quot;) // &quot;bbb&quot;</div></pre></td></tr></table></figure></p>
<p>replace方法可以消除字符串首尾两端的空格</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&quot;  aaa aa aa  &quot;.replace(/^\s+|\s+$/g, &quot;&quot;) // &quot;aaa aa aa&quot;</div><div class="line">&quot;  aaa aa aa  &quot;.replace(/^\s\s*/,&quot;&quot;).replace(/\s\s*$/,&quot;&quot;) // &quot;aaa aa aa&quot;</div></pre></td></tr></table></figure>
<p>replace方法的第二个参数可以使用美元符号$，指代所替换的内容。<br>    $&amp; 指代匹配的子字符串。<br>    $` 指代匹配结果前面的文本。<br>    $’ 指代匹配结果后面的文本。<br>    $n 指代匹配成功的第n组内容，n是从1的自然数。<br>      $$ 指代美元符号$。</p>
<p>如果在替换过程中，需要对匹配的组引用（\1,\2 ），可以通过$n 来对第 n 个分组进行引用。<br>在替换的过程中，将 Welcome 和 John 调换顺序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&quot;John, Welcome&quot;.replace(/(\w+),\s(\w+)/g, &quot;$2, $1&quot;); // &quot;Welcome, John&quot;</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&quot;abc&quot;.replace(&quot;b&quot;, &quot;[$`-$&amp;-$&apos;]&quot;) // &quot;a[a-b-c]c&quot;</div></pre></td></tr></table></figure>
<p>replace方法的第二个参数还可以是一个函数，将匹配内容替换为函数返回值。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&quot;3 and 5&quot;.replace(/[0-9]+/g, function(match)&#123;</div><div class="line">  return 2 * match; &#125;)</div><div class="line">// &quot;6 and 10&quot;</div><div class="line"></div><div class="line">var a = &quot;The quick brown fox jumped over the lazy dog.&quot;;</div><div class="line">var pattern = /quick|brown|lazy/ig;</div><div class="line">a.replace( pattern, function replacer(match)&#123;</div><div class="line">  return match.toUpperCase();</div><div class="line">&#125; );</div><div class="line">// The QUICK BROWN fox jumped over the LAZY dog.</div></pre></td></tr></table></figure></p>
<p>replace方法第二个参数的替换函数，可以接受多个参数。<br>第一个参数是捕捉到的内容，第二个参数是捕捉到的组匹配（有多少个组匹配，就有多少个对应的参数）。<br>此外，最后还可以添加两个参数，倒数第二个参数是捕捉到的内容在整个字符串中的位置（比如从第五个位置开始），最后一个参数是原字符串。<br>下面是一个网页模板替换的例子。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var prices = &#123;</div><div class="line">  &quot;pr_1&quot;: &quot;$1.99&quot;,</div><div class="line">  &quot;pr_2&quot;: &quot;$9.99&quot;,</div><div class="line">  &quot;pr_3&quot;: &quot;$5.00&quot;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">var template = &quot;..&quot;; // some ecommerce page template</div><div class="line"></div><div class="line">template.replace(</div><div class="line">    /(&lt;span id=&quot;)(.*?)(&quot;&gt;)(&lt;\/span&gt;)/g,</div><div class="line">    function(match,$1,$2,$3,$4)&#123;</div><div class="line">        return $1 + $2 + $3 + prices[$2] + $4;</div><div class="line">    &#125;</div><div class="line">);</div></pre></td></tr></table></figure></p>
<p>上面代码的捕捉模式中，有四个括号，产生四个组匹配，在匹配函数中用$1到$4表示。匹配函数的作用是将价格插入模板中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&quot;use strict&quot;;</div><div class="line"></div><div class="line">var re = /^$/;</div><div class="line"></div><div class="line">// 测试:</div><div class="line">var</div><div class="line">    i,</div><div class="line">    success = true,</div><div class="line">    should_pass = [&quot;someone@gmail.com&quot;, &quot;bill.gates@microsoft.com&quot;, &quot;tom@voyager.org&quot;, &quot;bob2015@163.com&quot;],</div><div class="line">    should_fail = [&quot;test#gmail.com&quot;, &quot;bill@microsoft&quot;, &quot;bill%gates@ms.com&quot;, &quot;@voyager.org&quot;];</div><div class="line">for (i = 0; i &lt; should_pass.length; i++) &#123;</div><div class="line">    if (!re.test(should_pass[i])) &#123;</div><div class="line">        alert(&quot;测试失败: &quot; + should_pass[i]);</div><div class="line">        success = false;</div><div class="line">        break;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">for (i = 0; i &lt; should_fail.length; i++) &#123;</div><div class="line">    if (re.test(should_fail[i])) &#123;</div><div class="line">        alert(&quot;测试失败: &quot; + should_fail[i]);</div><div class="line">        success = false;</div><div class="line">        break;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">if (success) &#123;</div><div class="line">    alert(&quot;测试通过!&quot;);</div><div class="line">&#125;</div><div class="line">// 版本二可以验证并提取出带名字的Email地址：</div><div class="line"></div><div class="line">&quot;use strict&quot;;</div><div class="line"></div><div class="line">var re = /^$/;</div><div class="line"></div><div class="line">// 测试:</div><div class="line">var r = re.exec(&quot;&lt;Tom Paris&gt; tom@voyager.org&quot;);</div><div class="line">if (r === null || r.toString() !== [&quot;&lt;Tom Paris&gt; tom@voyager.org&quot;, &quot;Tom Paris&quot;, &quot;tom@voyager.org&quot;].toString()) &#123;</div><div class="line">    alert(&quot;测试失败!&quot;);</div><div class="line">&#125;</div><div class="line">else &#123;</div><div class="line">    alert(&quot;测试成功!&quot;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>写一个少于 80 字符的函数，判断一个字符串是不是回文字符串<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function isPalindrome(str) &#123;</div><div class="line">    str = str.replace(/\W/g, &quot;&quot;).toLowerCase();</div><div class="line">    return (str == str.split(&quot;&quot;).reverse().join(&quot;&quot;));</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

					</div>

			  <!-- about -->
			  
		</div>

		<!-- pagination -->
	  

		<div class="comment-section">
  
  


</div>
	</div>

	

</div>


		<footer>
			

<p>
  Powered by <a href="https://hexo.io">Hexo</a>  | with <a href="https://github.com/wayou/hexo-theme-material">Material</a> theme
</p>
<p>
  &copy; 2016 <a href="http://huangzhike.github.io"> Huangzhike </a>
</p>
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	  </div>

		<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script>
		<script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>

		<!-- material design -->
		<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script>
		<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>
		<!-- toc -->
		<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
		<script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
		<script src="/libs/tocify/jquery.tocify.custom.js"></script>

		<script src="/js/main.js"></script>

	</body>
</html>

<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <script>
            var timeStart = new Date();
        </script>
        
        <title>[ç¬”è®°]-This | ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜</title>
        
        <meta name="author" content="huangzhike">
        
        
        <meta name="description" content="2017-01-20æ›´æ–°
2019-11-28ï¼šæ•´ç†ç¬”è®°æ—¶åˆå¹¶æˆäº†ä¸€ç¯‡ï¼Œå¯èƒ½ä¼šæ¯”è¾ƒé•¿ã€‚

å…¨å±€ç¯å¢ƒä½¿ç”¨thisï¼ŒæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œwindowã€‚
this === window // true
å¦‚æœä½¿ç”¨evalï¼ŒæŒ‡å‘the scope of the callerã€‚
function Foo() {
  ">
        
        
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        
        <meta property="og:title" content="[ç¬”è®°]-This"/>
        
        <meta property="og:site_name" content="ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒ•ğŸŒ–ğŸŒ—ğŸŒ˜"/>
        
        
        <!-- favicon -->
        <link rel="icon" type="image/ico" href="/ok.ico" sizes="32x32">
        <meta name="msapplication-TileColor" content="#009688">
        <meta name="msapplication-TileImage" content="/mstile-144x144.ico">
        <meta name="theme-color" content="#009688">
        <!-- favicon end -->
        <!-- <link href="//ok.ico" rel="icon"> -->
        
        <!-- toc -->
        <!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
        <!-- material design -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
        <!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
        <!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
        <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
        <link rel="stylesheet" href="/css/prism.css" media="screen" type="text/css">
        
        <!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
        <!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
    <meta name="generator" content="Hexo 4.2.1"></head>

<body>
    <nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">èœå•</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" title="ä¸‹ä¸€å¥æ˜¯ï¼šå®¢æœ‰å¯äººæœŸä¸æ¥ã€‚å°æ—¶å€™ï¼Œå–œæ¬¢é åœ¨é˜³å°ä¸Šï¼Œä¸€è¾¹å¹é£ï¼Œä¸€è¾¹çœ‹ä¹¦ï¼Œå–œæ¬¢è¯»ä¹¦å—ï¼Œéªšå¹´ï¼Ÿ" href="/">ä¹¦å½“å¿«æ„è¯»æ˜“å°½</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>Archives
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" target="_blank" rel="noopener" title="">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

    <div class="container" >
        <div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[ç¬”è®°]-This</h2>
				
				<div>
					<div class="post-time">2016-10-29</div>
				</div>
				
				<div class="article-content">
				<p><strong>2017-01-20æ›´æ–°</strong></p>
<p><strong>2019-11-28</strong>ï¼šæ•´ç†ç¬”è®°æ—¶åˆå¹¶æˆäº†ä¸€ç¯‡ï¼Œå¯èƒ½ä¼šæ¯”è¾ƒé•¿ã€‚</p>
<hr>
<p>å…¨å±€ç¯å¢ƒä½¿ç”¨thisï¼ŒæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œwindowã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">this === window // true</code></pre>
<p>å¦‚æœä½¿ç”¨evalï¼ŒæŒ‡å‘the scope of the callerã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function Foo() {
    this.foo = "foo";
}
Foo.prototype.logFoo = function () {
    eval("console.log(this.foo)");
    // ç­‰äº
    console.log(this.foo);
}

var f= new Foo();
f.logFoo(); // foo</code></pre>
<p>é—´æ¥evalï¼šå…¨å±€å¯¹è±¡æˆ–undefinedï¼ˆå–å†³äºä¸¥æ ¼æ¨¡å¼ï¼‰</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var y = eval;
function x() {
    y("console.log(this)");
}

x();</code></pre>
<ul>
<li>ä¸¥æ ¼æ¨¡å¼ï¼ˆstrict modeï¼‰ä¸­ï¼Œå˜é‡æœªå®šä¹‰å°±æŠ¥é”™ã€‚thisæ˜¯ undefinedã€‚</li>
<li>ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œé‡å¤çš„å˜é‡å£°æ˜å’Œå‚æ•°å£°æ˜ä¼šæŠ¥é”™ã€‚</li>
<li>ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œç»™æœªå£°æ˜çš„å˜é‡èµ‹å€¼ä¸ä¼šè‡ªåŠ¨è½¬åŒ–ä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§ï¼Œè€Œä¼šæŠ¥é”™ã€‚</li>
<li>ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œåœ¨call applyä¸­å°†thisæŒ‡å‘nullæˆ–è€…undefinedä¸ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºå…¨å±€ã€‚</li>
</ul>
<p>å•çº¯çš„å‡½æ•°è°ƒç”¨ï¼šthisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œå³windowã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">this.g = "g";

function nonStrict () {
    return function () {
        console.log(this.g); 
    }
}
nonStrict()(); // "g"

function strict() {
    "use strict"; // Strict Mode
    return function () {
        console.log(this.g); 
    }
}

strict()(); // TypeError: Cannot read property "g" of undefined</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">function g() {
    g.name="g";
    console.log(this.name); // undefinedï¼Œå…¨å±€
    console.log(g.name); //  "g"
};
g();</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">this.g = "g";
function outerFunc() {
    this.i = "i"; // è®¾ç½®å…¨å±€å¯¹è±¡i
    console.log(this); // window
    console.log(this.i === "i"); // true
    return {
        innerFunc: function () {
            this.i = "inner";
            console.log(this); //Object {} innerFunc ï¼ˆthisæŒ‡å‘è¿”å›çš„å¯¹è±¡ï¼‰
            console.log(this.g === undefined); // true
            console.log(this.i === "inner"); // true
        }
    }
}

outerFunc().innerFunc();</code></pre>
<p>æ„é€ å‡½æ•°ï¼šthisæŒ‡å‘æ–°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var F = function(s) {
    this.s = s;
    this.a = function () {
        return this.s;
    }
};

F.prototype.b = function() {
    return this.s;
};

var f = new F("Hello World!");

f.a() // "Hello World!"
f.b() // "Hello World!"</code></pre>
<p>ç›´æ¥è°ƒç”¨Fï¼Œè€Œä¸æ˜¯new F()ï¼Œåªæ˜¯å•çº¯çš„å‡½æ•°è°ƒç”¨ï¼Œthisæ˜¯windowã€‚</p>
<p>å‡½æ•°ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">o.method(); // methodçš„this æŒ‡å‘å¯¹è±¡oã€‚</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">var o = {
    method : function(){
        // thisçš„æŒ‡å‘æ˜¯ä¸ç¡®å®šçš„ï¼Œä¸è¦åœ¨å‡½æ•°ä¸­åŒ…å«å¤šå±‚çš„this
        console.log(this); // æŒ‡å‘è¯¥å¯¹è±¡o
        // å†…éƒ¨å®šä¹‰å‡½æ•°test
        function test() {         
            console.log(this); //  thisé»˜è®¤ä¸ºå…¨å±€å¯¹è±¡ï¼ˆæµè§ˆå™¨ç¯å¢ƒå°±æ˜¯ window å¯¹è±¡ï¼‰
        }
        test();  // thisä¸ä¼šæŒ‡å‘å¯¹è±¡oï¼Œç›´æ¥è°ƒç”¨å‡½æ•°æ—¶ï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡ã€‚
        // å†…éƒ¨è¿”å›å‡½æ•°
        return function() {
            return this; // thisé»˜è®¤ä¸ºå…¨å±€å¯¹è±¡ï¼Œç†ç”±åŒä¸Š
        };
    }
};

o.method = function() {
    var that = this; // ç¼“å­˜å˜é‡æŒ‡å‘å¯¹è±¡oã€‚
    function test() {       
        // thisé»˜è®¤ä¸ºå…¨å±€å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨thatæŒ‡å‘å¯¹è±¡o
    }
    test();
};</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">var obj = {
    foo: "foo",
    func: function() {
        var self = this;
        console.log("outer func: this.foo = " + this.foo); // foo
        console.log("outer func: self.foo = " + self.foo); // foo
        // é—­åŒ…
        (function() {
            console.log("inner func: this.foo = " + this.foo); // undefinedï¼ŒthisæŒ‡å‘å…¨å±€
            console.log("inner func: self.foo = " + self.foo); // foo
        }());
    }
};

obj.func();</code></pre>
<p>å‡½æ•°æ˜¯å¼•ç”¨ç±»å‹ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function say() {
    console.log(this.name);
}

var obj1 = {
    name: "obj1",
    say: say,
    method: function () { 
        console.log(this.name);
    },
    obj2: obj2
};

obj1.say(); // obj1
obj1.method(); // obj1

var obj2 = {
    name:"obj2",
    say: say,
    method: obj1.method
};

obj1.obj2.say(); // obj2
// thiså–å†³äºè¿è¡Œæ—¶æ‰€åœ¨çš„å¯¹è±¡ï¼Œmethodæ˜¯obj1çš„æ–¹æ³•ï¼Œå¼•ç”¨ç±»å‹ï¼Œåœ¨obj2ä¸Šé¢è°ƒç”¨ï¼Œmethodçš„thisæŒ‡å‘obj2
obj2.method(); // obj2 

obj2.method = obj1.method; // ç›®æ ‡çš„å¼•ç”¨ï¼Œè°ƒç”¨å¯¹è±¡æ˜¯obj2è€Œä¸æ˜¯obj1
obj2.method() // obj2
// èµ‹å€¼è¡¨è¾¾å¼çš„è¿”å›å€¼æ˜¯ç›®æ ‡å‡½æ•°çš„å¼•ç”¨ï¼Œè°ƒç”¨ä½ç½®æ˜¯fnè€Œä¸æ˜¯obj1.methodï¼Œthisé»˜è®¤ç»‘å®šå…¨å±€
var fn = obj1.method; 
fn(); //  undefined ï¼ˆthis æŒ‡å‘å…¨å±€å¯¹è±¡ï¼‰

// é»˜è®¤ç»‘å®šæŠŠthisç»‘å®šåˆ°å…¨å±€å¯¹è±¡æˆ–undefinedï¼Œå–å†³äºä¸¥æ ¼æ¨¡å¼
// ä¸æ˜¯è°ƒç”¨ä½ç½®æ˜¯å¦å¤„äºä¸¥æ ¼æ¨¡å¼ï¼Œè€Œæ˜¯å‡½æ•°ä½“æ˜¯å¦å¤„äºä¸¥æ ¼æ¨¡å¼
// å‡½æ•°ä½“å¤„äºä¸¥æ ¼æ¨¡å¼ï¼Œ thisç»‘å®šundefinedï¼Œå¦åˆ™å…¨å±€å¯¹è±¡</code></pre>
<p>thiså–å†³äºè°ƒç”¨ä½ç½®ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function doF(fn) {
    fn(); // è°ƒç”¨ä½ç½®
}

doF(obj1.method); // undefined

// obj1.methodåœ¨å…¨å±€è¢«è°ƒç”¨
setTimeout(obj1.method, 100); // undefined </code></pre>
<p>å¦‚æœä¸æƒ³æ”¹å˜thisæŒ‡å‘ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">obj2.method = obj1.method.bind(obj1); // ç”¨bind ç»‘å®šäº†æ— æ³•æ›´æ”¹
obj2.method(); // obj1 

obj2.method = function () { 
    obj1.method()
};
// è¿™æ—¶æ˜¯åœ¨obj1ä¸‹é¢è¿è¡Œï¼ŒthisæŒ‡å‘obj1
obj2.method() // obj1</code></pre>
<p>å¦‚æœæŸä¸ªæ–¹æ³•ä½äºå¤šå±‚å¯¹è±¡çš„å†…éƒ¨ï¼Œä¸ºäº†ç®€åŒ–ä¹¦å†™ï¼ŒæŠŠè¯¥æ–¹æ³•èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œå¯èƒ½ä¼šå‡ºç°æ„å¤–ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var a = {
    b : {
        m : function() {
            console.log(this.p);
        },
        p : 'Hello'
    }
};

var hello = a.b.m;
// thisæŒ‡å‘å…¨å±€å¯¹è±¡
hello() // undefined

var hello = a.b; // åªå°†mæ‰€åœ¨çš„å¯¹è±¡èµ‹å€¼ç»™helloï¼Œè°ƒç”¨æ—¶ this çš„æŒ‡å‘å°±ä¸ä¼šå˜ã€‚
hello.m() // Hello</code></pre>
<p>JavaScriptå‡½æ•°çš„è¿è¡Œç¯å¢ƒæ˜¯åŠ¨æ€çš„ï¼Œå¯åœ¨è¿è¡Œæ—¶åˆ‡æ¢ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function func() { 
    console.log(this.name); // åŒæ—¶å……å½“aå¯¹è±¡å’Œbå¯¹è±¡çš„æ–¹æ³•
};

var a = {name:"a"};
a.n = func;
a.n() // a

var b = {name:"b"};
b.n = func;
b.n() // b</code></pre>
<p>jQueryæºç æ¡ˆä¾‹</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">jQuery.extend = jQuery.fn.extend = function (){
    var target = this;
} 
// jQuery.extend å’Œ jQuery.fn.extend éƒ½æŒ‡å‘äº†åŒä¸€ä¸ªå‡½æ•°ï¼Œå½“æ‰§è¡Œæ—¶ï¼Œå‡½æ•°ä¸­çš„ thisä¸ä¸€æ ·
// æ‰§è¡Œ jQuery.extend()æ—¶ï¼ŒthisæŒ‡å‘jQueryï¼›æ‰§è¡ŒjQuery.fn.extend()æ—¶ï¼ŒthisæŒ‡å‘jQuery.fn</code></pre>
<p>å¯¹è±¡çš„å­—é¢å£°æ˜è¯­æ³•ä¸­ï¼Œthisä¸èƒ½æŒ‡å‘å¯¹è±¡æœ¬èº«ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var obj = {me: this} // meä¸ä¼šæŒ‡å‘objï¼Œé»˜è®¤ä¸ºå…¨å±€å¯¹è±¡</code></pre>
<p>é¿å…æ•°ç»„å¤„ç†æ–¹æ³•ä¸­çš„thisï¼Œæ•°ç»„çš„mapå’ŒforEachæ–¹æ³•ï¼Œå…è®¸ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚</p>
<p>è¿™ä¸ªå‡½æ•°å†…éƒ¨ä¸åº”ç”¨thisã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var o = {
    v: 'hello',
    p: [ 'a1', 'a2' ],
    f: function f() {
        this.p.forEach(function (item) {
            console.log(this.v+' '+item); // this æŒ‡å‘windowå¯¹è±¡
        });
    }
}

o.f();
// undefined a1
// undefined a2</code></pre>
<p>è§£å†³æ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨ä¸­é—´å˜é‡ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var o = {
    v: 'hello',
    p: [ 'a1', 'a2' ],
    f: function f() {
        var that = this;
        this.p.forEach(function (item) {
            console.log(that.v+' '+item);
        });
    }
}

o.f();
// hello a1
// hello a2</code></pre>
<p>å¦ä¸€ç§æ–¹æ³•æ˜¯å°†thiså½“ä½œforEachæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œå›ºå®šè¿è¡Œç¯å¢ƒã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var o = {
    v: 'hello',
    p: [ 'a1', 'a2' ],
    f: function f() {
        this.p.forEach(function (item) {
            console.log(this.v+' '+item);
        }, this);
    }
}

o.f();
// hello a1
// hello a2
</code></pre>
<p>é¿å…å›è°ƒå‡½æ•°ä¸­çš„thisï¼šå›è°ƒå‡½æ•°ä¸­çš„thiså¾€å¾€ä¼šæ”¹å˜æŒ‡å‘ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">$("#btn").on("click", o.f); // false 
// o.fçš„thisä¸å†æŒ‡å‘å¯¹è±¡oï¼Œè€ŒæŒ‡å‘DOMå¯¹è±¡$("#btn")ï¼Œå› ä¸ºæ˜¯åœ¨$("#btn")çš„ç¯å¢ƒä¸­è¢«è°ƒç”¨</code></pre>
<p>å¯ä»¥ç”¨call, applyå’Œbindå›ºå®šthisã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var getId = function( id ){
    return document.getElementById( id );
};
getId( 'div1' );</code></pre>
<p>ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ä¸‹é¢æ–¹å¼ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var getId = document.getElementById;
getId( 'div1' );</code></pre>
<p>è¿™æ˜¯å› ä¸ºè®¸å¤šå¼•æ“çš„document.getElementByIdæ–¹æ³•çš„å†…éƒ¨å®ç°ä¸­éœ€è¦ç”¨åˆ°thisã€‚</p>
<p>è¿™ä¸ªthisæœ¬æ¥è¢«æœŸæœ›æŒ‡å‘documentï¼Œä½†å½“ç”¨getIdæ¥å¼•ç”¨document.getElementByIdä¹‹åï¼Œå†è°ƒç”¨getIdï¼Œæ­¤æ—¶å°±æˆäº†æ™®é€šå‡½æ•°è°ƒç”¨ï¼Œå‡½æ•°å†…éƒ¨çš„thisæŒ‡å‘äº†windowï¼Œè€Œä¸æ˜¯åŸæ¥çš„documentã€‚</p>
<p>å¯ä»¥å°è¯•åˆ©ç”¨applyæŠŠdocumentå½“ä½œthisä¼ å…¥getIdå‡½æ•°ï¼Œå¸®åŠ©ä¿®æ­£thisï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">document.getElementById = (function( func ){
    return function(){
        return func.apply( document, arguments );
    }
})( document.getElementById );

var getId = document.getElementById;
var div = getId( 'div1' );
alert (div.id); // è¾“å‡ºï¼š div1</code></pre>
<hr>
<p>æ˜¾å¼ç”¨call, applyæˆ–bindå›ºå®šthisï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">func.call(thisObject, arg1, arg2, â€¦ ); // å‚æ•°åˆ—è¡¨ï¼Œarg1ï¼Œarg2ï¼Œ...
func.apply(thisObject, [arg1, arg2, ...])
func.bind(thisObject[, arg1[, arg2[, ...]]])</code></pre>
<p>å¦‚æœcall, applyæˆ–bindæ²¡å‚æ•°ï¼Œæˆ–å‚æ•°ä¸ºnullæˆ–undefinedï¼Œé»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function sum(a,b) {
    console.log(a + b);
}
// applyå±•å¼€æ•°ç»„ï¼Œå¹¶å½“ä½œå‚æ•°ä¼ å…¥å‡½æ•°
sum.apply(null, [2, 3]); // 5 

var curriedSum = sum.bind(null, 2);  // bindæŸ¯é‡ŒåŒ–ï¼Œ nullå ä½
curriedSum(3); // 5</code></pre>
<p>applyåŠcallæ–¹æ³•ï¼š</p>
<p>è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">Math.max(3, 5, 4);
Math.max.apply(null, [3, 5, 4]); // 5
Math.max.call(null, 3, 5, 4); // 5
var a = [1, 2, 3, 4];
Math.max.apply(null, a) // 4</code></pre>
<p>å°†æ•°ç»„ç©ºå…ƒç´ å˜ä¸ºundefinedã€‚æ•°ç»„çš„forEachæ–¹æ³•ä¼šè·³è¿‡ç©ºå…ƒç´ ï¼Œä½†ä¸ä¼šè·³è¿‡undefinedã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">Array.apply(null, ["a",,"b"]) // [ "a", undefined, "b" ]</code></pre>
<p>åˆ©ç”¨æ•°ç»„å¯¹è±¡çš„sliceæ–¹æ³•ï¼Œå°†ç±»æ•°ç»„å¯¹è±¡ï¼ˆå¦‚argumentså¯¹è±¡ï¼‰è½¬ä¸ºæ•°ç»„ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">Array.prototype.slice.apply({0:1,length:1}) // [1] 
Array.prototype.slice.apply({0:1}) // []  ï¼ˆè¢«å¤„ç†çš„å¯¹è±¡å¿…é¡»æœ‰lengthå±æ€§ï¼Œä»¥åŠå¯¹åº”çš„æ•°å­—é”®ï¼‰
Array.prototype.slice.apply({0:1,length:2}) // [1, undefined]
Array.prototype.slice.apply({length:1}) // [undefined]</code></pre>
<p>å¦‚æœä»å‡½æ•°å†…éƒ¨å¼•ç”¨è‡ªèº«ï¼Œåªç”¨thisæ˜¯ä¸å¤Ÿçš„ã€‚ä¸€èˆ¬éœ€è¦é€šè¿‡æŒ‡å‘å‡½æ•°çš„è¯æ³•æ ‡è¯†ç¬¦ï¼ˆå˜é‡ï¼‰æ¥å¼•ç”¨å®ƒã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo() {
    foo.count = 4; // fooæŒ‡å‘è‡ªèº«
}
setTimeout( function(){
    // åŒ¿åå‡½æ•°æ— æ³•æŒ‡å‘è‡ªèº«
}, 1000 );
</code></pre>
<p>è®°å½•å‡½æ•°fooè°ƒç”¨æ¬¡æ•°ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo(num) {
    console.log("foo: " + num);
    this.count++;
}
foo.count = 0;
for (var i =0; i<3; i++) {
    foo(i);
}
// foo: 0
// foo: 1
// foo: 2
foo.count; // 0 </code></pre>
<p>ä¿®æ”¹ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo(num) {
    console.log("foo: " + num);
    foo.count++; // æŒ‡ä»£è‡ªèº«
}
foo.count = 0
for (var i =0; i<3; i++) {
    foo(i);
}

foo.count; // 3</code></pre>
<p>ä¿®æ”¹äºŒï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo(num) {
    console.log("foo: " + num);
    this.count++;
}
foo.count = 0;
for (var i =0; i<3; i++) {
    foo.call(foo, i); // ä½¿ç”¨call
}

foo.count; // 3</code></pre>
<p>ç»‘å®šå›è°ƒå‡½æ•°çš„å¯¹è±¡</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">animate(oDiv, {"left": 500}, 1000, function() {
    this.style.backgroundColor = "red"; // å›è°ƒä¸­thisä¸æ˜¯oDiv
});</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">$("#btn").click = obj.handler; // handlerä¸­thisä¸ç»‘å®šobjï¼Œç»‘å®š$("#btn")

var f = function () {
    obj.handler.apply(obj); // æˆ–obj.handler.call(obj);
    // applyæˆ–callä¸ä»…ç»‘å®šthisï¼Œè¿˜ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ï¼Œå¾—æŠŠç»‘å®šè¯­å¥å†™åœ¨å‡½æ•°ä½“å†…ã€‚
};

$("#btn").on("click", f);</code></pre>
<p>è§£å†³å›è°ƒç»‘å®šæ›´ç®€æ´å†™æ³•æ˜¯bindæ–¹æ³•ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var obj1 = {
    name: "obj1",
    method: function () {
        console.log(this.name);
    },
    add: function(x, y) {
        console.log(x + y);
    }
};

var  obj2 = {
    name: "obj2"
};

obj1.method(); // obj1

var r = obj1.method;
r(); // thisé»˜è®¤ç»‘å®šä¸ºå…¨å±€
var r = obj1.method.bind(obj1);
r(); // obj1

var add=obj1.add.bind(null, 99);
add(1); // 100ï¼Œbindé™¤äº†ç»‘å®šthiså¤–ï¼Œè¿˜å¯ä»¥ç»‘å®šåŸå‡½æ•°çš„å‚æ•°ã€‚callå’Œapplyä¸èƒ½</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">obj1.method.call(obj2, 24);
obj1.method.apply(obj2, [24]);
obj1.method.bind(obj2, 24)(); // bindæ–¹æ³•è¿”å›ä¸€ä¸ªç»‘å®šä¸Šä¸‹æ–‡çš„æ–°å‡½æ•°ï¼Œè€Œcallã€applyæ–¹æ³•ç›´æ¥æ‰§è¡Œäº†å‡½æ•°
obj1.method.bind(obj2)(24);
obj1.method.bind(obj2)([24]); // bindæ–¹æ³•ä¼ é€’å‚æ•°å¯ä»¥é€ä¸ªåˆ—å‡ºï¼Œä¹Ÿå¯ä»¥å†™åœ¨æ•°ç»„ä¸­ã€‚</code></pre>
<p>bindæ–¹æ³•æ¯è¿è¡Œä¸€æ¬¡å°±è¿”å›ä¸€ä¸ªæ–°å‡½æ•°</p>
<p>ç›‘å¬äº‹ä»¶é”™è¯¯å†™æ³•ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">element.addEventListener("click", o.m.bind(o));
element.removeEventListener("click", o.m.bind(o)); // clickäº‹ä»¶ç»‘å®šbindç”Ÿæˆçš„åŒ¿åå‡½æ•°ï¼Œæ— æ³•å–æ¶ˆç›‘å¬ã€‚</code></pre>
<p>æ­£ç¡®å†™æ³•ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var listener = o.m.bind(o);
element.addEventListener("click", listener);
element.removeEventListener("click", listener);</code></pre>
<p>ä¸æ”¯æŒbindæ–¹æ³•çš„è€å¼æµè§ˆå™¨ï¼Œè‡ªå®šä¹‰bindæ–¹æ³•ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">if(!("bind" in Function.prototype)) {
    Function.prototype.bind = function() {
        var fn = this;
        args = Array.prototype.slice.call(arguments), 
        context = args.shift();    
        return function() {
            return fn.apply(context, args.concat([].slice.call(arguments)));
        }
    }
}</code></pre>
<p>æˆ–</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function bind(fn, context) {
    var args = [].slice.call(arguments, 2);
    return function () {
        return fn.apply(context, args.concat([].slice.call(arguments)));
    }
}</code></pre>
<p>ä½¿ç”¨$.proxyæ–¹æ³•ç»‘å®šå‡½æ•°è¿è¡Œæ—¶æ‰€åœ¨å¯¹è±¡ã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">$("#button").on("click", $.proxy(o.f, o)); // $.proxyæ–¹æ³•å°†o.fæ–¹æ³•ç»‘å®šåˆ°oå¯¹è±¡ã€‚</code></pre>
<p>é™„ï¼šbindæŸæ¡ˆä¾‹ï¼š</p>
<p>å·²çŸ¥</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">[1,2,3].slice(0,1) // [1]
// ç­‰åŒäº
Array.prototype.slice.call([1,2,3], 0, 1) // [1]
// ç­‰åŒäº
var slice = Function.prototype.call.bind(Array.prototype.slice);
slice([1, 2, 3], 0, 1) // [1]</code></pre>
<p>æ”¹å†™bindçš„è°ƒç”¨å½¢å¼</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function func(){
    console.log(this.name);
}

var obj = { name: "obj" };
// å°†Function.prototype.callæ–¹æ³•ç»‘å®šåˆ°Function.prototype.bindå¯¹è±¡
var bind = Function.prototype.call.bind(Function.prototype.bind); 
bind(func,obj)() // obj</code></pre>
<p>åˆ†æï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var bind = Function.prototype.call.bind(Function.prototype.bind); 
// å¯ä»¥ç®€åŒ–ç»“æ„ä¸ºï¼š
var bind = func.bind(obj);
var bind = obj.func;</code></pre>
<p>åŸå¼å¯ç†è§£ä¸ºï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var bind = Function.prototype.bind.call; // è¿”å›callå‡½æ•°ï¼Œä½†ä¸Šä¸‹æ–‡æŒ‡å‘Function.prototype.bind</code></pre>
<p>ä¸ºä»€ä¹ˆå†™ï¼š<code>var bind = Function.prototype.call.bind(Function.prototype.bind);</code></p>
<p>ä¸ç›´æ¥å†™ï¼š<code>var bind = Function.prototype.bind.call;</code></p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var obj = {
    name: "obj",
    method: function () {
        console.log(this.name);
    }
};
obj.method(); // obj
var method = obj.method;
method(); // this æŒ‡å‘å…¨å±€

var method = obj.method.bind(obj);
method(); // obj</code></pre>
<ul>
<li>ç›´æ¥å†™ï¼š<code>var bind = Function.prototype.bind.call;</code>ï¼Œbindçš„ä¸Šä¸‹æ–‡ä¸ <code>Function.prototype.bind.call</code>ä¸­çš„ä¸ä¸€æ ·ã€‚</li>
<li>è¿™æ ·å†™ï¼š<code>var bind = Function.prototype.call.bind(Function.prototype.bind);</code>ï¼Œbindçš„ä¸Šä¸‹æ–‡ä¸<code>Function.prototype.call.bind(Function.prototype.bind)</code>ä¸­ä¸€æ ·ã€‚</li>
<li>ä¸ºä»€ä¹ˆå†™ï¼š<code>bind(func,obj);</code>ï¼Œè€Œä¸å†™ï¼š<code>bind(obj, func);</code>ï¼Ÿ</li>
<li><code>Function.prototype.call.bind(Function.prototype.bind)</code>ç›¸å½“äº<code>Function.prototype.bind.call</code>ç›¸å½“äº<code>obj.bind(arg)</code>ã€‚</li>
<li>éœ€è¦funcå‡½æ•°ç»‘å®šå¯¹è±¡objï¼Œå³<code>func.bind(obj)</code>ï¼Œä¹Ÿå°±æ˜¯ <code>Function.prototype.bind.call(func, obj)</code>ï¼Œ</li>
<li>æ‰€ä»¥åº”è¯¥å†™ <code>bind(func, obj)</code>ã€‚</li>
</ul>
<hr>
<p>Node.jsä¸­ï¼Œåˆ†ä¸¤ç§æƒ…å†µï¼šå…¨å±€ç¯å¢ƒä¸­ï¼Œ<code>this</code> æŒ‡å‘å…¨å±€å¯¹è±¡ <code>global</code>ï¼›æ¨¡å—ç¯å¢ƒä¸­ï¼Œ<code>this</code>æŒ‡å‘ <code>module.exports</code>ã€‚</p>
<p>ES6ï¼šç®­å¤´å‡½æ•°ä¸ç”¨<code>function</code>å…³é”®å­—å®šä¹‰ï¼Œä½¿ç”¨â€œèƒ–ç®­å¤´â€æ“ä½œç¬¦<code>=&gt;</code>å®šä¹‰ã€‚</p>
<p>ç®­å¤´å‡½æ•°ä¸ä½¿ç”¨thisçš„è§„åˆ™ï¼Œæ ¹æ®å¤–å±‚ï¼ˆå‡½æ•°æˆ–è€…å…¨å±€ï¼‰ä½œç”¨åŸŸå†³å®šthisã€‚</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo() {
    // foo() å†…éƒ¨ç®­å¤´å‡½æ•°æ•è·è°ƒç”¨æ—¶foo()çš„ this 
    return (a) => {
        console.log( this.a ); // thisç»§æ‰¿è‡ªfoo()
    };
}
var obj1 = {
    a: 1
};
var obj2 = {
    a: 2
};
// foo()çš„thisç»‘å®šobj1ï¼Œbarï¼ˆå¼•ç”¨ç®­å¤´å‡½æ•°ï¼‰çš„thisä¹Ÿç»‘å®šåˆ°obj1
var bar = foo.call(obj1);
bar(); // 1
// ç»‘å®šæ— æ³•è¢«ä¿®æ”¹ï¼Œnewä¹Ÿä¸è¡Œ
bar.call( obj2 ); // 1, ä¸æ˜¯2

// å¦‚æœæ˜¯ä¸‹é¢æ–¹å¼åˆ™æ˜¯2
function foo() {
    return function(a) {
        console.log( this.a );
    };
}</code></pre>
<p>ç®­å¤´å‡½æ•°æœ€å¸¸ç”¨äºå›è°ƒå‡½æ•°ä¸­ï¼Œå¦‚äº‹ä»¶å¤„ç†å™¨æˆ–è€…å®šæ—¶å™¨ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo() {
    setTimeout(() => {
        console.log(this.a); // thisç»§æ‰¿è‡ªfoo()
    }, 100);
}
var obj = {
    a: 1
};
foo.call(obj); // 1</code></pre>
<p>ç®­å¤´å‡½æ•°åƒbindä¸€æ ·ç¡®ä¿å‡½æ•°çš„thisè¢«ç»‘å®šåˆ°æŒ‡å®šå¯¹è±¡ï¼Œå®ƒç”¨æ›´å¸¸è§çš„è¯æ³•ä½œç”¨åŸŸå–ä»£äº†ä¼ ç»Ÿçš„thisæœºåˆ¶ã€‚</p>
<p>å®é™…ä¸Šåœ¨ES6ä¹‹å‰å°±å·²ç»åœ¨ä½¿ç”¨ä¸€ç§å‡ ä¹å’Œç®­å¤´å‡½æ•°ä¸€æ ·çš„æ¨¡å¼ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo() {
    var self = this; 
    setTimeout(function() {
        console.log(self.a);
    }, 100);
}
var obj = {
    a: 1
};
foo.call(obj); // 1</code></pre>
<p>ä¸‹é¢ä»£ç æœ‰é—®é¢˜ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var obj = {
    id: "awesome",
    cool: function() {
        console.log( this.id );
    }
};
var id = "not awesome"
obj.cool(); // awesome
setTimeout(obj.cool, 100); // not awesome</code></pre>
<p>ES6çš„ç®­å¤´å‡½æ•°å¼•å…¥thisè¯æ³•çš„è¡Œä¸ºï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">var obj = {
    count: 0,
    cool: function coolFn() {
        if (this.count < 1) {
            setTimeout(() => { 
                this.count++;
                console.log("awesome?");
            }, 100);
        }
    }
};
obj.cool(); // "awesome?"</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">var obj = {
    count: 0,
    cool: function coolFn() {
         if (this.count < 1) {
            setTimeout(function () {
                this.count++; // thisæ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºbind
                console.log( "more awesome" );
            }.bind(this), 100); 
        }
    }
};
obj.cool(); // "more awesome"</code></pre>
<hr>
<p>ç¡¬ç»‘å®š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo() {
    console.log(this.a);
}
var obj = {
    a: 2
};

var bar = function() {
    foo.call(obj);
};
bar(); // 2
bar.call(window); // 2ï¼Œç¡¬ç»‘å®šçš„barä¸èƒ½å†ä¿®æ”¹this
setTimeout(bar, 100); // 2ï¼Œç¡¬ç»‘å®šçš„barä¸èƒ½å†ä¿®æ”¹this

// æœªåˆ›å»ºåŒ…è£¹å‡½æ•°çš„æ–¹å¼
var bar = foo.call(obj); 
bar(); // 2
bar.call(window); // Uncaught TypeError: bar is not a function(â€¦)</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo(something) {
    console.log(this.a, something);
}
var obj = {
    a: 2
};

// åˆ›å»ºä¸€ä¸ªåŒ…è£¹å‡½æ•°ï¼Œä¼ å…¥æ‰€æœ‰çš„å‚æ•°å¹¶è¿”å›æ¥æ”¶åˆ°çš„æ‰€æœ‰å€¼
var bar = function() {
    return foo.apply(obj, arguments);
};
var b = bar(3); // 2 3

// å¦ä¸€ç§æ˜¯åˆ›å»ºå¯ä»¥é‡å¤ä½¿ç”¨çš„è¾…åŠ©å‡½æ•°
function bind(fn, obj) {
    return function() {
        return fn.apply(obj, arguments);
    };
}

var bar = bind(foo, obj);
var b = bar(3); // 2 3

// ES5æä¾›äº†Function.prototype.bind
var bar = foo.bind(obj);
var b = bar(3); // 2 3
// bind(..) è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼ŒæŠŠå‚æ•°è®¾ç½®ä¸º this çš„ä¸Šä¸‹æ–‡å¹¶è°ƒç”¨åŸå‡½æ•°</code></pre>
<ul>
<li>è®¸å¤šå‡½æ•°æä¾›äº†ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œç§°ä¸ºâ€œä¸Šä¸‹æ–‡â€ï¼ˆcontextï¼‰ï¼Œç»‘å®šå›è°ƒçš„thisã€‚</li>
</ul>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo(el) {
    console.log(el, this.id);
}
var obj = {
     id: "awesome"
};

[1, 2, 3].forEach(foo, obj); // è°ƒç”¨foo(..)æ—¶æŠŠthisç»‘å®šåˆ°obj
// 1 awesome 2 awesome 3 awesome</code></pre>
<p>ä¼˜å…ˆçº§</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo() {
    console.log(this.a);
}
var obj1 = {
    a: 1,
    foo: foo
};
var obj2 = {
    a: 2,
    foo: foo
};
obj1.foo(); // 1ï¼Œéšå¼ç»‘å®š
obj1.foo.call( obj2 ); // 2ï¼Œæ˜¾å¼ç»‘å®šä¼˜å…ˆçº§æ›´é«˜</code></pre>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo(something) {
    this.a = something;
}
var obj1 = {
    foo: foo
};
var obj2 = {};

obj1.foo(1);
obj1.a; // 1

obj1.foo.call(obj2, 2);
obj2.a; // 2

var bar = new obj1.foo(3);
obj1.a; // 1
bar.a; // 3ï¼Œnew ç»‘å®šæ¯”éšå¼ç»‘å®šä¼˜å…ˆçº§é«˜</code></pre>
<ul>
<li>newå’Œcall/applyæ— æ³•ä¸€èµ·ä½¿ç”¨ï¼Œå› æ­¤æ— æ³•é€šè¿‡new foo.call(obj1)ç›´æ¥æµ‹è¯•ã€‚</li>
<li>ç¡¬ç»‘å®šFunction.prototype.bindåˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼Œå¿½ç•¥å½“å‰thisç»‘å®šï¼ŒæŠŠæä¾›çš„å¯¹è±¡ç»‘å®šåˆ°thisä¸Šã€‚</li>
<li>ç¡¬ç»‘å®šï¼ˆä¹Ÿæ˜¯æ˜¾å¼ç»‘å®šï¼‰ä¼¼ä¹æ¯”newç»‘å®šä¼˜å…ˆçº§æ›´é«˜ã€‚</li>
</ul>
<pre class=" language-JavaScript"><code class="language-JavaScript">function foo(something) {
    this.a = something;
}

var obj1 = {};
var bar = foo.bind(obj1); // barè¢«ç¡¬ç»‘å®šåˆ°obj1ä¸Š
bar(2);
console.log(obj1.a); // 2

var baz = new bar(3);
console.log(obj1.a); // 2ï¼Œnew bar(3) æ²¡æœ‰æŠŠ obj1.a ä¿®æ”¹ä¸º3
console.log(baz.a); // 3</code></pre>
<ul>
<li>è¾…åŠ©å‡½æ•° bind ï¼š</li>
</ul>
<pre class=" language-JavaScript"><code class="language-JavaScript">function bind(fn, obj) {
    return function() {
        fn.apply(obj, arguments);
    };
}</code></pre>
<p>çœ‹èµ·æ¥è¾…åŠ©å‡½æ•°ä¸­newæ“ä½œç¬¦çš„è°ƒç”¨æ— æ³•ä¿®æ”¹ this ç»‘å®šï¼Œä½†newç¡®å®ä¿®æ”¹äº†thisç»‘å®šã€‚</p>
<p>ç¡¬ç»‘å®šæŠŠthiså¼ºåˆ¶ç»‘å®šåˆ°æŒ‡å®šçš„å¯¹è±¡ï¼ˆé™¤äº†newï¼‰ï¼Œé˜²æ­¢é»˜è®¤ç»‘å®šã€‚</p>
<p>ä½†ç¡¬ç»‘å®šåæ— æ³•ä½¿ç”¨éšå¼ç»‘å®šæˆ–è€…æ˜¾å¼ç»‘å®šä¿®æ”¹thisã€‚</p>
<p>ç»™é»˜è®¤ç»‘å®šæŒ‡å®šä¸€ä¸ªå…¨å±€å¯¹è±¡å’Œundefinedä»¥å¤–çš„å€¼ï¼Œå°±å¯ä»¥ä¿ç•™éšå¼ç»‘å®šæˆ–è€…æ˜¾å¼ç»‘å®šä¿®æ”¹thisçš„èƒ½åŠ›ã€‚</p>
<p>è½¯ç»‘å®šå®ç°ï¼š</p>
<pre class=" language-JavaScript"><code class="language-JavaScript">if (!Function.prototype.softBind) {
    Function.prototype.softBind = function(obj) {
        var fn = this;
        var curried = [].slice.call(arguments, 1);
        var bound = function() {
            // å°è£…æŒ‡å®šçš„å‡½æ•°
            return fn.apply(
                // å¦‚æœè°ƒç”¨æ—¶thisç»‘å®šå…¨å±€æˆ–undefinedï¼Œå°±æŠŠæŒ‡å®šå¯¹è±¡objç»‘å®šåˆ°thisï¼Œå¦åˆ™ä¸ä¿®æ”¹this
                (!this || this === (window || global)) ? obj : this,
                curried.concat.apply(curried, arguments) // å¯é€‰çš„æŸ¯é‡ŒåŒ–
            );
        };
        bound.prototype = Object.create(fn.prototype);
        return bound;
    };
}</code></pre>
<p>æ€»ç»“ï¼šåˆ¤æ–­è¿è¡Œä¸­å‡½æ•°çš„thisï¼Œè¦æ‰¾åˆ°è¿™ä¸ªå‡½æ•°çš„ç›´æ¥è°ƒç”¨ä½ç½®ã€‚</p>
<p>newè°ƒç”¨ï¼ˆnewç»‘å®šï¼‰ï¼ŸthisæŒ‡å‘æ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡ã€‚<code>var f = new F();</code></p>
<p>call ã€applyï¼ˆæ˜¾å¼ç»‘å®šï¼‰æˆ–ç¡¬ç»‘å®šè°ƒç”¨ï¼ŸthisæŒ‡å‘æŒ‡å®šå¯¹è±¡ã€‚<code>var f1 = f.call(obj);</code></p>
<p>å‡½æ•°ä½œä¸ºå¯¹è±¡çš„æ–¹æ³•è°ƒç”¨ï¼ˆéšå¼ç»‘å®šï¼‰ï¼ŸthisæŒ‡å‘ä¸Šä¸‹æ–‡å¯¹è±¡ã€‚ï¼ˆåªæœ‰å‡½æ•°ç›´æ¥è¢«å¯¹è±¡è°ƒç”¨ï¼Œå‡½æ•°ä¸­thisæ‰æŒ‡å‘è¯¥å¯¹è±¡ã€‚</p>
<p>åµŒå¥—å‡½æ•°çš„thisä¸ä¼šç»§æ‰¿ä¸Šå±‚å‡½æ•°çš„thisï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜ä¸Šå±‚å‡½æ•°çš„thisã€‚ï¼‰<code>var bar = obj1.foo();</code></p>
<p>å•çº¯å‡½æ•°è°ƒç”¨ï¼ˆé»˜è®¤ç»‘å®šï¼‰ï¼ŸæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒæŒ‡å‘undefinedã€‚<code>var bar = foo();</code></p>

				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


        <footer>
             
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

        </footer>
    </div>
    <!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
    <script>
        var timeEnd = new Date();
        console.log('è€—æ—¶ï¼š' + (timeEnd - timeStart));
        document.addEventListener('DOMContentLoaded', (event) => {
            document.querySelectorAll('pre').forEach((block) => {
                block.classList.add("line-numbers");
            });
        });
    </script>
    <!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
    <!-- material design -->
    <!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
    <!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
    <!-- toc -->
    <!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
    <!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
    <!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
    <!-- <script src="/js/main.js"></script> -->
    <script src="/js/prism.js"></script>
</body>
</html>

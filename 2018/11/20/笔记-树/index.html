<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		
		<title>[笔记]-树 | 一个放笔记的地方而已</title>
		
		<meta name="author" content="Huangzhike">
		
		
		<meta name="description" content="用手记笔记，用心记笔记，用脑记笔记">
		
		
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		
		<meta property="og:title" content="[笔记]-树"/>
		
		<meta property="og:site_name" content="一个放笔记的地方而已"/>
		
		
		<!-- favicon -->
		<link rel="icon" type="image/ico" href="/favicon.ico" sizes="32x32">
		<link rel="manifest" href="/manifest.json">
		<meta name="msapplication-TileColor" content="#009688">
		<meta name="msapplication-TileImage" content="/mstile-144x144.ico">
		<meta name="theme-color" content="#009688">
		<script>var timeStart = new Date();</script>
		<!-- favicon end -->
		<!-- <link href="//favicon.ico" rel="icon"> -->
		
		<!-- toc -->
		<!-- <link rel="stylesheet" href="/libs/tocify/jquery.tocify.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs/css/bootstrap.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css" media="screen" type="text/css">-->
		<!-- material design -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/ripples.min.css" media="screen" type="text/css"> -->
		<!-- <link rel="stylesheet" href="/libs/bs-material/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="//apps.bdimg.com/libs/bootstrap-material/0.3.0/css/material.min.css" media="screen" type="text/css"> -->
		<!--<link rel="stylesheet" href="/css/highlight.light.css" media="screen" type="text/css">-->
		<link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
		
		
		<!-- <script src="//apps.bdimg.com/libs/jquery/2.0.3/jquery.min.js"></script>-->
		<!-- <script>window.jQuery || document.write('<script src="/libs/jquery-3.1.1.slim.min.js" type="text/javascript"><\/script>')</script>-->
	</head>

<body>
	<nav class="navbar navbar-default">
	<div class="container">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				<span class="sr-only">菜单</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="/">一个放笔记的地方而已</a>
           
		</div>
		<div id="navbar" class="collapse navbar-collapse">
			<ul class="nav navbar-nav navbar-right">
				
				<li>
					<a href="https://huangzhike.github.io/" title="">
						<i class="fa fa-home"></i>首页
					</a>
				</li>
				
				<li>
					<a href="https://huangzhike.github.io/archives" title="">
						<i class="fa fa-list"></i>存档
					</a>
				</li>
				
				<li>
					<a href="https://github.com/huangzhike" title="我的主页">
						<i class="fa fa-github"></i>GitHub
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

	<div class="container" >
		<div class="row">
	
		<div class="col-md-9 center-content">
			
			<div class="content">
				<!-- index -->
				
				<h2>[笔记]-树</h2>
				
				<div>
					<span class="post-time">2018-11-20 20:15</span>
				</div>	
				
				<div class="article-content">
				<p>树的节点分为内部节点和外部节点。</p>
<p>至少有一个子节点的节点称为内部节点。</p>
<p>没有子元素的节点称为外部节点或叶节点。</p>
<p>树顶部的节点叫作根节点。</p>
<p>节点可以有祖先和后代。</p>
<p>节点（除了根节点）的祖先包括父节点、祖父节点、曾祖父节点等。</p>
<p>节点的后代包括子节点、孙子节点、曾孙节点等。</p>
<p>子树由节点和它的后代构成。</p>
<p>节点的一个属性是深度，节点的深度取决于它的祖先节点的数量。</p>
<p>二叉搜索树（BST）：节点最多只能有两个子节点，一个是左侧子节点，另一个是右侧子节点。在左侧节点存储（比父节点）小的值，在右侧节点存储（比父节点）大（或者等于）的值。</p>
<p>每个节点包含两个指针，一个指向左侧子节点，另一个指向右侧子节点。</p>
<figure class="highlight haxe"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div><div class="line">197</div><div class="line">198</div><div class="line">199</div><div class="line">200</div><div class="line">201</div><div class="line">202</div><div class="line">203</div><div class="line">204</div><div class="line">205</div><div class="line">206</div><div class="line">207</div><div class="line">208</div><div class="line">209</div><div class="line">210</div><div class="line">211</div><div class="line">212</div><div class="line">213</div><div class="line">214</div><div class="line">215</div><div class="line">216</div><div class="line">217</div><div class="line">218</div><div class="line">219</div><div class="line">220</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">BinarySearchTree</span></span>() &#123;</div><div class="line"></div><div class="line">	let Node = <span class="function"><span class="keyword">function</span></span>(key) &#123;</div><div class="line">		<span class="built_in">this</span>.key = key;</div><div class="line">		<span class="built_in">this</span>.left = <span class="literal">null</span>;</div><div class="line">		<span class="built_in">this</span>.right = <span class="literal">null</span>;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let root = <span class="literal">null</span>;</div><div class="line"></div><div class="line">	<span class="comment">// 向树中插入一个新的节点</span></div><div class="line">	<span class="built_in">this</span>.insert = <span class="function"><span class="keyword">function</span></span>(key) &#123;</div><div class="line"></div><div class="line">		let <span class="keyword">new</span><span class="type">Node</span> = <span class="keyword">new</span> <span class="type">Node</span>(key); <span class="comment">// 新节点</span></div><div class="line">		<span class="comment">// 如果插入的节点是树的第一个节点，就将根节点指向新节点</span></div><div class="line">		<span class="keyword">if</span> (root === <span class="literal">null</span>) &#123;</div><div class="line">			root = <span class="keyword">new</span><span class="type">Node</span>;</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			<span class="comment">// 将节点加在非根节点的其他位置</span></div><div class="line">			insertNode(root, <span class="keyword">new</span><span class="type">Node</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line">	<span class="comment">// 传入当前节点（第一次是根节点）和要插入的节点</span></div><div class="line">	let insertNode = <span class="function"><span class="keyword">function</span></span>(node, <span class="keyword">new</span><span class="type">Node</span>) &#123;</div><div class="line">		<span class="comment">// 新节点的键小于当前节点的键</span></div><div class="line">		<span class="keyword">if</span> (<span class="keyword">new</span><span class="type">Node</span>.key &lt; node.key) &#123;</div><div class="line">			<span class="keyword">if</span> (node.left === <span class="literal">null</span>) &#123;</div><div class="line">				node.left = <span class="keyword">new</span><span class="type">Node</span>;</div><div class="line">			&#125; <span class="keyword">else</span> &#123;</div><div class="line">				<span class="comment">// 不断递归下一层</span></div><div class="line">				insertNode(node.left, <span class="keyword">new</span><span class="type">Node</span>);</div><div class="line">			&#125;</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			<span class="keyword">if</span> (node.right === <span class="literal">null</span>) &#123;</div><div class="line">				node.right = <span class="keyword">new</span><span class="type">Node</span>;</div><div class="line">			&#125; <span class="keyword">else</span> &#123;</div><div class="line">				insertNode(node.right, <span class="keyword">new</span><span class="type">Node</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="built_in">this</span>.getRoot = <span class="function"><span class="keyword">function</span></span>() &#123;</div><div class="line">		<span class="keyword">return</span> root;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">// 访问树的所有节点有三种方式：中序、先序和后序</span></div><div class="line">	<span class="comment">// 中序遍历：上行顺序访问BST所有节点，也就是以从小到大的顺序访问所有节点，可以对树排序</span></div><div class="line">	<span class="built_in">this</span>.inOrderTraverse = <span class="function"><span class="keyword">function</span></span>(<span class="keyword">callback</span>) &#123;</div><div class="line">		inOrderTraverseNode(root, <span class="keyword">callback</span>);</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let inOrderTraverseNode = <span class="function"><span class="keyword">function</span></span>(node, <span class="keyword">callback</span>) &#123;</div><div class="line">		<span class="comment">// 停止递归的判断条件</span></div><div class="line">		<span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</div><div class="line">			<span class="comment">// 递归访问左侧子节点 </span></div><div class="line">			inOrderTraverseNode(node.left, <span class="keyword">callback</span>);</div><div class="line">			<span class="comment">// 对这个节点进行操作（callback）</span></div><div class="line">			<span class="keyword">callback</span>(node.key);</div><div class="line">			<span class="comment">// 再访问右侧子节点</span></div><div class="line">			inOrderTraverseNode(node.right, <span class="keyword">callback</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">// 先序遍历：以优先于后代节点的顺序访问每个节点，可以打印结构化的文档</span></div><div class="line">	<span class="built_in">this</span>.preOrderTraverse = <span class="function"><span class="keyword">function</span></span>(<span class="keyword">callback</span>) &#123;</div><div class="line">		preOrderTraverseNode(root, <span class="keyword">callback</span>);</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let preOrderTraverseNode = <span class="function"><span class="keyword">function</span></span>(node, <span class="keyword">callback</span>) &#123;</div><div class="line">		<span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</div><div class="line">			<span class="comment">// 先序遍历会先访问节点本身</span></div><div class="line">			<span class="keyword">callback</span>(node.key);</div><div class="line">			<span class="comment">// 然后再访问它的左侧子节点</span></div><div class="line">			preOrderTraverseNode(node.left, <span class="keyword">callback</span>);</div><div class="line">			<span class="comment">// 最后是右侧子节点</span></div><div class="line">			preOrderTraverseNode(node.right, <span class="keyword">callback</span>);</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">// 后序遍历：先访问节点的后代节点，再访问节点本身，可以计算一个目录和子目录中所有文件空间的大小</span></div><div class="line">	<span class="built_in">this</span>.postOrderTraverse = <span class="function"><span class="keyword">function</span></span>(<span class="keyword">callback</span>) &#123;</div><div class="line">		postOrderTraverseNode(root, <span class="keyword">callback</span>);</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let postOrderTraverseNode = <span class="function"><span class="keyword">function</span></span>(node, <span class="keyword">callback</span>) &#123;</div><div class="line">		<span class="keyword">if</span> (node !== <span class="literal">null</span>) &#123;</div><div class="line">			<span class="comment">// 先访问左侧子节点</span></div><div class="line">			postOrderTraverseNode(node.left, <span class="keyword">callback</span>);</div><div class="line">			<span class="comment">// 然后是右侧子节点</span></div><div class="line">			postOrderTraverseNode(node.right, <span class="keyword">callback</span>);</div><div class="line">			<span class="comment">// 最后是父节点本身</span></div><div class="line">			<span class="keyword">callback</span>(node.key);</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">// 寻找一棵树或它的任意子树中的一个特定的值</span></div><div class="line">	<span class="built_in">this</span>.search = <span class="function"><span class="keyword">function</span></span>(key) &#123;</div><div class="line">		<span class="keyword">return</span> searchNode(root, key);</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let searchNode = <span class="function"><span class="keyword">function</span></span>(node, key) &#123;</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (node === <span class="literal">null</span>) &#123;</div><div class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="keyword">if</span> (key &lt; node.key) &#123;</div><div class="line">			<span class="keyword">return</span> searchNode(node.left, key);</div><div class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; node.key) &#123;</div><div class="line">			<span class="keyword">return</span> searchNode(node.right, key);</div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line">			<span class="comment">// element is equal to node.item</span></div><div class="line">			<span class="comment">// 找的键和当前节点的键相等，返回true来表示找到</span></div><div class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="built_in">this</span>.min = <span class="function"><span class="keyword">function</span></span>() &#123;</div><div class="line">		<span class="keyword">return</span> minNode(root);</div><div class="line">	&#125;;</div><div class="line">	<span class="comment">// 从树中任意一个节点开始寻找最小的键</span></div><div class="line">	let minNode = <span class="function"><span class="keyword">function</span></span>(node) &#123;</div><div class="line">		<span class="keyword">if</span> (node) &#123;</div><div class="line">			<span class="keyword">while</span> (node &amp;&amp; node.left !== <span class="literal">null</span>) &#123;</div><div class="line">				node = node.left;</div><div class="line">			&#125;</div><div class="line"></div><div class="line">			<span class="keyword">return</span> node.key;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="built_in">this</span>.max = <span class="function"><span class="keyword">function</span></span>() &#123;</div><div class="line">		<span class="keyword">return</span> maxNode(root);</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let maxNode = <span class="function"><span class="keyword">function</span></span>(node) &#123;</div><div class="line">		<span class="keyword">if</span> (node) &#123;</div><div class="line">			<span class="comment">// 要找到最大的键，要沿着树的右边进行遍历，直到找到最右端的节点</span></div><div class="line">			<span class="keyword">while</span> (node &amp;&amp; node.right !== <span class="literal">null</span>) &#123;</div><div class="line">				node = node.right;</div><div class="line">			&#125;</div><div class="line"></div><div class="line">			<span class="keyword">return</span> node.key;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	<span class="comment">// 寻找最小值，沿着树的左边，寻找最大值，沿着树的右边</span></div><div class="line">	<span class="built_in">this</span>.remove = <span class="function"><span class="keyword">function</span></span>(element) &#123;</div><div class="line"></div><div class="line">		root = removeNode(root, element); <span class="comment">// root被赋值为removeNode方法的返回值</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let findMinNode = <span class="function"><span class="keyword">function</span></span>(node) &#123;</div><div class="line">		<span class="keyword">while</span> (node &amp;&amp; node.left !== <span class="literal">null</span>) &#123;</div><div class="line">			node = node.left;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">return</span> node;</div><div class="line">	&#125;;</div><div class="line">	<span class="comment">// 传入root和要移除的键作为参数</span></div><div class="line">	let removeNode = <span class="function"><span class="keyword">function</span></span>(node, element) &#123;</div><div class="line">		<span class="comment">// 如果正在检测的节点是null，那么说明键不存在于树中</span></div><div class="line">		<span class="keyword">if</span> (node === <span class="literal">null</span>) &#123;</div><div class="line">			<span class="keyword">return</span> <span class="literal">null</span>;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="comment">// 如果要找的键比当前节点的值小</span></div><div class="line">		<span class="keyword">if</span> (element &lt; node.key) &#123;</div><div class="line">			<span class="comment">// 沿着树的左边找到下一个节点</span></div><div class="line">			node.left = removeNode(node.left, element);</div><div class="line">			<span class="comment">// 更新了节点左右指针的值，返回了更新后的节点，因为是引用类型</span></div><div class="line">			<span class="keyword">return</span> node;</div><div class="line"></div><div class="line">		&#125;</div><div class="line">		<span class="comment">// 如果要找的键比当前节点的值大</span></div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (element &gt; node.key) &#123;</div><div class="line">			<span class="comment">// 沿着树的右边找到下一个节点</span></div><div class="line">			node.right = removeNode(node.right, element);</div><div class="line">			<span class="comment">// 更新了节点左右指针的值，返回了更新后的节点</span></div><div class="line">			<span class="keyword">return</span> node;</div><div class="line"></div><div class="line">		&#125; <span class="keyword">else</span> &#123;</div><div class="line"></div><div class="line">			<span class="comment">// element is equal to node.item handle 3 special conditions</span></div><div class="line">			<span class="comment">// 1 - a leaf node 移除一个叶节点</span></div><div class="line">			<span class="comment">// 2 - a node with only 1 child 移除有一个左侧或右侧子节点的节点</span></div><div class="line">			<span class="comment">// 3 - a node with 2 children 移除有两个子节点的节点</span></div><div class="line">			<span class="comment">// 如果找到了要找的键（键和node.key相等），就要处理三种情况</span></div><div class="line">			<span class="comment">// case 1 该节点是没有左右侧子节点的叶节点</span></div><div class="line">			<span class="keyword">if</span> (node.left === <span class="literal">null</span> &amp;&amp; node.right === <span class="literal">null</span>) &#123;</div><div class="line">				node = <span class="literal">null</span>;</div><div class="line">				<span class="keyword">return</span> node; <span class="comment">// 返回null来将对应的父节点指针赋予null值</span></div><div class="line">			&#125;</div><div class="line"></div><div class="line">			<span class="comment">// case 2 移除有一个左侧子节点或右侧子节点的节点</span></div><div class="line">			<span class="keyword">if</span> (node.left === <span class="literal">null</span>) &#123;</div><div class="line">				node = node.right;</div><div class="line">				<span class="keyword">return</span> node;</div><div class="line"></div><div class="line">			&#125;</div><div class="line">			<span class="comment">// case 3 要移除的节点有两个子节点——左侧子节点和右侧子节点</span></div><div class="line">			<span class="keyword">else</span> <span class="keyword">if</span> (node.right === <span class="literal">null</span>) &#123;</div><div class="line">				<span class="comment">// 把父节点对它的引用改为对它左侧子节点的引用</span></div><div class="line">				node = node.left;</div><div class="line">				<span class="keyword">return</span> node;</div><div class="line">			&#125;</div><div class="line"></div><div class="line">			<span class="comment">// 找到了需要移除的节点后，需要找到它右边子树中最小的节点</span></div><div class="line">			let aux = findMinNode(node.right);</div><div class="line">			<span class="comment">// 用它右侧子树中最小节点的键去更新这个节点的值，节点被移除了</span></div><div class="line">			node.key = aux.key;</div><div class="line">			<span class="comment">// 把右侧子树中的最小节点移除，毕竟它已经被移至要移除的节点的位置了</span></div><div class="line">			node.right = removeNode(node.right, aux.key);</div><div class="line">			<span class="comment">// 向它的父节点返回更新后节点的引用</span></div><div class="line">			<span class="keyword">return</span> node;</div><div class="line"></div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>BST问题：取决于添加的节点数，树的一条边可能会非常深，阿德尔森-维尔斯和兰迪斯树（AVL树）解决了这个问题。</p>
<p>AVL树是自平衡二叉搜索树，任何一个节点左右两侧子树的高度之差最多为1，这种树会在添加或移除节点时尽量试着成为一棵完全树。</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div></pre></td><td class="code"><pre><div class="line">function AVLTree() &#123;</div><div class="line"></div><div class="line">	function <span class="keyword">Node</span><span class="title">(key</span>) &#123;</div><div class="line">		this.key = key;</div><div class="line">		this.left = null;</div><div class="line">		this.right = null;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let root = null;</div><div class="line"></div><div class="line">	this.getRoot = function() &#123;</div><div class="line">		return root;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function heightNode(<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		if (<span class="keyword">node</span> <span class="title">=== null</span>) &#123;</div><div class="line">			return -<span class="number">1</span>;</div><div class="line">		&#125; else &#123;</div><div class="line">			return Math.max(heightNode(<span class="keyword">node</span>.<span class="title">left</span>), heightNode(<span class="keyword">node</span>.<span class="title">right</span>)) + <span class="number">1</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function rotationLL(<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		let tmp = <span class="keyword">node</span>.<span class="title">left</span>;</div><div class="line">		<span class="keyword">node</span>.<span class="title">left</span> = tmp.right;</div><div class="line">		tmp.right = <span class="keyword">node</span><span class="title">;</span></div><div class="line"></div><div class="line">		return tmp;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function rotationRR(<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		let tmp = <span class="keyword">node</span>.<span class="title">right</span>;</div><div class="line">		<span class="keyword">node</span>.<span class="title">right</span> = tmp.left;</div><div class="line">		tmp.left = <span class="keyword">node</span><span class="title">;</span></div><div class="line"></div><div class="line">		return tmp;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function rotationLR(<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		node.left = rotationRR(<span class="keyword">node</span>.<span class="title">left</span>);</div><div class="line">		return rotationLL(<span class="keyword">node</span><span class="title">);</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function rotationRL(<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		node.right = rotationLL(<span class="keyword">node</span>.<span class="title">right</span>);</div><div class="line">		return rotationRR(<span class="keyword">node</span><span class="title">);</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function insertNode(<span class="keyword">node</span><span class="title">, element</span>) &#123;</div><div class="line"></div><div class="line">		if (<span class="keyword">node</span> <span class="title">=== null</span>) &#123;</div><div class="line">			<span class="keyword">node</span> <span class="title">= new</span> <span class="keyword">Node</span><span class="title">(element</span>);</div><div class="line"></div><div class="line">		&#125; else if (element <span class="tag">&lt; node.key) &#123;</span></div><div class="line"></div><div class="line">			node.left = insertNode(node.left, element);</div><div class="line"></div><div class="line">			if (node.left !== null) &#123;</div><div class="line"></div><div class="line">				if ((heightNode(node.left) - heightNode(node.right)) &gt; <span class="number">1</span>) &#123;</div><div class="line">					if (element <span class="tag">&lt; node.left.key) &#123;</span></div><div class="line">						node = rotationLL(node);</div><div class="line">					&#125; else &#123;</div><div class="line">						node = rotationLR(node);</div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125; else if (element &gt; <span class="keyword">node</span>.<span class="title">key</span>) &#123;</div><div class="line"></div><div class="line">			<span class="keyword">node</span>.<span class="title">right</span> = insertNode(<span class="keyword">node</span>.<span class="title">right</span>, element);</div><div class="line"></div><div class="line">			if (<span class="keyword">node</span>.<span class="title">right</span> !== null) &#123;</div><div class="line"></div><div class="line">				if ((heightNode(<span class="keyword">node</span>.<span class="title">right</span>) - heightNode(<span class="keyword">node</span>.<span class="title">left</span>)) &gt; <span class="number">1</span>) &#123;</div><div class="line"></div><div class="line">					if (element &gt; <span class="keyword">node</span>.<span class="title">right</span>.key) &#123;</div><div class="line">						<span class="keyword">node</span> <span class="title">= rotationRR</span>(<span class="keyword">node</span><span class="title">);</span></div><div class="line">					&#125; else &#123;</div><div class="line">						<span class="keyword">node</span> <span class="title">= rotationRL</span>(<span class="keyword">node</span><span class="title">);</span></div><div class="line">					&#125;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		return <span class="keyword">node</span><span class="title">;</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	this.insert = function(element) &#123;</div><div class="line">		root = insertNode(root, element);</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let parentNode;</div><div class="line">	let nodeToBeDeleted;</div><div class="line"></div><div class="line">	function removeNode(<span class="keyword">node</span><span class="title">, element</span>) &#123;</div><div class="line">		if (<span class="keyword">node</span> <span class="title">=== null</span>) &#123;</div><div class="line">			return null;</div><div class="line">		&#125;</div><div class="line">		parentNode = <span class="keyword">node</span><span class="title">;</span></div><div class="line"></div><div class="line">		if (element <span class="tag">&lt; node.key) &#123;</span></div><div class="line">			node.left = removeNode(node.left, element);</div><div class="line">		&#125; else &#123;</div><div class="line">			nodeToBeDeleted = node;</div><div class="line">			node.right = removeNode(node.right, element);</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		if (node === parentNode) &#123; // remove node</div><div class="line">			if (nodeToBeDeleted !== null &amp;&amp; element === nodeToBeDeleted.key) &#123;</div><div class="line">				if (nodeToBeDeleted === parentNode) &#123;</div><div class="line">					node = node.left;</div><div class="line">				&#125; else &#123;</div><div class="line">					var tmp = nodeToBeDeleted.key;</div><div class="line">					nodeToBeDeleted.key = parentNode.key;</div><div class="line">					parentNode.key = tmp;</div><div class="line">					node = node.right;</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125; else &#123; // do balancing</div><div class="line"></div><div class="line">			if (node.left === undefined) node.left = null;</div><div class="line">			if (node.right === undefined) node.right = null;</div><div class="line"></div><div class="line">			if ((heightNode(node.left) - heightNode(node.right)) === 2) &#123;</div><div class="line">				if (element &lt; node.left.key) &#123;</div><div class="line">					node = rotationLR(node);</div><div class="line">				&#125; else &#123;</div><div class="line">					node = rotationLL(node);</div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line"></div><div class="line">			if ((heightNode(node.right) - heightNode(node.left)) === 2) &#123;</div><div class="line">				if (element &gt; <span class="keyword">node</span>.<span class="title">right</span>.key) &#123;</div><div class="line">					<span class="keyword">node</span> <span class="title">= rotationRL</span>(<span class="keyword">node</span><span class="title">);</span></div><div class="line">				&#125; else &#123;</div><div class="line">					<span class="keyword">node</span> <span class="title">= rotationRR</span>(<span class="keyword">node</span><span class="title">);</span></div><div class="line">				&#125;</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		return <span class="keyword">node</span><span class="title">;</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	this.remove = function(element) &#123;</div><div class="line">		parentNode = null;</div><div class="line">		nodeToBeDeleted = null;</div><div class="line">		root = removeNode(root, element);</div><div class="line">	&#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>红黑树是一种特殊的二叉树，可以进行高效的中序遍历。</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div></pre></td><td class="code"><pre><div class="line">function RedBlackTree() &#123;</div><div class="line"></div><div class="line">	let Colors = &#123;</div><div class="line">		RED: <span class="number">0</span>,</div><div class="line">		BLACK: <span class="number">1</span></div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function <span class="keyword">Node</span><span class="title">(key</span>, color) &#123;</div><div class="line">		this.key = key;</div><div class="line">		this.left = null;</div><div class="line">		this.right = null;</div><div class="line">		this.color = color;</div><div class="line"></div><div class="line">		this.flipColor = function() &#123;</div><div class="line">			if (this.color === Colors.RED) &#123;</div><div class="line">				this.color = Colors.BLACK;</div><div class="line">			&#125; else &#123;</div><div class="line">				this.color = Colors.RED;</div><div class="line">			&#125;</div><div class="line">		&#125;;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	let root = null;</div><div class="line"></div><div class="line">	this.getRoot = function() &#123;</div><div class="line">		return root;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function isRed(<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		if (!<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">			return <span class="literal">false</span>;</div><div class="line">		&#125;</div><div class="line">		return <span class="keyword">node</span>.<span class="title">color</span> === Colors.RED;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function flipColors(<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		node.left.flipColor();</div><div class="line">		<span class="keyword">node</span>.<span class="title">right</span>.flipColor();</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function rotateLeft(<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		let temp = <span class="keyword">node</span>.<span class="title">right</span>;</div><div class="line">		if (temp !== null) &#123;</div><div class="line">			<span class="keyword">node</span>.<span class="title">right</span> = temp.left;</div><div class="line">			temp.left = <span class="keyword">node</span><span class="title">;</span></div><div class="line">			temp.color = <span class="keyword">node</span>.<span class="title">color</span>;</div><div class="line">			<span class="keyword">node</span>.<span class="title">color</span> = Colors.RED;</div><div class="line">		&#125;</div><div class="line">		return temp;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function rotateRight(<span class="keyword">node</span><span class="title">) &#123;</span></div><div class="line">		let temp = <span class="keyword">node</span>.<span class="title">left</span>;</div><div class="line">		if (temp !== null) &#123;</div><div class="line">			<span class="keyword">node</span>.<span class="title">left</span> = temp.right;</div><div class="line">			temp.right = <span class="keyword">node</span><span class="title">;</span></div><div class="line">			temp.color = <span class="keyword">node</span>.<span class="title">color</span>;</div><div class="line">			<span class="keyword">node</span>.<span class="title">color</span> = Colors.RED;</div><div class="line">		&#125;</div><div class="line">		return temp;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	function insertNode(<span class="keyword">node</span><span class="title">, element</span>) &#123;</div><div class="line"></div><div class="line">		if (<span class="keyword">node</span> <span class="title">=== null</span>) &#123;</div><div class="line">			return new <span class="keyword">Node</span><span class="title">(element</span>, Colors.RED);</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		let newRoot = <span class="keyword">node</span><span class="title">;</span></div><div class="line"></div><div class="line">		if (element <span class="tag">&lt; node.key) &#123;</span></div><div class="line"></div><div class="line">			node.left = insertNode(node.left, element);</div><div class="line"></div><div class="line">		&#125; else if (element &gt; <span class="keyword">node</span>.<span class="title">key</span>) &#123;</div><div class="line"></div><div class="line">			<span class="keyword">node</span>.<span class="title">right</span> = insertNode(<span class="keyword">node</span>.<span class="title">right</span>, element);</div><div class="line"></div><div class="line">		&#125; else &#123;</div><div class="line">			<span class="keyword">node</span>.<span class="title">key</span> = element;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		if (isRed(<span class="keyword">node</span>.<span class="title">right</span>) &amp;&amp; !isRed(<span class="keyword">node</span>.<span class="title">left</span>)) &#123;</div><div class="line">			newRoot = rotateLeft(<span class="keyword">node</span><span class="title">);</span></div><div class="line">		&#125;</div><div class="line"></div><div class="line">		if (isRed(<span class="keyword">node</span>.<span class="title">left</span>) &amp;&amp; isRed(<span class="keyword">node</span>.<span class="title">left</span>.left)) &#123;</div><div class="line">			newRoot = rotateRight(<span class="keyword">node</span><span class="title">);</span></div><div class="line">		&#125;</div><div class="line">		if (isRed(<span class="keyword">node</span>.<span class="title">left</span>) &amp;&amp; isRed(<span class="keyword">node</span>.<span class="title">right</span>)) &#123;</div><div class="line">			flipColors(<span class="keyword">node</span><span class="title">);</span></div><div class="line">		&#125;</div><div class="line"></div><div class="line">		return newRoot;</div><div class="line">	&#125;;</div><div class="line"></div><div class="line">	this.insert = function(element) &#123;</div><div class="line">		root = insertNode(root, element);</div><div class="line">		root.color = Colors.BLACK;</div><div class="line">	&#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
				</div>
				<!-- about -->
				
			</div>
			<!-- pagination -->
			
			<div class="comment-section">
	
	


</div>
		</div>
		
	</div>


		<footer>
			
<p>Powered by <a href="https://hexo.io">Hexo</a> with <a href="https://github.com/wayou/hexo-theme-material">Material</a> theme modified by <b> Huangzhike </b></p>
<p>&copy; 2018 <a href="https://huangzhike.github.io"><b> Huangzhike </b></a></p>
<a id="gotop" href="#" title="back to top"><i class="mdi-hardware-keyboard-arrow-up"></i></a>

		</footer>
	</div>
	<!-- <script src="/libs/bs/js/bootstrap.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap/3.3.4/js/bootstrap.min.js"></script> -->
	<script src="/js/highlight.js"></script> 
	<script>hljs.initHighlightingOnLoad();var timeEnd = new Date();console.log('耗时：' + (timeEnd - timeStart));</script>
	<!-- <script>(typeof $().modal == 'function')|| document.write('<script src="/libs/bs/js/bootstrap.min.js" type="text/javascript"><\/script>')</script>-->
	<!-- material design -->
	<!-- <script src="/libs/bs-material/js/ripples.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/ripples.min.js"></script> -->
	<!-- <script src="/libs/bs-material/js/material.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/bootstrap-material/0.3.0/js/material.min.js"></script>-->
	<!-- toc -->
	<!-- <script src="/libs/tocify/jquery-ui.min.js"></script> -->
	<!-- <script src="//apps.bdimg.com/libs/jqueryui/1.10.4/jquery-ui.min.js"></script> -->
	<!-- <script src="/libs/tocify/jquery.tocify.custom.js"></script> -->
	<!-- <script src="/js/main.js"></script> -->
</body>
</html>
